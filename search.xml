<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[JS30-25-Event-Capture-Propagation-Bubbling-and-Once]]></title>
    <url>%2F2018%2F04%2F23%2FJS30-25-Event-Capture-Propagation-Bubbling-and-Once%2F</url>
    <content type="text"><![CDATA[äº†è§£ addEventListener çš„é‹ä½œ ç›®æ¨™ äº†è§£ addEventListener çš„é‹ä½œ äº‹ä»¶å†’æ³¡ (Event Bubbling) åœæ­¢å†’æ³¡è¡Œç‚º e.stopPropagation() äº‹ä»¶æ•ç² (Event Capturing) å–®æ¬¡è§¸ç™¼ æˆå“ [DEMO] | [GitHub] å­¸ç¿’ç´€éŒ„äº‹ä»¶å‚³éžé †åºä½¿ç”¨ addEventListener æ™‚ï¼Œä¸ç®¡æ˜¯è¨­å®š Event Bubbling æˆ– Event Capturingï¼Œç•¶Eventè¢«è§¸ç™¼æ™‚ï¼Œéƒ½æ˜¯æœƒå…ˆå¾ž æœ€å¤–å±¤DOM èµ°åˆ° targetçš„DOM ç„¶å¾Œå†èµ°å›ž æœ€å¤–å±¤DOMï¼Œæ‰€ä»¥ç•¶ä½ è¨­å®š Event Bubbling(ç¶ è‰²è·¯å¾‘)ï¼šåªå›žå‚³ targetçš„DOM â†’â†’ æœ€å¤–å±¤DOM çš„è·¯å¾‘ Event Capturing(ç´…è‰²è·¯å¾‘)ï¼šåªå›žå‚³ æœ€å¤–å±¤DOM â†’â†’ targetçš„DOM çš„è·¯å¾‘ æ‰€ä»¥æ ¹æ“šä¸Šé¢çš„è¦å‰‡ï¼Œå¥—ç”¨åœ¨ä¸‹é¢çš„æ¡ˆä¾‹çš„è©± HTML123456789&lt;div class="one purple"&gt; ç´«è‰² &lt;div class="two pink"&gt; ç²‰è‰² &lt;div class="three orange"&gt; æ©˜è‰² &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; äº‹ä»¶å†’æ³¡ (Event Bubbling)ï¼šåªå›žå‚³ targetçš„DOM â†’â†’ æœ€å¤–å±¤DOM çš„è·¯å¾‘ äº‹ä»¶å†’æ³¡ (Event Bubbling)123456789101112131415function logText(e) &#123; // å°å‡ºç•¶å‰divçš„class name console.log(this.classList.value);&#125;// ç¬¬ä¸‰å€‹åƒæ•¸ useCaptureï¼šé è¨­ç‚º false â†’ äº‹ä»¶å†’æ³¡ (Event Bubbling)divs.forEach(div =&gt; div.addEventListener('click', logText));/*consoleåˆ—å‡ºé †åºç‚º(targetçš„DOM â†’â†’ æœ€å¤–å±¤DOM)three orangetwo pinkone purple*/ äº‹ä»¶æ•ç² (Event Capturing)ï¼šåªå›žå‚³ æœ€å¤–å±¤DOM â†’â†’ targetçš„DOM çš„è·¯å¾‘ äº‹ä»¶æ•ç² (Event Capturing)123456789101112131415function logText(e) &#123; // å°å‡ºç•¶å‰divçš„class name console.log(this.classList.value);&#125;// ç¬¬ä¸‰å€‹åƒæ•¸ useCapture ä¿®æ”¹ç‚º true â†’ äº‹ä»¶æ•ç² (Event Capturing)divs.forEach(div =&gt; div.addEventListener('click', logText, true));/*consoleåˆ—å‡ºé †åºç‚º(æœ€å¤–å±¤DOM â†’â†’ targetçš„DOM)one purpletwo pinkthree orange*/ JS-äº‹ä»¶æ©Ÿåˆ¶çš„åŽŸç† åœæ­¢å†’æ³¡è¡Œç‚º e.stopPropagation()æœ‰æ™‚åªæ˜¯æƒ³å–®ç´”é‡å°å–®ä¸€å…ƒç´ ç›£è½ï¼Œä¸æƒ³å› ç‚ºäº‹ä»¶å†’æ³¡çš„è¡Œç‚ºï¼Œè€ŒåŽ»è§¸ç™¼åˆ°å…¶ä»–å…ƒç´ ï¼Œé€™æ™‚å°±å¯åˆ©ç”¨ e.stopPropagation() ä¾†é”æˆæ­¤éœ€æ±‚ã€‚ e.stopPropagation()123456function logText(e) &#123; console.log(this.classList.value); // åœæ­¢å†’æ³¡è¡Œç‚ºï¼ e.stopPropagation();&#125; æ³¨æ„ï¼šä½¿ç”¨ e.stopPropagation() åƒ…é‡å° äº‹ä»¶å†’æ³¡ (Event Bubbling) è¨­å®šï¼Œè‹¥æ˜¯è¨­å®šç‚º äº‹ä»¶æ•ç² (Event Capturing) çš„è©±ï¼Œå‰‡ä¸é©ç”¨ e.stopPropagation()ã€‚ å–®æ¬¡è§¸ç™¼once å±¬æ€§ï¼šç•¶ç¬¬ä¸€æ¬¡è¢«è§¸ç™¼å¾Œï¼Œå°±æœƒç§»é™¤æœ¬èº«çš„ç›£è½äº‹ä»¶ï¼Œå¾ŒçºŒå°±æ²’æœ‰ç›£è½äº‹ä»¶ã€‚ ç›®å‰æƒ³åˆ°çš„å¯é‹ç”¨åœ¨è¡¨å–®submitå¾Œï¼Œè§£é™¤ç›£è½äº‹ä»¶ï¼Œé¿å…é‡è¦†é€å–®ã€‚ å–®æ¬¡è§¸ç™¼1234567// åœ¨ button çš„ addEventListener ç¬¬ä¸‰å€‹åƒæ•¸è£¡ï¼Œè¨­å®š once çš„å±¬æ€§// ç•¶ç¬¬ä¸€æ¬¡è¢«è§¸ç™¼å¾Œï¼Œå°±æœƒç§»é™¤æœ¬èº«çš„ç›£è½äº‹ä»¶ï¼Œå¾ŒçºŒå°±æ²’æœ‰ç›£è½äº‹ä»¶ã€‚button.addEventListener('click', () =&gt; &#123; console.log('Click!!!');&#125;, &#123; once: true&#125;); EventTarget.addEventListener()]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-24-Sticky-Nav]]></title>
    <url>%2F2018%2F04%2F21%2FJS30-24-Sticky-Nav%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨ä¸€äº›å°æŠ€å·§ï¼Œè™•ç†navbarçš„å‹•ç•«æ•ˆæžœã€‚ ç›®æ¨™ åˆ©ç”¨ä¸€äº›å°æŠ€å·§ï¼Œè™•ç†navbarçš„å‹•ç•«æ•ˆæžœã€‚ å¯¦è¸æ­¥é©Ÿ ç›£è½ windowçš„scroll äº‹ä»¶ æ–°å¢ž navçš„CSSæ¨£å¼ åˆ¤æ–·é é¢é«˜åº¦æ˜¯å¦å·²åˆ°é”ç‰¹å®šé«˜åº¦ï¼Œåˆ‡æ›CSS æˆå“ [DEMO] | [GitHub] å­¸ç¿’ç´€éŒ„æ­¤æ¬¡ä¸»è¦åœ¨æ–¼å‹•ç•«çš„åˆ‡æ›æ™‚ï¼Œå¯ä»¥æ³¨æ„çš„ä¸€äº›å°æŠ€å·§ ç•¶DOMå…ƒç´ positionè®Šfixedæ™‚ï¼Œè¦è£œè¶³åŽŸæœ¬ä½”æœ‰çš„ç©ºé–“ ç±ç”±scaleç¸®æ”¾çš„æ•ˆæžœï¼Œæå‡è¦–è¦ºæ„Ÿå— é‡å°fixedï¼Œæ–°å¢žçš„CSS123456789101112131415/* ç•¶æœ‰ fixed-nav æ™‚ï¼ŒæŠŠ site-wrap ç¸®æ”¾å›ž1ï¼Œè®“æ•´é«”æœ‰æ”¾å¤§æ•ˆæžœ*/.fixed-nav .site-wrap &#123; transform: scale(1);&#125;/* ç•¶æœ‰ fixed-nav æ™‚ï¼ŒæŠŠ nav å›ºå®šï¼Œä¸¦åŠ ä¸Šé™°å½±*/.fixed-nav nav &#123; position: fixed; box-shadow:0 5px 0 rgba(0,0,0,0.1);&#125;/* ç•¶æœ‰ fixed-nav æ™‚ï¼ŒæŠŠlogoå¯¬åº¦å¢žåŠ */.fixed-nav li.logo &#123; max-width: 500px;&#125; JSéƒ¨ä»½1234567891011121314151617181920212223// å–å¾— navå…ƒç´ const nav = document.querySelector('#main');// å–å¾— navé ‚éƒ¨ åˆ° &lt;body&gt;é ‚éƒ¨ çš„è·é›¢ (ç›®å‰DOMå…ƒç´ ä½æ–¼çˆ¶å…ƒç´ çš„Yåº§æ¨™)let topOfNav = nav.offsetTop;function fixNav() &#123; if (window.scrollY &gt;= topOfNav) &#123; /* æ³¨æ„ï¼š ç•¶DOMå…ƒç´ çš„ position è¢«è¨­å®šç‚º fixed æ™‚ï¼Œå°‡ä¸æœƒå†ä½”æ“šåŽŸæœ‰çš„é«˜åº¦ï¼Œ æ‰€ä»¥è¦å‹•æ…‹çš„å¢žåŠ ã€ŒåŽŸæœ¬DOMå…ƒç´ çš„offsetHeightã€ï¼Œç”¨ä¾†è£œè¶³åŽŸæœ¬DOMå…ƒç´ çš„é«˜åº¦ï¼Œ é¿å…åˆ‡æ›positionå±¬æ€§æ™‚ï¼Œé€ æˆæ€ªç•°çš„å½ˆè·³æƒ…æ³ã€‚ */ document.body.style.paddingTop = nav.offsetHeight + 'px'; document.body.classList.add('fixed-nav'); &#125; else &#123; document.body.classList.remove('fixed-nav'); document.body.style.paddingTop = 0; &#125;&#125;// ç›£è½ æ»¾å‹• äº‹ä»¶window.addEventListener('scroll', fixNav);]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-23-Speech-Synthesis]]></title>
    <url>%2F2018%2F04%2F21%2FJS30-23-Speech-Synthesis%2F</url>
    <content type="text"><![CDATA[å°‡æ–‡å­—è½‰èªžéŸ³(å¯è®Šæ›´é€ŸçŽ‡åŠéŸ³èª¿)ã€‚ ç›®æ¨™ å°‡æ–‡å­—è½‰èªžéŸ³(å¯è®Šæ›´é€ŸçŽ‡åŠéŸ³èª¿)ã€‚ å¯¦è¸æ­¥é©Ÿ å–å¾— ç›¸é—œDOMå…ƒç´  ä¸¦è¨­å®š SpeechSynthesisUtterance(èªžéŸ³è¨­å®š) ç›£è½ SpeechSynthesis(èªžéŸ³æ’­æ”¾) çš„ voiceschanged äº‹ä»¶ï¼Œå–å¾— èªžç³» ç›¸é—œè³‡æ–™ è¨­å®š ç™¼éŸ³èªžç³» ç›£è½ èªžç³»æ˜¯å¦è®Šæ›´ï¼Œæ›´æ–°èªžéŸ³è¨­å®šï¼Œä¸¦æ’­æ”¾èªžéŸ³ ç›£è½ é€ŸçŽ‡ã€éŸ³èª¿ã€æ–‡å­—å€å¡Š æ˜¯å¦è®Šæ›´ï¼Œæ›´æ–°èªžéŸ³è¨­å®šï¼Œä¸¦æ’­æ”¾èªžéŸ³ ç›£è½ buttom çš„ clickäº‹ä»¶ï¼Œæ’­æ”¾æˆ–å–æ¶ˆèªžéŸ³ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„ä¸€ã€å–å¾— ç›¸é—œDOMå…ƒç´  ä¸¦è¨­å®š SpeechSynthesisUtterance(èªžéŸ³è¨­å®š)12345678910111213// è¨­å®šèªžéŸ³æœå‹™æ‡‰è®€å–çš„æ–‡å­—å…§å®¹åŠæ’­æ”¾çš„ç´°ç¯€(èªžè¨€ã€éŸ³èª¿ã€è²éŸ³ã€é€ŸçŽ‡...ç­‰å±¬æ€§)const msg = new SpeechSynthesisUtterance();let voices = [];const voicesDropdown = document.querySelector('[name="voice"]');const options = document.querySelectorAll('[type="range"], [name="text"]');const speakButton = document.querySelector('#speak');const stopButton = document.querySelector('#stop');// è¨­å®šç™¼éŸ³çš„æ–‡å­—å…§å®¹msg.text = document.querySelector('[name="text"]').value;// å°‡ä¸€æ®µæ–‡å­—åŠ å…¥ç™¼éŸ³åº«ï¼Œæ’­æ”¾æ­¤ç™¼éŸ³ã€‚speechSynthesis.speak(msg); // æ¸¬è©¦ç”¨ äºŒã€ç›£è½ SpeechSynthesis(èªžéŸ³æ’­æ”¾) çš„ voiceschanged äº‹ä»¶ï¼Œå–å¾— èªžç³» ç›¸é—œè³‡æ–™1234567891011121314// å–å¾— èªžç³» ç›¸é—œè³‡æ–™function populateVoices() &#123; /* å–å¾— speechSynthesis ä¸­æ‰€æœ‰çš„ SpeechSynthesisVoice ç‰©ä»¶ï¼Œ è€Œç‰©ä»¶çš„å±¬æ€§ç‚º æ‰€æœ‰ç™¼éŸ³çš„è³‡è¨Š */ voices = this.getVoices(); // å–å‡ºæ‰€æœ‰èªžç³»ï¼Œçµ„æˆHTMLå¾Œï¼Œæ›´æ–°ä¸‹æ‹‰æ¸…å–®çš„å€¼ voicesDropdown.innerHTML = voices .map(voice =&gt; `&lt;option value="$&#123;voice.name&#125;"&gt;$&#123;voice.name&#125; ($&#123;voice.lang&#125;)&lt;/option&gt;`) .join('');&#125;// ç›£è½ voiceschanged äº‹ä»¶(ç•¶ SpeechSynthesisVoice æ¸…å–®æ”¹è®Šæ™‚ï¼Œå°±æœƒè§¸ç™¼æ­¤äº‹ä»¶)speechSynthesis.addEventListener('voiceschanged', populateVoices); ä¸‰ã€è¨­å®š ç™¼éŸ³èªžç³»12345// è¨­å®š ç™¼éŸ³èªžç³»function setVoice() &#123; // æ ¹æ“šselectæŒ‘é¸çš„å€¼ï¼Œå¾žæ‰€æœ‰çš„ SpeechSynthesisVoice ç‰©ä»¶ä¸­ï¼Œå–å‡ºç¬¦åˆæ¢ä»¶çš„ç‰©ä»¶ msg.voice = voices.find(voice =&gt; voice.name === this.value);&#125; å››ã€ç›£è½ èªžç³»æ˜¯å¦è®Šæ›´ï¼Œæ›´æ–°èªžéŸ³è¨­å®šï¼Œä¸¦æ’­æ”¾èªžéŸ³123456789101112131415161718192021// è¨­å®š ç™¼éŸ³èªžç³»function setVoice() &#123; // æ ¹æ“šselectæŒ‘é¸çš„å€¼ï¼Œå¾žæ‰€æœ‰çš„ SpeechSynthesisVoice ç‰©ä»¶ä¸­ï¼Œå–å‡ºç¬¦åˆæ¢ä»¶çš„ç‰©ä»¶ msg.voice = voices.find(voice =&gt; voice.name === this.value);+ // æ’­æ”¾èªžéŸ³+ toggle();&#125;+// è§¸ç™¼ æ’­æ”¾èªžéŸ³+function toggle(startOver = true) &#123;+ // ç§»é™¤æ‰€æœ‰çš„ç™¼éŸ³è³‡è¨Š+ speechSynthesis.cancel();+ // å°‡ä¸€æ®µæ–‡å­—åŠ å…¥ç™¼éŸ³åº«ï¼Œæ’­æ”¾èªžéŸ³+ if (startOver) &#123;+ speechSynthesis.speak(msg);+ &#125;+&#125;+// ç›£è½ èªžç³» æ˜¯å¦è®Šæ›´+voicesDropdown.addEventListener('change', setVoice); äº”ã€ç›£è½ é€ŸçŽ‡ã€éŸ³èª¿ã€æ–‡å­—å€å¡Š æ˜¯å¦è®Šæ›´ï¼Œæ›´æ–°èªžéŸ³è¨­å®šï¼Œä¸¦æ’­æ”¾èªžéŸ³é€éŽ DOMå…ƒç´ çš„å‘½åæ–¹å¼ï¼Œå°‡ nameå‘½å èˆ‡ SpeechSynthesisUtteranceç‰©ä»¶å±¬æ€§ å–ä¸€æ¨£åç¨±ï¼Œåœ¨äºŒé‚Šçš„é…åˆä¸‹ï¼Œé€™æ¨£å°±å¯ä»¥æ›´ç²¾ç°¡ç¨‹å¼ç¢¼ã€‚ 1234567891011121314151617// è¨­å®šé€ŸçŽ‡è·ŸéŸ³æº–function setOption() &#123; /* é€éŽ DOMå…ƒç´ çš„å‘½åæ–¹å¼ï¼Œ å°‡ nameå‘½å èˆ‡ SpeechSynthesisUtteranceç‰©ä»¶å±¬æ€§ å–ä¸€æ¨£åç¨±ï¼Œ åœ¨äºŒé‚Šçš„é…åˆä¸‹ï¼Œé€™æ¨£å°±å¯ä»¥æ›´ç²¾ç°¡ç¨‹å¼ç¢¼ã€‚ */ // æ›´æ–° èªžéŸ³è¨­å®š msg[this.name] = this.value; // æ’­æ”¾èªžéŸ³ toggle();&#125;// ç›£è½ é€ŸçŽ‡ã€éŸ³èª¿ã€æ–‡å­—å€å¡Š æ˜¯å¦è®Šæ›´options.forEach(option =&gt; option.addEventListener('change', setOption)); å…­ã€ç›£è½ buttom çš„ clickäº‹ä»¶ï¼Œæ’­æ”¾æˆ–å–æ¶ˆèªžéŸ³123456789101112131415// è§¸ç™¼ æ’­æ”¾èªžéŸ³function toggle(startOver = true) &#123; // ç§»é™¤æ‰€æœ‰çš„ç™¼éŸ³è³‡è¨Š speechSynthesis.cancel(); // å°‡ä¸€æ®µæ–‡å­—åŠ å…¥ç™¼éŸ³åº«ï¼Œæ’­æ”¾èªžéŸ³ if (startOver) &#123; speechSynthesis.speak(msg); &#125;&#125;+// æ’­æ”¾æŒ‰éˆ•+speakButton.addEventListener('click', toggle);+// åœæ­¢æŒ‰éˆ•+stopButton.addEventListener('click', () =&gt; toggle(false)); SpeechSynthesisUtterance(èªžéŸ³è¨­å®š)SpeechSynthesis(èªžéŸ³æ’­æ”¾) è§€å¿µè£œå…… åœ¨ä½¿ç”¨ addEventListener æ™‚ï¼Œè‹¥é‡åˆ°éœ€å‚³å…¥åƒæ•¸çš„è©±ï¼Œä¸å¯ç›´æŽ¥ç”¨ä¸‹åˆ—æ­¤æ–¹å¼ï¼Œæœƒå°Žè‡´åŠŸèƒ½ä¸æ­£å¸¸ã€‚ åŠŸèƒ½ä¸æ­£å¸¸12// ä¸èƒ½ç›´æŽ¥å¯« functionä¸¦åŠ ä¸Šåƒæ•¸stopButton.addEventListener('click', toggle(false)); å¯é€éŽä¸‹åˆ—äºŒç¨®æ–¹å¼ï¼Œå‚³å…¥åƒæ•¸å€¼ã€‚ è§£æ±ºæ–¹å¼1234567// å¯«æ³•1stopButton.addEventListener("click", function()&#123; toggle(false);&#125;)// å¯«æ³•2:arrow functionstopButton.addEventListener("click", () =&gt; toggle(false))]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-22-Follow-Along-Link-Highlighter]]></title>
    <url>%2F2018%2F04%2F21%2FJS30-22-Follow-Along-Link-Highlighter%2F</url>
    <content type="text"><![CDATA[æ»‘é¼ ç§»å‹•åˆ°ç‰¹å®šä½ç½®ç”¢ç”Ÿhighlightæ•ˆæžœã€‚ ç›®æ¨™ æ»‘é¼ ç§»å‹•åˆ°ç‰¹å®šä½ç½®ç”¢ç”Ÿhighlightæ•ˆæžœã€‚ å¯¦è¸æ­¥é©Ÿ å–å¾—æ‰€æœ‰ aå…ƒç´ ï¼Œä¸¦ç›£è½ mouseenter äº‹ä»¶ å»ºç«‹ä¸€å€‹ span ä¾†ç”¢ç”Ÿ highlight æ•ˆæžœ æ›´æ–°spançš„å¯¬é«˜åŠå®šä½ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„æ­¤æ¬¡çš„ç·´ç¿’ä¸»è¦åœ¨æ–¼ å¦‚ä½•æ­£ç¢ºè¨ˆç®—å…ƒç´ å®šä½åº§æ¨™(è€ƒé‡window.scrollå› ç´ ) ä¸€ã€å–å¾—æ‰€æœ‰ aå…ƒç´ ï¼Œä¸¦ç›£è½ mouseenter äº‹ä»¶123456/* step 1. å–å¾—æ‰€æœ‰ aå…ƒç´ ï¼Œä¸¦ç›£è½ mouseenter äº‹ä»¶ */// å–å¾—HTMLä¸­æ‰€æœ‰çš„aå…ƒç´ const triggers = document.querySelectorAll('a');// ç›£è½æ‰€æœ‰ aå…ƒç´  çš„ æ»‘é¼ ç§»å…¥ äº‹ä»¶triggers.forEach(a =&gt; a.addEventListener('mouseenter', highlightLink)); äºŒã€å»ºç«‹ä¸€å€‹ span ä¾†ç”¢ç”Ÿ highlight æ•ˆæžœ12345/* step 2. å»ºç«‹ä¸€å€‹ span ä¾†ç”¢ç”Ÿ highlight æ•ˆæžœ */const highlight = document.createElement('span');highlight.classList.add('highlight');// å°‡å»ºç«‹çš„ span åŠ åˆ°é é¢ä¸­document.body.append(highlight); ä¸‰ã€æ›´æ–° span çš„ å¯¬é«˜åŠå®šä½åˆç‰ˆ ä¸€é–‹å§‹é›–ç„¶æœ‰é”åˆ° highlightæ•ˆæžœï¼Œä¸éŽå› ç‚º windowæ²è»¸æ»¾å‹• çš„é—œä¿‚ï¼Œæ‰€ä»¥ç•¶æ²è»¸æœ‰å¾€ä¸‹æ»‘æ™‚ï¼Œæ­¤æ™‚å†æ›´æ–° spançš„å®šä½ å¾Œï¼Œhighlightæ•ˆæžœå°±æœƒæœ‰ä½ç½®åå·®çš„å•é¡Œï¼Œæ²’é¡¯ç¤ºåœ¨æº–ç¢ºçš„ä½ç½®ã€‚ 12345678910/* step 3. æ›´æ–°spançš„ã€Œå¯¬é«˜ã€å®šä½ã€ï¼Œè®“ highlightæ•ˆæžœ åœ¨æº–ç¢ºçš„ä½ç½® */function highlightLink() &#123; // ç›®æ¨™å…ƒç´ çš„ å¤§å° èˆ‡ ç›¸å°æ–¼ç€è¦½å™¨è¦–çª—çš„ä½ç½®è³‡è¨Š const linkCoords = this.getBoundingClientRect(); // è¨­å®š highlightæ•ˆæžœ çš„ å¯¬é«˜åŠå®šä½ highlight.style.width = `$&#123;linkCoords.width&#125;px`; highlight.style.height = `$&#123;linkCoords.height&#125;px`; highlight.style.transform = `translate($&#123;linkCoords.left&#125;px, $&#123;linkCoords.top&#125;px)`;&#125; ä¿®æ­£ç‰ˆ å› ç‚º windowæ²è»¸æ»¾å‹• çš„å› ç´ ï¼Œå¿…é ˆåŠ ä¸Š scrollç§»å‹•å€¼ï¼Œä¾†ä¿®æ­£åå·®çš„ä½ç½®ã€‚ 12345678910111213141516171819/* step 3. æ›´æ–°spançš„ã€Œå¯¬é«˜ã€å®šä½ã€ï¼Œè®“ highlightæ•ˆæžœ åœ¨æº–ç¢ºçš„ä½ç½® */function highlightLink() &#123; // ç›®æ¨™å…ƒç´ çš„ å¤§å° èˆ‡ ç›¸å°æ–¼ç€è¦½å™¨è¦–çª—çš„ä½ç½®è³‡è¨Š const linkCoords = this.getBoundingClientRect(); console.log(linkCoords);+ // å„²å­˜spançš„ã€Œå¯¬é«˜ã€å®šä½ã€ è³‡è¨Š+ const coords = &#123;+ width: linkCoords.width,+ height: linkCoords.height,+ top: linkCoords.top + window.scrollY, // å®šä½æ–°å¢ž window.scroll çš„å½±éŸ¿å› ç´ + left: linkCoords.left + window.scrollX // å®šä½æ–°å¢ž window.scroll çš„å½±éŸ¿å› ç´ + &#125;; // è¨­å®š highlightæ•ˆæžœ çš„ã€Œå¯¬é«˜ã€å®šä½ã€+ highlight.style.width = `$&#123;coords.width&#125;px`;+ highlight.style.height = `$&#123;coords.height&#125;px`;+ highlight.style.transform = `translate($&#123;coords.left&#125;px, $&#123;coords.top&#125;px)`;&#125; Element.getBoundingClientRect()]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-21-Geolocation]]></title>
    <url>%2F2018%2F04%2F21%2FJS30-21-Geolocation%2F</url>
    <content type="text"><![CDATA[å–å¾—è£ç½®çš„åœ°ç†ä½ç½®å’Œé€Ÿåº¦ã€‚ ç›®æ¨™ å–å¾—è£ç½®çš„åœ°ç†ä½ç½®å’Œé€Ÿåº¦ã€‚ å¯¦è¸æ­¥é©Ÿ åˆ©ç”¨ navigator.geolocation å–å¾—è£ç½®çš„åœ°ç†ä½ç½®å’Œé€Ÿåº¦ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„ç´€éŒ„JSå¦‚ä½•å–å¾—è£ç½®çš„åœ°ç†ä½ç½®å’Œé€Ÿåº¦ã€‚ 1234567891011121314151617// å–å¾—DOMå…ƒç´ const arrow = document.querySelector('.arrow');const speed = document.querySelector('.speed-value');// å–å¾—è£ç½®çš„åœ°ç†ä½ç½®å’Œé€Ÿåº¦navigator.geolocation.watchPosition((data) =&gt; &#123; // è‹¥æœ‰æˆåŠŸå–å¾—ï¼Œå‰‡æœƒå›žå‚³ä¸€çµ„ Position console.log(data); // data.coords.speed å–å¾— é€Ÿåº¦(å…¬å°º/ç§’) speed.textContent = data.coords.speed; // data.coords.heading å–å¾— è§’åº¦(0ç‚ºæ­£åŒ—ã€90ç‚ºæ­£æ±) arrow.style.transform = `rotate($&#123;data.coords.heading&#125;deg)`;&#125;, (err) =&gt; &#123; console.error(err);&#125;); Geolocation]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-20-Speech-Detection]]></title>
    <url>%2F2018%2F04%2F21%2FJS30-20-Speech-Detection%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨éº¥å…‹é¢¨èªªè©±ï¼Œå°‡èªžéŸ³è½‰æˆæ–‡å­—ã€‚ ç›®æ¨™ åˆ©ç”¨éº¥å…‹é¢¨èªªè©±ï¼Œå°‡èªžéŸ³è½‰æˆæ–‡å­—ã€‚ å¯¦è¸æ­¥é©Ÿ å»ºç«‹èªžéŸ³è¾¨è­˜ç‰©ä»¶ æ–°å¢žæ–‡å­—å€å¡Š ç›£è½ä¸¦å¯«å…¥èªžéŸ³è³‡æ–™ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„ç´€éŒ„JSå¦‚ä½•ä½¿ç”¨èªžéŸ³çš„ç‰©ä»¶ã€‚ ä¸€ã€å»ºç«‹èªžéŸ³è¾¨è­˜ç‰©ä»¶1234567891011/* setp 1. å»ºç«‹èªžéŸ³è¾¨è­˜ç‰©ä»¶ */// å°‡å…¨åŸŸç’°å¢ƒä¸­çš„ SpeechRecognition è¨­å®šå¥½ï¼Œæ ¹æ“šä¸åŒç€è¦½å™¨window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;// å»ºç«‹ èªžéŸ³è­˜åˆ¥åŠŸèƒ½const recognition = new SpeechRecognition();// å…è¨±èªžéŸ³è¾¨è­˜å›žå‚³è­˜åˆ¥å¾Œçš„è³‡æ–™recognition.interimResults = true;// é–‹å§‹è­˜åˆ¥recognition.start(); äºŒã€æ–°å¢žæ–‡å­—å€å¡Š1234/* setp 2. æ–°å¢žæ–‡å­—å€å¡Š */let p = document.createElement('p');const words = document.querySelector('.words');words.appendChild(p); ä¸‰ã€ç›£è½ä¸¦å¯«å…¥èªžéŸ³è³‡æ–™1234567891011121314151617181920212223242526/* setp 3. ç›£è½ä¸¦å¯«å…¥èªžéŸ³è³‡æ–™ */// ç›£è½è­˜åˆ¥å›žå‚³recognition.addEventListener('result', e =&gt; &#123; // å›žå‚³è³‡æ–™ç‚º nodelistï¼Œæ•…è½‰ç‚º array åŸ·è¡Œ const transcript = Array.from(e.results) // é€éŽ map å–å¾— é™£åˆ—çš„ç¬¬1ç­† .map(result =&gt; result[0]) // å†å–å‡ºç¬¬1ç­†çš„ transcript .map(result =&gt; result.transcript) // ç”¨ join å°‡é€£çµç¬¦è™Ÿæ¶ˆæŽ‰ .join('') // å°‡å›žå‚³çš„æ–‡å­—ï¼Œå…ˆéŽæ¿¾ é«’å­— const poopScript = transcript.replace(/poop|poo|shit|dump/gi, 'ðŸ’©'); // éŽæ¿¾å®Œå¾Œï¼Œå°‡å›žå‚³å…§å®¹å¡žåˆ° på…ƒç´  p.textContent = poopScript; // è‹¥å›žå‚³å…§å®¹å·²ç¶“çµæŸï¼Œå†é‡æ–°å»ºç«‹ä¸€å€‹æ–°çš„ på…ƒç´  ä¾†æ”¾ä¸‹ä¸€æ¬¡å…§å®¹ if (e.results[0].isFinal) &#123; p = document.createElement('p'); words.appendChild(p); &#125;&#125;)// å¦‚æžœèªžéŸ³è¾¨è­˜çµæŸï¼Œå‰‡é‡æ–°æ‰“é–‹èªžéŸ³è¾¨è­˜ã€‚recognition.addEventListener('end', recognition.start); SpeechRecognition.interimResults]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-19-Webcam-Fun]]></title>
    <url>%2F2018%2F04%2F20%2FJS30-19-Webcam-Fun%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨è¦–è¨Šé¡é ­é¡¯ç¤ºå½±ç‰‡åŠæ‹ç…§åŠŸèƒ½(+æ¿¾é¡æ•ˆæžœ)ã€‚ ç›®æ¨™ åˆ©ç”¨è¦–è¨Šé¡é ­é¡¯ç¤ºå½±ç‰‡åŠæ‹ç…§åŠŸèƒ½(+æ¿¾é¡æ•ˆæžœ)ã€‚ å¯¦è¸æ­¥é©Ÿ å–å¾—é¡é ­å½±åƒ MediaStreamå½±åƒè³‡æ–™ å¯«å…¥ canvas æ–°å¢žæ‹ç…§åŠŸèƒ½ æ–°å¢žæ¿¾é¡æ•ˆæžœ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„ç¬¬ä¸€æ¬¡ä½¿ç”¨JSä¾†æ“ä½œé¡é ­å½±åƒï¼Œæ‰€ä»¥ç´€éŒ„ä¸€ä¸‹æ•´å€‹éŽç¨‹ï¼Œæ–¹ä¾¿ä»¥å¾Œå›žæƒ³ã€‚ ä¸€ã€å–å¾—é¡é ­å½±åƒ12345678910111213141516171819202122/* step 1. å–å¾—é¡é ­å½±åƒ */function getVideo() &#123; // å–å¾— user çš„è¦–è¨Šè£ç½®ï¼Œä¸¦ä¸”å›žå‚³ Promise ç‹€æ…‹ navigator.mediaDevices.getUserMedia(&#123; video: true, // é¡é ­ audio: false // è²éŸ³ &#125;) /* å›žå‚³ MediaStream çš„è³‡æ–™ */ .then(localMediaStream =&gt; &#123; console.log(localMediaStream); /* å°‡ MediaStream å¯«é€² htmlçš„videoæ¨™ç±¤ */ video.src = window.URL.createObjectURL(localMediaStream); /* è®“é¡é ­æŒçºŒé‹ä½œ */ video.play(); &#125;) .catch(err =&gt; &#123; console.error(`!!Error!!`, err); &#125;);&#125;// å•Ÿå‹•é¡é ­getVideo(); MediaDevices.getUserMedia()HTML5 çš„ Object URL äºŒã€MediaStreamå½±åƒè³‡æ–™ å¯«å…¥ canvas1234567891011121314151617/* step 2. MediaStream å¯«å…¥ canvas */function paintToCanvas() &#123; const width = video.videoWidth; const height = video.videoHeight; canvas.width = width; canvas.height = height; // ç”¨setIntervalä¾†æŒçºŒå–å¾—ç›®å‰çš„å½±åƒè³‡è¨Š return setInterval(() =&gt; &#123; // åœ¨ canvas è¨­ç½®drawImageåƒæ•¸ç‚º (è³‡æ–™ä¾†æºvideo, èµ·å§‹ä½ç½®Xè»¸, èµ·å§‹ä½ç½®ï¼¹è»¸, é•·, å¯¬) ctx.drawImage(video, 0, 0, width, height); // ctx.drawImage(video, 0, 0, 200, 200); &#125;, 16)&#125;/* ç›£è½videoäº‹ä»¶ï¼Œæ˜¯å¦å•Ÿå‹• é¡é ­ äº†å—Ž */video.addEventListener('canplay', paintToCanvas); CanvasRenderingContext2D.drawImage() ä¸‰ã€æ–°å¢žæ‹ç…§åŠŸèƒ½12345678910111213141516171819202122/* step 3. æ–°å¢žæ‹ç…§åŠŸèƒ½ */function takePhoto() &#123; // å°‡è²éŸ³åˆ‡åˆ° ç¬¬0ç§’ ä¸¦ æ’­æ”¾ snap.currentTime = 0; snap.play(); // å°‡ canvasçš„å…§å®¹ è½‰ç‚º base64çš„åœ–æª”è³‡è¨Š const data = canvas.toDataURL('image/jpeg'); // console.log(data); // ç”¨ createElemamnt ä¾†å»ºç«‹ä¸€å€‹æ–°çš„ a å…ƒç´  const link = document.createElement('a'); // è¨­å®šé€£çµç‚º base64åœ–æª” link.href = data; // è¨­å®šå±¬æ€§ç‚ºï¼šä¸‹è¼‰ link.setAttribute('download', 'picture'); // aå…ƒç´ è£¡æ–°å¢žä¸€å€‹ img link.innerHTML = `&lt;img src="$&#123;data&#125;" alt="picture" /&gt;`; // å°‡ aå…ƒç´  æ–°å¢žè‡³ stripåœ–ç‰‡å€å¡Šï¼ˆåœ¨ç¬¬ä¸€ç­†çš„ä½ç½®ï¼‰ strip.insertBefore(link, strip.firstChild);&#125; HTMLCanvasElement.toDataURL()Node.insertBefore() å››ã€æ–°å¢žæ¿¾é¡æ•ˆæžœ123456789101112131415161718192021222324252627282930313233343536373839404142function paintToCanvas() &#123; // ...ç•¥ // ç”¨setIntervalä¾†æŒçºŒå–å¾—ç›®å‰çš„å½±åƒè³‡è¨Š return setInterval(() =&gt; &#123; // åœ¨ canvas è¨­ç½®drawImageåƒæ•¸ç‚º (è³‡æ–™ä¾†æºvideo, èµ·å§‹ä½ç½®Xè»¸, èµ·å§‹ä½ç½®ï¼¹è»¸, é•·, å¯¬) ctx.drawImage(video, 0, 0, width, height); // ctx.drawImage(video, 0, 0, 200, 200);+ /* 4. æ–°å¢žæ¿¾é¡æ•ˆæžœ */+ // é€éŽ getImageData å–å¾— canvans ä¸­æ‰€æœ‰çš„åƒç´ é»ž(r,g,b,alphaçš„è³‡è¨Š)+ let pixels = ctx.getImageData(0, 0, width, height);+ // console.log(pixels);+ // é€ç”¨æ¿¾é¡æ•ˆæžœ+ // pixels = redEffect(pixels); // 4.1æ¿¾é¡æ•ˆæžœ(ç´…è‰²)+ pixels = rgbSplit(pixels); // 4.2æ¿¾é¡æ•ˆæžœ(ä¸‰åŽŸè‰²)+ // ctx.globalAlpha = 0.1; // canvas é€æ˜Žåº¦+ // pixels = greenScreen(pixels); // 4.3æ¿¾é¡æ•ˆæžœ(ç¶ è‰²)+ // å¯«å…¥ æ¿¾é¡æ•ˆæžœ+ ctx.putImageData(pixels, 0, 0); &#125;, 16)&#125;+/* step 4-1. æ¿¾é¡æ•ˆæžœ(ç´…è‰²) */+function redEffect(pixels) &#123;+ // ...ç•¥+&#125;+/* step 4-2. æ¿¾é¡æ•ˆæžœ(ä¸‰åŽŸè‰²) */+function rgbSplit(pixels) &#123;+ // ...ç•¥+&#125;+/* step 4-3. æ¿¾é¡æ•ˆæžœ(ç¶ è‰²) */+function greenScreen(pixels) &#123;+ // ...ç•¥+&#125; canvas åœ–åƒçš„è³‡æ–™éƒ½æ˜¯æ•¸å€‹é™£åˆ—æ‰€çµ„æˆï¼Œæ•¸æ“šç‚ºæ•¸å­—ï¼Œé †åºçš†ç‚º RGBAã€‚ CanvasRenderingContext2D.getImageData()CanvasRenderingContext2D.putImageData()]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-18-Adding-Up-Times-with-Reduce]]></title>
    <url>%2F2018%2F04%2F18%2FJS30-18-Adding-Up-Times-with-Reduce%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨ map() èˆ‡ reduce() ä¾†è¨ˆç®—æ’­æ”¾æ¸…å–®çš„ç¸½ç§’æ•¸ã€‚ ç›®æ¨™ åˆ©ç”¨ map() èˆ‡ reduce() ä¾†è¨ˆç®—æ’­æ”¾æ¸…å–®çš„ç¸½ç§’æ•¸ã€‚ å¯¦è¸æ­¥é©Ÿ å–å¾—æ‰€æœ‰ data-time çš„DOMå…ƒç´ ï¼Œä¸¦è½‰æ›æˆ Arrayï¼Œä»¥ä¾¿å¯ä½¿ç”¨map..ç­‰method è¨ˆç®—å‡ºç¸½ç§’æ•¸2-1. å–å¾— æ™‚é–“(åˆ†ã€ç§’)2-2. å°‡æ™‚é–“(åˆ†ã€ç§’)è½‰åŒ–æˆæ•¸å­—åž‹æ…‹ï¼Œä¸”ç®—æˆ ç§’æ•¸2-3. æœ€å¾Œå°‡æ¯ä¸€é¦–çš„ç§’æ•¸åŠ ç¸½ å°‡ ç¸½ç§’æ•¸ è¨ˆç®—æˆ æ™‚ã€åˆ†ã€ç§’ é¡¯ç¤º3-1. å…ˆè¨ˆç®— å°æ™‚ï¼Œåªå– å•†æ•¸3-2. å‰©ä¸‹çš„ç§’æ•¸ï¼Œå†è¨ˆç®— åˆ†é˜ï¼Œåªå– å•†æ•¸3-3. æœ€å¾Œå°±æ˜¯å‰©é¤˜çš„ ç§’æ•¸ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„æ­¤æ¬¡çš„ç·´ç¿’ä¸»è¦åœ¨æ–¼ é‹ç”¨ã€Œmapã€ å¦‚ä½•ç²¾é€²Sortçš„å¯«æ³• 1.å–å¾—æ‰€æœ‰è¦è¨ˆç®—æ™‚é–“çš„å…ƒç´ 12345/* 1. å–å¾—æ‰€æœ‰ data-time çš„DOMå…ƒç´ ï¼Œä¸¦è½‰æ›æˆ Arrayï¼Œä»¥ä¾¿å¯ä½¿ç”¨map..ç­‰method */const timeNodes = Array.from(document.querySelectorAll('[data-time]'));// å¯ç°¡åŒ–å¦‚ä¸‹const timeNodes = [...document.querySelectorAll('[data-time]')]; 2.è¨ˆç®—å‡ºç¸½ç§’æ•¸1234567891011121314/* 2. è¨ˆç®—å‡ºç¸½ç§’æ•¸ */const seconds = timeNodes // å–å‡ºæ¯å€‹å…ƒç´ ä¸­çš„data-timeè³‡æ–™ .map( node =&gt; node.dataset.time ) // å°‡ åˆ†ã€ç§’ æ‹†è§£ä¸¦è½‰æˆ ç§’æ•¸ .map( time =&gt; &#123; // const [mins, secs] = time.split(':').map( str =&gt; parseFloat(str)); // å¯ç°¡åŒ–å¦‚ä¸‹ const [mins, secs] = time.split(':').map(parseFloat); return (mins * 60) + secs &#125;) // ç”¨reduceä¾†åŠ ç¸½æ¯æ¬¡åŸ·è¡Œçµæžœ .reduce( (total , second) =&gt; total + second) 3.å°‡ ç¸½ç§’æ•¸ è¨ˆç®—æˆ æ™‚ã€åˆ†ã€ç§’ é¡¯ç¤º1234567891011121314151617/* 3. å°‡ ç¸½ç§’æ•¸ è¨ˆç®—æˆ æ™‚ã€åˆ†ã€ç§’ é¡¯ç¤º */// ä½¿ç”¨Math.floorå–æ•´æ•¸ï¼Œå†åˆ©ç”¨%ä¾†æ“ä½œé¤˜æ•¸let secondsLeft = seconds;// è¨ˆç®— æ™‚æ•¸const hours = Math.floor(secondsLeft / (60 * 60));// æ‰£æŽ‰ æ™‚æ•¸// secondsLeft = secondsLeft - (hours * 3600);secondsLeft = secondsLeft % 3600;// è¨ˆç®— åˆ†é˜const minutes = Math.floor(secondsLeft / 60);// æ‰£æŽ‰ åˆ†é˜ï¼Œå‰©ä¸‹çš„å°±æ˜¯ ç§’æ•¸// secondsLeft = secondsLeft - (minutes * 60);secondsLeft = secondsLeft % 60; Array.map() å‘¼å« functionä½œè€…åœ¨ç¯„ä¾‹ä¸­ï¼Œåœ¨Array.map()åˆCall Functionï¼Œé‚„å¯ä»¥å†ç°¡åŒ–å¯«æ³•ï¼Œ ä¸éŽç›®å‰å°æˆ‘é‚„ä¸æ˜¯å¾ˆç›´è¦ºå¯ä»¥å¯«å‡ºé€™ç¨®ï¼Œå…ˆåœ¨æ­¤ç´€éŒ„ä¸€ä¸‹ã€‚ 123const [mins, secs] = time.split(':').map( str =&gt; parseFloat(str));// å¯ç°¡åŒ–å¦‚ä¸‹const [mins, secs] = time.split(':').map(parseFloat);]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-17-Sort-Without-Articles]]></title>
    <url>%2F2018%2F04%2F18%2FJS30-17-Sort-Without-Articles%2F</url>
    <content type="text"><![CDATA[å°‡é™£åˆ—ä¸­çš„è³‡æ–™ï¼ŒåŽ»é™¤å† è©ž(Articles)å¾Œï¼Œå†é€²è¡ŒæŽ’åºã€‚ ç›®æ¨™ å°‡é™£åˆ—ä¸­çš„è³‡æ–™ï¼ŒåŽ»é™¤å† è©ž(Articles)å¾Œï¼Œå†é€²è¡ŒæŽ’åºã€‚ å¯¦è¸æ­¥é©Ÿ å–å¾—é™£åˆ— åŽ»é™¤ å† è©ž çš„å­—çœ¼ sortçš„å¯«æ³• æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„æ­¤æ¬¡çš„ç·´ç¿’ä¸»è¦åœ¨æ–¼ é‹ç”¨ã€Œæ­£è¦è¡¨é”å¼ã€ å¦‚ä½•ç²¾é€²Sortçš„å¯«æ³• æ•´æ®µç¨‹å¼ç¢¼123456789101112131415161718192021222324252627282930313233343536const bands = ['The Plot in You', 'The Devil Wears Prada', 'Pierce the Veil','Norma Jean', 'The Bled', 'Say Anything', 'The Midway State','We Came as Romans', 'Counterparts', 'Oh, Sleeper', 'A Skylit Drive','Anywhere But Here', 'An Old Dog'];// åŽ»é™¤ å† è©ž çš„å­—çœ¼// ä½¿ç”¨replaceæ­é…æ­£è¦è¡¨ç¤ºå¼ä¾†å°‡åŒ…å«äº†a, the, ané–‹é ­çš„æ–‡å­—æ›¿æ›ç‚ºç©ºç™½ã€‚function strip(bandName)&#123; // ^ï¼šæ¯”å°è¼¸å…¥åˆ—çš„å•Ÿå§‹ä½ç½® // iï¼šCase-insensitive search return bandName.replace(/^(a |the |an )/i, '').trim();&#125;// sortå¯«æ³•1ï¼šconst sortBands = bands.sort((a, b) =&gt;&#123; if (strip(a) &gt; strip(b))&#123; return 1; &#125;else&#123; return -1; &#125;&#125;)// sortå¯«æ³•2ï¼šåˆ©ç”¨ ä¸‰å…ƒé‹ç®—å¼çš„ç°¡å¯«const sortBands = bands.sort((a, b) =&gt;&#123; return strip(a) &gt; strip(b) ? 1 : -1&#125;)// sortå¯«æ³•3ï¼šåˆ©ç”¨ ç®­é ­å‡½æ•¸ èˆ‡ ä¸‰å…ƒé‹ç®—å¼çš„ç°¡å¯«const sortBands = bands.sort((a, b) =&gt; strip(a) &gt; strip(b) ? 1 : -1);// å¯«å…¥HTMLdocument.querySelector('#bands').innerHTML = sortBands .map( band =&gt; `&lt;li&gt;$&#123;band&#125;&lt;/li&gt;`) .join('');]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-16-Mouse-Move-Shadow]]></title>
    <url>%2F2018%2F04%2F18%2FJS30-16-Mouse-Move-Shadow%2F</url>
    <content type="text"><![CDATA[æ»‘é¼ ç§»å‹•æ™‚ï¼Œè®“æ–‡å­—çš„é™°å½±è·Ÿè‘—ç§»å‹•ã€‚ ç›®æ¨™ æ»‘é¼ ç§»å‹•æ™‚ï¼Œè®“æ–‡å­—çš„é™°å½±è·Ÿè‘—ç§»å‹•ã€‚ å¯¦è¸æ­¥é©Ÿ å–å¾—å–å¾—æ–‡å­—å€åŸŸçš„å…ƒä»¶ ç›£è½ mousemove å–å¾— hero çš„ å¯¬ã€é«˜ å–å¾—æ»‘é¼ çš„åº§æ¨™ è¨ˆç®—ä½ç½®èˆ‡æ¯”ä¾‹ï¼Œä¿®æ”¹textShadowå±¬æ€§å€¼ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„æ­¤æ¬¡çš„ç·´ç¿’ä¸»è¦åœ¨æ–¼ åº§æ¨™é»žçš„å–å¾—ä»¥åŠè¨ˆç®— è§£æ§‹è³¦å€¼çš„é‹ç”¨ HTML123&lt;div class="hero"&gt; &lt;h1 contenteditable&gt;ðŸ‡¹ðŸ‡¼ Taiwan!&lt;/h1&gt;&lt;/div&gt; å…¨éƒ¨jsç¨‹å¼ç¢¼1234567891011121314151617181920212223242526272829303132333435363738394041424344454647const hero = document.querySelector('.hero');const text = hero.querySelector('h1');const walk = 100; //è¨­å®š text-shadow åº§æ¨™æœ€å¤§çš„åç§»ç¯„åœfunction shadow(e)&#123; // console.dir(hero); // å–å¾— hero çš„ å¯¬ã€é«˜ // const width = hero.offsetWidth; // const height = hero.offsetHeight; // å¯ç°¡å¯«å¦‚ä¸‹ const &#123;offsetWidth: width, offsetHeight: height&#125; = hero; /* å–å¾—æ»‘é¼ çš„åº§æ¨™ offsetXèˆ‡offsetYå›žå‚³çš„åº§æ¨™ï¼Œæ˜¯ä»¥ã€Œç›®å‰DOM box modelå€å¡Šç¯„åœã€ç‚ºä¸»ï¼Œ å›žå‚³æ»‘é¼ åº§æ¨™ä½æ–¼ã€Œç›®å‰çš„DOMå€å¡Šç¯„åœã€çš„å“ªè£¡ï¼Œ è€Œä¸æ˜¯ä»¥æ•´å€‹ã€Œwindowã€ç‚ºä¸»ï¼Œå¦å¤–DOMèˆ‡DOMé‡ç–Šçš„è©±ï¼Œä¾èˆŠæ˜¯åˆ†é–‹è¨ˆç®—ã€‚ è¨»ï¼šèµ·é»žç‚ºå·¦ä¸Šè§’ï¼š x:0 , y:0 ï¼Œå‘å³å¢žåŠ  x ï¼Œå‘ä¸‹å¢žåŠ  y */ let &#123;offsetX: x, offsetY: y&#125; = e; // console.log(x, y); /* è‹¥æ»‘é¼ å¾žçˆ¶å…ƒç´ ç§»åˆ°å­å…ƒç´ çš„è©±ï¼ŒoffsetXèˆ‡offsetYæœƒ æ­¸0 é‡æ–°è¨ˆç®—ï¼Œ æ‰€ä»¥éœ€è¦å°‡çˆ¶å…ƒç´ èˆ‡å­å…ƒç´ ä¹‹é–“åº§æ¨™çš„è½å·®è£œè¶³ã€‚ */ if (this !== e.target)&#123; // console.dir(e.target); x = x + e.target.offsetLeft; // ç›®å‰DOMä¹‹æ»‘é¼ çš„Xåº§æ¨™ + ç›®å‰DOMä½æ–¼çˆ¶å…ƒç´ çš„Xåº§æ¨™ y = y + e.target.offsetTop; // ç›®å‰DOMä¹‹æ»‘é¼ çš„Yåº§æ¨™ + ç›®å‰DOMä½æ–¼çˆ¶å…ƒç´ çš„Yåº§æ¨™ &#125; // console.log(x, y); /* (åº§æ¨™åœ¨heroçš„æ¯”ä¾‹ * æœ€å¤§åç§»é‡çš„å€¼) - (ä¸€åŠçš„æœ€å¤§åç§»é‡çš„å€¼) å–å¾— æ­£å€¼æˆ–è² å€¼ çš„åº§æ¨™ï¼Œå¦‚ï¼š æœ€å¤§åç§»é‡çš„å€¼=100ï¼Œå–å¾—ç¯„åœè½æ–¼ -50~50 ä¹‹é–“ */ const xWalk = Math.round((x / width * walk) - (walk / 2)); const yWalk = Math.round((y / height * walk) - (walk / 2)); text.style.textShadow = ` $&#123;xWalk&#125;px $&#123;yWalk * -0.7&#125;px 0 rgba(255,0,0,0.3), $&#123;xWalk * -1&#125;px $&#123;yWalk&#125;px 0 rgba(0,255,0,0.3), $&#123;yWalk&#125;px $&#123;xWalk * -0.5&#125;px 0 rgba(0,255,255,0.3), $&#123;yWalk * -1&#125;px $&#123;xWalk&#125;px 0 rgba(0,0,255,0.3) `;&#125;// ç›£è½æ»‘é¼ äº‹ä»¶hero.addEventListener('mousemove', shadow); è§£æ§‹è³¦å€¼(Destructuring assignment)å¾žä¸Šé¢ç¨‹å¼ç¢¼ï¼Œå°‡ä½¿ç”¨ã€Œè§£æ§‹è³¦å€¼ã€çš„åœ°æ–¹ï¼Œé¡å¤–æ‹‰å‡ºä¾† è§£æ§‹è³¦å€¼12345// å–å¾— hero çš„ å¯¬ã€é«˜const width = hero.offsetWidth;const height = hero.offsetHeight;// å¯ç°¡å¯«å¦‚ä¸‹const &#123;offsetWidth: width, offsetHeight: height&#125; = hero; è§£æ§‹è³¦å€¼1234let x = e.offsetX;let y = e.offsetY;// å¯ç°¡å¯«å¦‚ä¸‹let &#123;offsetX: x, offsetY: y&#125; = e;]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-15-LocalStorage]]></title>
    <url>%2F2018%2F04%2F18%2FJS30-15-LocalStorage%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ LocalStorage åš todolistã€‚ ç›®æ¨™ ä½¿ç”¨ LocalStorage åš todolistã€‚ å¯¦è¸æ­¥é©Ÿ inputè¼¸å…¥æ¡† å–å¾—è¼¸å…¥é …ç›®ï¼Œå„²å­˜Listæ¸…å–®çš„é …ç›® åˆ·æ–°htmlçš„Listæ¸…å–® å„²å­˜è‡³localStorage â†’ åªæŽ¥å—å­—ä¸² ULçš„Listæ¸…å–® ç›£è½æ˜¯å¦æœ‰done æ›´æ–°Listæ¸…å–®çš„é …ç›® æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„æ­¤æ¬¡ç·´ç¿’å­¸åˆ°çš„æ±è¥¿éƒ½åœ¨ä¸€äº›å°æŠ€å·§ä¸Šé¢ï¼Œæ•…ä¸€æ­¥æ­¥å°‡æ’°å¯«çš„æ­¥é©Ÿå¯«ä¸Šï¼Œä¸¦è¨»è¨˜å“ªè£¡åœ¨ç‰¹åˆ¥æ³¨æ„ã€‚ ä¸€ã€å–å¾—è¼¸å…¥é …ç›®ï¼Œä¸¦æ–°å¢žè‡³LocalStorageé è¨­å…ƒä»¶123const addItems = document.querySelector('.add-items'); //é€å‡ºæŒ‰éˆ•const itemsList = document.querySelector('.plates'); //ULæ¸…å–®const items = []; //å„²å­˜Listæ¸…å–®çš„é …ç›® ç›£è½ é€å‡ºæŒ‰éˆ•1addItems.addEventListener('submit', addItem); æ–°å¢žinputé …ç›®123456789101112131415161718192021222324252627function addItem(e)&#123; // å–æ¶ˆåŽŸæœ¬çš„é è¨­å‹•ä½œ e.preventDefault(); /* å› ç‚ºé»žæ“Šçš„å…ƒç´  = addItemsï¼Œæ‰€ä»¥å¯ä»¥ç›´æŽ¥ç”¨ this é€²è¡Œå¾ŒçºŒçš„å‹•ä½œ */ // const item = addItems.querySelector('[name="item"]'); const text = (this.querySelector('[name=item]')).value; /* ç”¢ç”Ÿæ–°ç‰©ä»¶ï¼Œç´€éŒ„è¼¸å…¥çš„æ–‡å­—èˆ‡æ˜¯å¦å‹¾é¸çš„ç‹€æ…‹(done) */ const obj = &#123; // text: item.value, //es5å¯«æ³• text, //ä½¿ç”¨es6çš„è§£æ§‹è³¦å€¼:text:text done: false &#125; // æ–°å¢žListæ¸…å–®çš„é …ç›® items.push(obj); // åˆ·æ–°htmlçš„Listæ¸…å–® populateList(items, itemsList); // é¡å¤–å°‡è³‡æ–™å­˜åœ¨localStorage localStorage.setItem('items', JSON.stringify(items)); // localStorage åªæŽ¥å—å­—ä¸² // item.value = ''; this.reset(); // resetä¹Ÿå¯æ¸…ç©ºè¡¨å–®&#125; åˆ·æ–°htmlçš„Listæ¸…å–®1234567891011/* åœ¨çµ„HTMLæ™‚ï¼Œæ–°å¢žä¸€äº›è³‡è¨Šåœ¨datasetä¸Šï¼Œä»¥ä¾›å¾ŒçºŒçš„æ“ä½œå‹•ä½œï¼Œå¯å–å¾—ç›¸é—œè³‡è¨Šã€‚ */function populateList(plates = [], platesList) &#123; platesList.innerHTML = plates.map((plate, index) =&gt; &#123; return ` &lt;li&gt; &lt;input type="checkbox" data-index=$&#123;index&#125; id="item$&#123;index&#125;" $&#123;plate.done ? 'checked' : ''&#125; /&gt; &lt;label for="item$&#123;index&#125;"&gt;$&#123;plate.text&#125;&lt;/label&gt; &lt;/li&gt; `; &#125;).join('');&#125; äºŒã€Listæ¸…å–®çš„é è¨­å€¼å› ç‚ºé‹ç”¨åˆ°localStorageå„²å­˜è³‡æ–™ï¼Œæ‰€ä»¥é‡æ–°é€²å…¥æ­¤é é¢æ™‚ï¼Œå¯ä»¥åˆ©ç”¨localStorageå–å¾—æœ€å¾Œä¸€æ¬¡çš„ç´€éŒ„ã€‚ é è¨­å…ƒä»¶12345const addItems = document.querySelector('.add-items'); //é€å‡ºæŒ‰éˆ•const itemsList = document.querySelector('.plates'); //ULæ¸…å–®//const items = []; //å„²å­˜Listæ¸…å–®çš„é …ç›®const items = JSON.parse(localStorage.getItem('items')) || []; ä¸‰ã€ç›£è½ä¸¦å„²å­˜checkboxç‹€æ…‹ç›£è½Listçš„é …ç›®1itemsList.addEventListener('click', toggleDone); 123456789101112131415161718function toggleDone(e) &#123; // åˆ¤æ–·æ˜¯ input:checkbox æ‰åŸ·è¡Œ if (!e.target.matches('input')) return; // å–å¾—checkboxçš„data-indexå€¼ const el = e.target; const index = el.dataset.index; /* ä»¥å¾€æœƒç”¨ if else åŽ»åˆ¤æ–·ï¼Œå¯ç”¨ ã€Œ!ã€ä¾†åè½‰ä¸Šæ¬¡çš„çµæžœã€‚ */ // åˆ‡æ›æ˜¯å¦å·²doneçš„flag items[index].done = !items[index].done; // æ›´æ–°localStorage localStorage.setItem('items', JSON.stringify(items)); // åˆ·æ–°htmlçš„Listæ¸…å–® populateList(items, itemsList);&#125;]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-14-JavaScript-References-VS-Copying]]></title>
    <url>%2F2018%2F04%2F18%2FJS30-14-JavaScript-References-VS-Copying%2F</url>
    <content type="text"><![CDATA[é™£åˆ—èˆ‡ç‰©ä»¶çš„å‚³å€(reference)åŠè¤‡è£½(Copying)ã€‚ ç›®æ¨™ äº†è§£é™£åˆ—èˆ‡ç‰©ä»¶çš„å‚³å€(reference)åŠè¤‡è£½(Copying)ã€‚ æˆå“ [GitHub] JSå­¸ç¿’ç´€éŒ„åž‹åˆ¥ä»‹ç´¹åŸºæœ¬åž‹åˆ¥ï¼šstringã€numberã€booleanã€nullã€undefinedé™¤äº†ä»¥ä¸Šå¹¾ç¨®ä¹‹å¤–ï¼Œå…¶ä»–éƒ½å¯ä»¥æ­¸é¡žè‡³ç‰©ä»¶åž‹åˆ¥ (Object) åŸºæœ¬åž‹åˆ¥ =&gt; å‚³å€¼(value)ç‰©ä»¶åž‹åˆ¥ =&gt; å‚³å€(reference) é™£åˆ—è¤‡è£½åˆ—å‡ºå¯å®Œæˆé™£åˆ—è¤‡è£½çš„æ–¹å¼ Array.prototype.Slice() 12const players = ['Wes', 'Sarah', 'Ryan', 'Poppy'];const team2 = players.slice(); Array.prototype.concat() 12const players = ['Wes', 'Sarah', 'Ryan', 'Poppy'];const team3 = [].concat(players); ES6 å±•é–‹é‹ç®—å­( Spread Operator ) 12const players = ['Wes', 'Sarah', 'Ryan', 'Poppy'];const team4 = [...players]; Array.from() 12const players = ['Wes', 'Sarah', 'Ryan', 'Poppy'];const team5 = Array.from(players); ç‰©ä»¶è¤‡è£½åˆ—å‡ºå¯å®Œæˆç‰©ä»¶è¤‡è£½çš„æ–¹å¼ï¼Œä»¥åŠæœ‰é›·çš„åœ°æ–¹ã€‚ Object.assign() æ·ºæ‹·è²123456const person = &#123; name: 'Wes Bos', age: 80&#125;;const cap2 = Object.assign(&#123;&#125;, person); JSON.parse() &amp; JSON.stringify() JSONè½‰æ›1234567891011121314const wes = &#123; name: 'Wes', age: 100, social: &#123; twitter: '@wesbos', facebook: 'wesbos.developer' &#125;&#125;;// Object.assign åªèƒ½æ·ºè¤‡è£½ä¸€å±¤ï¼Œè‹¥ç¬¬äºŒå±¤ä»¥ä¸Šä¾èˆŠæ˜¯ å‚³å€(reference)const dev = Object.assign(&#123;&#125;, wes);// é€éŽJSONè½‰å­—ä¸²å¾Œï¼Œåˆ©ç”¨å‚³å€¼çš„ç‰¹æ€§è¤‡è£½çµ¦æ–°è®Šæ•¸å¾Œï¼Œç„¶å¾Œè½‰å›žç‰©ä»¶åž‹æ…‹ï¼Œé”åˆ°å¯è¤‡è£½äºŒå±¤ä»¥ä¸Šçš„ç‰©ä»¶ã€‚const dev2 = JSON.parse(JSON.stringify(wes)); ç‰¹ä¾‹ï¼šåƒ function æ²’è¾¦æ³•è½‰æˆ JSON å†è½‰å›žä¾†ï¼Œè¤‡è£½çš„functionæœƒç›´æŽ¥æ¶ˆå¤± JSONè½‰æ›å¤±æ•—æ¡ˆä¾‹123456789var obj1 = &#123; fun: function()&#123; console.log(123) &#125;&#125;;var obj2 = JSON.parse(JSON.stringify(obj1));console.log(typeof obj1.fun); // 'function'console.log(typeof obj2.fun); // 'undefined' &lt;-- æ²’è¤‡è£½ èˆŠæ–‡åƒè€ƒï¼šJS-æ·ºæ‹·è²(Shallow Copy) VS æ·±æ‹·è²(Deep Copy)JS-é™£åˆ—(Array)-æ·ºæ‹·è²ä½œæ³•]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-13-Slide-in-on-Scroll]]></title>
    <url>%2F2018%2F04%2F09%2FJS30-13-Slide-in-on-Scroll%2F</url>
    <content type="text"><![CDATA[æ»¾å‹•æ²è»¸ï¼Œä½¿åœ–ç‰‡æ»‘å‹•é¡¯ç¤ºã€‚ ç›®æ¨™ ç•¶æ»¾å‹•æ²è»¸åˆ°ã€Œç‰¹å®šå®šé»žã€æ™‚ï¼Œä½¿åœ–ç‰‡æ»‘å‹•é¡¯ç¤ºã€‚ å¯¦è¸æ­¥é©Ÿ CSSçš„å‹•ç•«æ•ˆæžœ transition transformã€translateXã€scale ç›£è½scrollæ»¾å‹•äº‹ä»¶ï¼Œä¸¦å–å¾—ç›¸é—œé«˜åº¦çš„è³‡è¨Šï¼Œé€²è¡Œåˆ¤æ–· window.scrollY window.innerHeight HTMLElement.height HTMLElement.offsetTop æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„æ¸›ç·©å‘¼å«functionçš„æ™‚é–“å› ç‚ºç›£è½scrollçš„äº‹ä»¶ï¼Œç•¶ç•«é¢æ»¾å‹•æ™‚ï¼Œæœƒåœ¨çŸ­æ™‚é–“è§¸ç™¼å¥½å¹¾æ¬¡Eventï¼Œæ‰€ä»¥ç‚ºäº†é™ä½Žå°æ•ˆèƒ½ä¸Šçš„å½±éŸ¿ï¼Œä½œè€…å¯«äº†ä¸€å€‹debounceçš„å‡½å¼ï¼Œç”¨ä¾†é™ä½Žè§¸ç™¼çš„é–“éš”æ™‚é–“ã€‚ 123456789101112131415161718// æ¸›ç·©å‘¼å«functionçš„æ™‚é–“function debounce(func, wait = 20, immediate = true) &#123; var timeout; return function() &#123; var context = this, args = arguments; var later = function() &#123; timeout = null; if (!immediate) func.apply(context, args); &#125;; var callNow = immediate &amp;&amp; !timeout; clearTimeout(timeout); timeout = setTimeout(later, wait); if (callNow) func.apply(context, args); &#125;;&#125;// å‘¼å« funtionwindow.addEventListener('scroll', debounce(handleShowImage)); å„ç¨®é«˜åº¦çš„å–å¾—åŠé‹ç”¨é«˜åº¦çš„é‹ç”¨123456789101112131415161718192021function handleShowImage(e)&#123; slideImages.forEach( sliderImage =&gt; &#123; // å–å¾— åœ–ç‰‡1/2çš„åº§æ¨™é»žï¼ˆå·è»¸åž‚ç›´ä½ç§»é‡ï¼‹è¦–çª—é«˜åº¦ï¼‰- 1/2åœ–ç‰‡é«˜åº¦ const slideInAt = (window.scrollY + window.innerHeight) - sliderImage.height / 2; // å–å¾— åœ–ç‰‡åº•éƒ¨åº§æ¨™é»žï¼ˆåœ–ç‰‡é ‚éƒ¨åº§æ¨™é»ž + åœ–ç‰‡é«˜åº¦ï¼‰ const imageBottom = sliderImage.offsetTop + sliderImage.height; // åˆ¤æ–· è¦–çª— æ˜¯å¦å·²ç¶“è¶…éŽ åœ–ç‰‡é«˜åº¦ä¸€åŠ const ishalf = slideInAt &gt; sliderImage.offsetTop; // åˆ¤æ–· æ»¾å‹•ç¯„åœ æ˜¯å¦å·²ç¶“è¶…éŽ åœ–ç‰‡åº•éƒ¨ const isNotOver = imageBottom &gt; window.scrollY; // è¶…éŽåœ–ç‰‡é«˜åº¦ä¸€åŠ ä¸” æœªè¶…éŽåœ–ç‰‡åº•éƒ¨ï¼Œå‰‡é¡¯ç¤º if ( ishalf &amp;&amp; isNotOver)&#123; sliderImage.classList.add('active'); &#125;else&#123; sliderImage.classList.remove('active'); &#125; &#125;)&#125; window.scrollYç›®å‰ç€è¦½å™¨è¦–çª—å·²æ»¾å‹•çš„Yè»¸ï¼ˆåž‚ç›´ä½ç½®ï¼‰ window.innerHeightç›®å‰ç€è¦½å™¨è¦–çª—çš„é«˜åº¦ HTMLElement.heightå…ƒç´ æœ¬èº«çš„é«˜åº¦ HTMLElement.offsetTopå–å¾— å…ƒç´ ç›¸å°æ–¼åœ¨çˆ¶å…ƒç´ é ‚éƒ¨è·é›¢çš„ä½ç½®]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-12-Key-Sequence-Detection]]></title>
    <url>%2F2018%2F03%2F31%2FJS30-12-Key-Sequence-Detection%2F</url>
    <content type="text"><![CDATA[è¼¸å…¥éš±è—æŒ‡ä»¤å¾Œï¼Œè§¸ç™¼ç‰¹æ•ˆçš„æ•ˆæžœã€‚ ç›®æ¨™ ç¶²é è¼¸å…¥ã€Œéš±è—æŒ‡ä»¤ã€å¾Œï¼Œè§¸ç™¼ç‰¹æ•ˆçš„æ•ˆæžœ å¯¦è¸æ­¥é©Ÿ ç›£è½ window çš„ keyup äº‹ä»¶ window.addEventListener(â€˜keydownâ€™, function) åˆ¤æ–·è¼¸å…¥çš„éš±è—æŒ‡ä»¤ï¼Œæ˜¯å¦æ­£ç¢ºã€‚ åˆ©ç”¨ e.key å–å¾—éµç›¤çš„å€¼ ç±ç”± splice()ã€join()ã€includes() æ­é…ä½¿ç”¨é€²è¡Œåˆ¤æ–·ã€‚ æˆå“ [DEMO] | [GitHub] éš±è—æŒ‡ä»¤ï¼škanboo JSå­¸ç¿’ç´€éŒ„æ€è€ƒï¼šå¦‚ä½•åˆªé™¤å¤šé¤˜çš„å­—å…ƒQ ä¸»è¦æ€è€ƒçš„é»žæ˜¯æ¯æ¬¡éµç›¤è¼¸å…¥å¾Œï¼Œåªç•™ä¸‹éš±è—æŒ‡ä»¤çš„é•·åº¦ï¼Œè€Œå°‡å¤šé¤˜çš„å­—å…ƒåˆªé™¤å‘¢ï¼Ÿ A å› ç‚ºæ¯æ¬¡ push éƒ½åŠ é€²Arrayæœ€å¾Œé¢çš„ä½ç½®ï¼Œæ‰€ä»¥å°±ä»£è¡¨å¤šé¤˜çš„å­—å…ƒæ˜¯åœ¨å‰é¢çš„ä½ç½®ï¼Œ æ‰€ä»¥æˆ‘çš„æ€ç¶­æ˜¯ã€Œå¾žå‰é¢æ‰£æŽ‰ å¤šé¤˜çš„å­—å…ƒ(éµç›¤è¼¸å…¥ç¸½é•·åº¦-éš±è—æŒ‡ä»¤é•·åº¦)ã€ã€‚ å¾žå‰é¢è¨ˆç®—12// åªä¿ç•™èˆ‡superKeyä¸€æ¨£é•·åº¦çš„å­—å…ƒï¼Œå¤šé¤˜çš„åŽ»é™¤æŽ‰ï¼Œé¿å…å¤ªéŽå†—é•·ä¸å¥½çœ‹ã€‚keyArr.splice(0, keyArr.length - superKey.length); ä¸‹ä¾‹ç‚ºå½±ç‰‡ä½œè€…çš„å¯«æ³•ï¼Œé™„ä¸Šåƒè€ƒã€‚ ä½œè€…å¯«æ³•ï¼šå¾žå¾Œå¾€å‰è¨ˆç®—1keyArr.splice(-superKey.length - 1, keyArr.length - superKey.length); JSç¨‹å¼ç¢¼ ç¨‹å¼ç¢¼ä¸å¤šï¼Œå°±ç›´æŽ¥è²¼ä¸Šä¾†ï¼Œæ–¹ä¾¿çœ‹ã€‚ æ•´æ®µç¨‹å¼ç¢¼123456789101112131415161718const superKey = 'kanboo'; // éš±è—æŒ‡ä»¤const keyArr = []; // æš«å­˜éµç›¤è¼¸å…¥function isSuperKey(e)&#123; keyArr.push(e.key); // åªä¿ç•™èˆ‡superKeyä¸€æ¨£é•·åº¦çš„å­—å…ƒï¼Œå¤šé¤˜çš„åŽ»é™¤æŽ‰ï¼Œé¿å…å¤ªéŽå†—é•·ä¸å¥½çœ‹ã€‚ keyArr.splice(0, keyArr.length - superKey.length); // ä½œè€…å¯«æ³•ï¼šå¾žå¾Œå¾€å‰è¨ˆç®— // keyArr.splice(-superKey.length - 1, keyArr.length - superKey.length); if ( keyArr.join('').includes(superKey))&#123; cornify_add(); &#125;&#125;window.addEventListener('keydown', isSuperKey); è£œå……ï¼šå­—ä¸²æ¯”å°çœ‹åˆ°Guahsuå¤§çš„æ–‡ç« ï¼Œæœ‰æ•´ç†é—œæ–¼å­—ä¸²æ¯”å°çš„å„ç¨®æ–¹å¼ï¼Œè¦ºå¾—éžå¸¸å¯¦ç”¨ï¼Œç­†è¨˜â€¦ æ–¹ä¾¿ä»¥å¾Œå¯å¿«é€Ÿæœå°‹ã€‚ å„ç¨®åˆ¤æ–·çš„æ–¹å¼12345678910111213141516171819202122232425var str = 'abcde';var check1 = 'ab'; //åŒ…å«abï¼ŒæœŸå¾…å€¼æ˜¯truevar check2 = 'ac'; //åŒ…å«acï¼ŒæœŸå¾…å€¼æ˜¯false//ç”¨includes()ä¾†å–å¾—true/falsestr.includes(check1); //truestr.includes(check2); //false//ç”¨match()ä¾†è™•ç†ï¼Œåˆ¤æ–·æ˜¯å¦ç‚º null ä¾†å–å¾—true/falsestr.match(check1); // objectstr.match(check2); // null//ç”¨indexOf()ä¾†è™•ç†ï¼Œåˆ¤æ–·æ˜¯å¦ç‚º -1 ä¾†å–å¾—true/falsestr.indexOf(check1); // 0str.indexOf(check2); // -1//ç”¨search()ï¼Œåˆ¤æ–·æ˜¯å¦ç‚º -1 ä¾†å–å¾—true/falsestr.search(check1); // 0str.search(check2); // -1//ç”¨RegExpæ­£è¦è¡¨ç¤ºå¼ä¾†å–å¾—true/falsevar reg1 = /ab/;var reg2 = /ac/;reg1.test(str); // truereg2.test(str); // false Guahsu-æŽ¢ç´¢]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-11-Custom-Video-Player]]></title>
    <url>%2F2018%2F03%2F28%2FJS30-11-Custom-Video-Player%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨Videoå±¬æ€§åŠMethodä¾†è®Šæ›´æ’­æ”¾å™¨çš„åŠŸèƒ½ï¼Œæ’­æ”¾/æš«åœã€å¿«é€²/å¿«é€€ã€éŸ³é‡æŽ§åˆ¶ã€å€æ•¸æŽ§åˆ¶ã€‚ ç›®æ¨™ å¯¦ç¾æ’­æ”¾å™¨åŠŸèƒ½ æ’­æ”¾/æš«åœ å¿«é€²/å¿«é€€ éŸ³é‡æŽ§åˆ¶ å€æ•¸æŽ§åˆ¶ å¯¦è¸æ­¥é©Ÿ å–å¾—æ‰€æœ‰video DOMå…ƒç´  æ’°å¯«Function ä¸¦ ç›£è½DOMå…ƒç´  ç›£è½ video æ’­æ”¾æˆ–æš«åœ â†’å»¶ä¼¸â†’ åˆ‡æ›æ’­æ”¾çš„icon é€²åº¦æ¢æ›´æ–°ç›®å‰æ’­æ”¾æ™‚é–“ é€²åº¦æ¢ç›£è½æ˜¯å¦æœ‰åˆ‡æ›videoæ’­æ”¾æ™‚é–“ èª¿æ•´ è²éŸ³ã€æ’­æ”¾å€æ•¸ é€²ã€å¿«é€€(+25 or -10) æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„video æ’­æ”¾æˆ–æš«åœJS1234567891011121314151617function togglePlay(e)&#123; const method = video.paused ? 'play' : 'pause'; video[method](); // è§¸ç™¼å½±ç‰‡APIï¼Œç•¶æœ‰æ›´æ–°æ™‚ï¼Œé€£å‹•æœƒè§¸ç™¼æœ¬èº«çš„Event &#125;// åˆ‡æ›iconfunction updateButton() &#123; const icon = this.paused ? 'â–º' : 'âš âš'; toggleBtn.textContent = icon;&#125;video.addEventListener('click',togglePlay); //é»žæ“Š å½±ç‰‡çš„ä»»ä½•ä½ç½®toggleBtn.addEventListener('click',togglePlay); //é»žæ“Š icon// ç›£è½å½±ç‰‡æœ¬èº«çš„Eventï¼Œé”åˆ°åˆ‡æ›æ’­æ”¾çš„iconvideo.addEventListener('play', updateButton);video.addEventListener('pause', updateButton); ä¸Šä¾‹æ¯”è¼ƒç‰¹åˆ¥çš„åœ°æ–¹æ˜¯åœ¨ togglePlay() è£¡çš„ video[method]() é€™å€‹å¯«æ³•ï¼Œ åŽŸæœ¬æœƒå¯«æˆ video.play() å’Œ video.pause() ä¾†å‘¼å«å½±ç‰‡methodï¼Œ æ‰€ä»¥ä¹Ÿå¯ä½¿ç”¨ video[method]() å‘¼å«methodã€‚ HTMLMediaElement.play()HTMLMediaElement.paused() é€²åº¦æ¢æ›´æ–°ç›®å‰æ’­æ”¾æ™‚é–“å› ç‚ºå½±ç‰‡æœƒä¸€ç›´æŒçºŒæ’­æ”¾ï¼Œæ‰€ä»¥æˆ‘å€‘ä¹Ÿè¦æŒçºŒæ›´æ–° é€²åº¦æ¢UI ç•«é¢ã€‚ JS123456789function handleProgress(e)&#123; // video.currentTime ç›®å‰æ’­æ”¾æ™‚é–“ // video.duration å±¬æ€§è¿”å›žç•¶å‰éŸ³é »/è¦–é »çš„é•·åº¦ï¼Œä»¥ç§’è¨ˆã€‚ const percent = (video.currentTime / video.duration) * 100; // console.log(video.currentTime, video.duration, percent); progressBar.style.flexBasis = `$&#123;percent&#125;%`;&#125;video.addEventListener('progress', handleProgress); ä½œè€…æœ‰æåˆ°é—œæ–¼ video æœ‰å…©å€‹ç›£è½åƒæ•¸ timeupdateã€progressï¼Œéƒ½å¯ä»¥åšç‚ºå½±ç‰‡æ™‚é–“è®Šå‹•æ™‚çš„è§¸ç™¼æ¢ä»¶ï¼ŒäºŒè€…å·®ç•°å¦‚ä¸‹ï¼š progressï¼šæœƒåœ¨è¼‰å…¥æ™‚ï¼Œå°±é–‹å§‹è§¸ç™¼ timeupdateï¼šæœƒåœ¨å•Ÿå‹•æ’­æ”¾å¾Œï¼Œæ‰é–‹å§‹è§¸ç™¼ æ‰€ä»¥å»ºè­°ä½¿ç”¨ progress ææ—©è§¸ç™¼ã€‚ progresstimeupdate é€²åº¦æ¢ç›£è½æ˜¯å¦æœ‰åˆ‡æ›videoæ’­æ”¾æ™‚é–“åˆ¤æ–·Useræ˜¯å¦æœ‰åœ¨ é€²åº¦æ¢ åš è®Šæ›´videoæ™‚é–“ çš„å‹•ä½œï¼Œç•¶ç¬¦åˆæ“ä½œæ¢ä»¶æ™‚ï¼Œå°±è®Šæ›´ç›®å‰å½±ç‰‡çš„æ’­æ”¾æ™‚é–“ã€‚ JS1234567891011121314151617181920212223242526272829303132const progress = document.querySelector('.progress'); // é€²åº¦æ¢DOMå…ƒç´ function scrub(e) &#123; // e.offsetX å–å¾—æ»‘é¼ é»žæ“Šçš„ä½ç½® // progress.offsetWidth é€²åº¦æ¢çš„ç¸½å¯¬åº¦ // video.duration å±¬æ€§è¿”å›žç•¶å‰éŸ³é »/è¦–é »çš„é•·åº¦ï¼Œä»¥ç§’è¨ˆã€‚ // console.log(e.offsetX, progress.offsetWidth, video.duration); const scrubTime = (e.offsetX / progress.offsetWidth) * video.duration; video.currentTime = scrubTime; // æ›´æ”¹å½±ç‰‡çš„æ’­æ”¾æ™‚é–“&#125;let mousedown = false; //åˆ¤æ–·æ»‘é¼ æ˜¯å¦æœ‰é»žæ“Šprogress.addEventListener('click', scrub); //ç›£è½ é€²åº¦æ¢DOMå…ƒç´ /* æ­¤æ®µç¨‹å¼ç¢¼ï¼Œå¯ç°¡å¯«ç‚ºä¸‹é¢ç¨‹å¼ç¢¼progress.addEventListener('mousemove', (e) =&gt; &#123; if (mousedown) &#123; scrub(e); &#125;&#125;);*/// ç›£è½ æ»‘é¼ æ»‘å‹• æ™‚ï¼Œè‹¥ æ»‘é¼ ç‚ºdown çš„ç‹€æ…‹æ™‚ï¼Œå°±å‘¼å« scrub çš„methodã€‚progress.addEventListener('mousemove', (e) =&gt; mousedown &amp;&amp; scrub(e)); // ç›£è½æ»‘é¼ æ˜¯å¦æ˜¯ down æˆ– up çš„ç‹€æ…‹progress.addEventListener('mousedown', () =&gt; mousedown = true);progress.addEventListener('mouseup', () =&gt; mousedown = false); HTMLMediaElement.currentTime è®Šæ›´ è²éŸ³ã€æ’­æ”¾å€æ•¸åˆ©ç”¨ JS å–å¾—DOMå…ƒç´ çš„nameã€valueçš„å€¼ï¼Œé€²è€Œæ›´æ–°videoçš„å±¬æ€§ã€‚ HTML1234&lt;!-- è²éŸ³ --&gt;&lt;input type="range" name="volume" class="player__slider" min="0" max="1" step="0.05" value="1"&gt;&lt;!-- æ’­æ”¾å€æ•¸ --&gt;&lt;input type="range" name="playbackRate" class="player__slider" min="0.5" max="2" step="0.1" value="1"&gt; JS123456function handleRangeUpdate() &#123; video[this.name] = this.value;&#125;ranges.forEach(range =&gt; range.addEventListener('change', handleRangeUpdate));ranges.forEach(range =&gt; range.addEventListener('mousemove', handleRangeUpdate)); HTMLMediaElement.volumeHTMLMediaElement.playbackRate å¿«é€²ã€å¿«é€€(+25 or -10)åˆ©ç”¨ JS å–å¾—DOMå…ƒç´ datasetçš„å€¼ï¼Œé€²è€Œæ›´æ–°videoçš„å±¬æ€§ã€‚ HTML1234&lt;!-- å¿«é€€ --&gt;&lt;button data-skip="-10" class="player__button"&gt;Â« 10s&lt;/button&gt;&lt;!-- å¿«é€² --&gt;&lt;button data-skip="25" class="player__button"&gt;25s Â»&lt;/button&gt; JS123456function skip() &#123; // datasetå€¼æ˜¯å­—ä¸²ï¼Œåˆ©ç”¨parseFloatéœ€è½‰æ›æˆæ•¸å­—åž‹æ…‹ video.currentTime += parseFloat(this.dataset.skip); &#125;skipButtons.forEach(button =&gt; button.addEventListener('click', skip));]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-10-Hold-Shift-and-Check-Checkboxes]]></title>
    <url>%2F2018%2F03%2F03%2FJS30-10-Hold-Shift-and-Check-Checkboxes%2F</url>
    <content type="text"><![CDATA[æ­é… Shift + æ»‘é¼  å‹¾é¸å¤šå€‹Checkbox ç›®æ¨™ åˆ©ç”¨ Shift + æ»‘é¼ é»žæ“Š å®Œæˆå‹¾é¸ç¯„åœçš„é …ç›® å¯¦è¸æ­¥é©Ÿ å–å¾—æ‰€æœ‰çš„ checkboxå…ƒç´ ï¼Œä¸¦ä¸”ç›£è½ click äº‹ä»¶ åˆ©ç”¨è®Šæ•¸ç´€éŒ„ å‰æ¬¡ èˆ‡ é€™æ¬¡ çš„é»žæ“Šé …ç›®ï¼Œè¨ˆç®—å‡ºäºŒè€…ä¹‹é–“çš„ç¯„åœï¼Œå®Œæˆå‹¾é¸ç¯„åœçš„é …ç›® lastChooise è¨˜éŒ„æœ€å¾Œé¸æ“‡é …ç›® e.shiftKey åˆ¤æ–·æœ‰ç„¡æŒ‰Shiftéµ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„æ€è€ƒï¼šå¦‚ä½•ç¯©é¸å‡ºç¯„åœæƒ³æ³•1(æˆ‘çš„æƒ³æ³•)ï¼š ç´€éŒ„ æœ€å¾Œä¸€æ¬¡çš„é»žæ“Šé …ç›® åˆ¤æ–· ç›®å‰é»žæ“Šé …ç›® æ˜¯åœ¨ æœ€å¾Œä¸€æ¬¡é»žæ“Šé …ç›® çš„ä¸Šé¢æˆ–ä¸‹é¢ å…ˆçˆ¬ä¸Šä¸€æ¬¡ å†çˆ¬ä¸‹ä¸€æ¬¡ çŸ¥é“æ–¹å‘å¾Œï¼Œå†ç”± ç›®å‰é»žæ“Šé …ç›® loopè‡³ æœ€å¾Œä¸€æ¬¡é»žæ“Šé …ç›®ï¼Œå®Œæˆå‹¾é¸ç¯„åœçš„é …ç›® æƒ³æ³•2(ä½œè€…ä½œæ³•)ï¼š ç´€éŒ„ æœ€å¾Œä¸€æ¬¡çš„é»žæ“Šé …ç›® é‡æ–°åˆ°å°¾loop ä¸€æ¬¡ å°‡ç¬¬ä¸€å€‹é‡åˆ°çš„ã€ŒcurrentChooise æˆ– lastChooiseã€ç•¶èµ·é ­ æœ€å¾ŒçµæŸçš„æ™‚æ©Ÿé»žï¼Œå°±åˆ©ç”¨å‰©ä¸‹é‚„æ²’é‡åˆ°çš„ ã€ŒcurrentChooise æˆ– lastChooiseã€ç•¶çµå°¾ï¼Œ ç”±æ­¤åŠƒåˆ†å‡º currentChooise èˆ‡ lastChooise ä¹‹é–“çš„ç¯„åœ ç”±ä¸Šè¿°çš„ æƒ³æ³•1 å’Œ æƒ³æ³•2 ä¾†æ¯”è¼ƒçš„è©±ï¼Œæƒ³æ³•1 åœ¨éŽç¨‹ä¸­å°±å¤šè·‘äº†å¥½å¹¾æ¬¡loopä¾†åˆ¤æ–·ä¸€äº›äº‹é …ï¼Œæ‰èƒ½é”åˆ°çµæžœï¼Œæ‰€ä»¥åœ¨æ­¤æ¬¡ç·´ç¿’ä¸­ï¼Œåˆå­¸åˆ°äº†æ–°çš„æ€ç¶­ã€‚ JSç¨‹å¼ç¢¼ å› ç‚ºç¨‹å¼ç¢¼ä¸å¤šï¼Œå°±ç›´æŽ¥è²¼ä¸Šä¾†ï¼Œæ–¹ä¾¿çœ‹ã€‚ æ•´æ®µç¨‹å¼ç¢¼1234567891011121314151617181920212223242526272829303132const checkboxs = document.querySelectorAll('[type="checkbox"]');let lastChooise = null;function handleCheck(e)&#123;// console.log(e);let isInChooiseScope = false;if (e.shiftKey === true &amp;&amp; this.checked === true &amp;&amp; lastChooise !== this &amp;&amp; lastChooise !== null)&#123; checkboxs.forEach( checkbox =&gt; &#123; // é‡é»žï¼š // åˆ©ç”¨loopå¾žé ­åˆ°å°¾è¿­ä»£çš„ç‰¹æ€§ï¼Œå°‡ç¬¬ä¸€å€‹é‡åˆ°çš„ã€ŒcurrentChooise æˆ– lastChooiseã€ç•¶èµ·é ­ // æœ€å¾ŒçµæŸçš„æ™‚æ©Ÿé»žï¼Œå°±åˆ©ç”¨å‰©ä¸‹é‚„æ²’é‡åˆ°çš„ ã€ŒcurrentChooise æˆ– lastChooiseã€ç•¶çµå°¾ï¼Œ // ç”±æ­¤åŠƒåˆ†å‡º currentChooise èˆ‡ lastChooise ä¹‹é–“çš„ç¯„åœ if ( checkbox === this || checkbox === lastChooise)&#123; isInChooiseScope = !isInChooiseScope; &#125; if (isInChooiseScope)&#123; // checkbox.setAttribute('checked', true); // ä¸Šä¸‹äºŒè€…çµæžœçš†ç›¸åŒ checkbox.checked = true; &#125; &#125;)&#125;lastChooise = this;&#125;checkboxs.forEach( checkbox =&gt; checkbox.addEventListener('click', handleCheck))]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-09-Dev-Tools-Domination]]></title>
    <url>%2F2018%2F03%2F01%2FJS30-09-Dev-Tools-Domination%2F</url>
    <content type="text"><![CDATA[å­¸ç¿’Chrome Debug çš„å·¥å…· ç›®æ¨™ å¦‚ä½•è§€å¯Ÿ DOM çš„è®ŠåŒ–èˆ‡æŸ¥çœ‹ç‹€æ…‹ console çš„å„ç¨®ç”¨æ³• æˆå“ [DEMO] | [GitHub] å…­è§’å­¸é™¢-Chrome ç¶²é é™¤éŒ¯åŠŸèƒ½å¤§è§£å¯†å®˜æ–¹-Console API åƒè€ƒ DOM BREAK ONä»‹ç´¹ DOM çš„ä¸­æ–·é»žæ¨¡å¼ï¼Œåˆ†åˆ¥æœ‰ä¸‰ç¨®è§¸ç™¼æ¨¡å¼å¯é¸ï¼ˆå¯è¤‡é¸ï¼‰ subtree modifications: ç•¶å­å…ƒç´ é»žç™¼ç”Ÿè®ŠåŒ–æ™‚ arrtibute modifications: ç•¶å…ƒç´ ç™¼ç”Ÿè®ŠåŒ–æ™‚ node removal: ç•¶å…ƒç´ è¢«ç§»é™¤æ™‚ CONSOLEconsole.log()é™¤äº†ä¸€èˆ¬æˆ‘å€‘æœ€å¸¸ç”¨çš„ log ä¹‹å¤–ï¼Œé‚„å¯å¦å¤–æ–°å¢ž è®Šæ•¸ ï¼Œå¢žåŠ è¨Šæ¯çš„è®ŠåŒ– %sï¼šå¯å¸¶å…¥ æŒ‡å®šçš„åƒæ•¸ %cï¼šå¯æ–°å¢ž cssæ¨£å¼ console.warn()log å¤šé¡¯ç¤ºç‚º è­¦å‘Šicon console.error()log å¤šé¡¯ç¤ºç‚º éŒ¯èª¤icon console.info()å¤±æ•ˆï¼Œæ²’æœ‰é¡¯ç¤ºã€Œå¸¶ç™½è‰²â€œiâ€çš„è—è‰²åœ“åœˆã€ console.assert()å¯é¡å¤–ç”¨ä¾†åˆ¤æ–·ï¼Œè‹¥æ¢ä»¶ç‚º false æ™‚ï¼Œæ‰æœƒé¡¯ç¤º éŒ¯èª¤è¨Šæ¯ã€‚ console.clear()æ¸…é™¤å…¨éƒ¨logã€‚ console.dir()å¯é¡¯ç¤ºå‡ºç‰©ä»¶çš„ç´°ç¯€è³‡æ–™ï¼Œå¦‚ï¼šDOMå…ƒç´ ã€Functionâ€¦ console.groupCollapsed() &amp; console.groupEnd()å¯å°‡ä¸€ç¾¤ç›¸é—œè¨Šæ¯æ‰“æˆä¸€åŒ…ï¼Œé€™æ¨£è¼ƒæ˜“ æª¢æŸ¥ç¢ºèªã€‚ console.count()å¯é¡¯ç¤º ç´¯åŠ å‡ºç¾çš„æ¬¡æ•¸ã€‚ console.time() &amp; console.timeEnd()å¯ç”¨æ–¼è¨ˆç®—ä¸€æ®µç¨‹å¼ç¢¼åŸ·è¡Œæ™‚ï¼Œæ‰€èŠ±è²»çš„æ™‚é–“ã€‚ console.table()å¯å°‡é™£åˆ—çš„è³‡æ–™ï¼Œç”¨ table æ–¹å¼é¡¯ç¤ºï¼Œæ˜“æ–¼è§€çœ‹ã€‚]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-08-Fun-with-HTML5-Canvas]]></title>
    <url>%2F2018%2F03%2F01%2FJS30-08-Fun-with-HTML5-Canvas%2F</url>
    <content type="text"><![CDATA[ç”¨æ»‘é¼ åœ¨ Canvas ä¸Šä½œç•« ç›®æ¨™ ä½¿ç”¨HTML5çš„ Canvas ä¾†è£½ä½œä¸€å€‹ç•«å¸ƒ é€éŽ æ»‘é¼  å¯é”åˆ°ä½œç•«çš„æ•ˆæžœ å¯¦è¸æ­¥é©Ÿ å»ºç«‹ canvas çš„å€å¡Šï¼Œè¨­å®šç‚º 2D ç’°å¢ƒï¼Œä¸¦è¨­å®šç›¸é—œå±¬æ€§ strokeStyleã€lineJoinã€lineCapã€lineWidth é€éŽ JS è¨­å®š canvas æœƒæ‡‰ç”¨åˆ°çš„ç›¸é—œè®Šæ•¸ canvasçš„é¡è‰²ã€ç·šæ¢ç²—ç´°ã€åº§æ¨™â€¦ç­‰ function draw(e) ç›£è½ æ»‘é¼  çš„äº‹ä»¶ é–‹å§‹ä½œç•«ï¼šmousedown ä½œç•«ä¸­..ï¼šmousemove çµæŸä½œç•«ï¼šmouseupã€mouseout æˆå“ [DEMO] | [GitHub] canvaså­¸ç¿’ç´€éŒ„è¨­å®šç·šæ¢æ¨£å¼ä¸‹åˆ—ç‚ºé€™æ¬¡ canvas ä½œç•«ç”¨åˆ°çš„å±¬æ€§ strokeStyle ç·šæ¢é¡è‰² lineJoin ç·šæ¢è½‰å½Žçš„æ¨£å¼ lineCap ç·šæ¢æ”¶å°¾çš„æ¨£å¼ lineWidth ç·šæ¢å¯¬åº¦ HTML1&lt;canvas id="draw" width="800" height="800"&gt;&lt;/canvas&gt; JS-canvasè¨­å®š1234567891011const canvas = document.querySelector('#draw');const ctx = canvas.getContext('2d'); // å®£å‘Šç‚º 2D æ¸²æŸ“ç’°å¢ƒ(e.g. 2Dã€webglã€webg2ã€bitmaprenderer)canvas.width = window.innerWidth;canvas.height = window.innerHeight;ctx.strokeStyle = 'blue'; // ç·šæ¢é¡è‰²ctx.lineJoin = 'round'; // ç·šæ¢è½‰å½Žçš„æ¨£å¼(e.g. round(åœ“è§’)ã€bevel(åŽ»æ–œè§’)ã€ã€miter(å°–å½¢))ctx.lineCap = 'round'; // ç·šæ¢æ”¶å°¾çš„æ¨£å¼(e.g. butt(çŸ­æ–¹å½¢)ã€round(åœ“å½¢)ã€square(é•·æ–¹å½¢))ctx.lineWidth = 25;ctx.globalCompositeOperation = 'source-in'; // ç•¶æœ‰é‡ç–Šçš„éƒ¨ä»½ï¼Œå¦‚ä½•å‘ˆç¾(e.g. source-overã€screenã€multiplyã€etc.) ä½œç•«æ­¥é©Ÿåˆ©ç”¨JSå®Œæˆä½œç•«çš„æ­¥é©Ÿï¼Œå¦‚ä¸‹ beginPath() å®£å‘Šé–‹å§‹ä½œç•« moveTo() ä½œç•«çš„èµ·é»ž lineTo() ä½œç•«çš„çµ‚é»ž stroke() å®Œæˆä½œç•« ä½œç•«éƒ¨ä»½ç¨‹å¼ç¢¼1234ctx.beginPath();ctx.moveTo(lastX, lastY); // start fromctx.lineTo(e.offsetX, e.offsetY); // go toctx.stroke(); MDN-CanvasRenderingContext2DCanvasRenderingContext2D.globalCompositeOperation JSå­¸ç¿’ç´€éŒ„DOMç›£è½äº‹ä»¶ä¹‹thisæ­¤æ¬¡ç¯„ä¾‹ï¼Œä½œè€…åœ¨ DOMç›£è½äº‹ä»¶ ä½¿ç”¨äº† ç®­é ­å‡½å¼ï¼Œé›–ç„¶çœ‹ä¼¼æ²’ä»€éº¼æƒ…æ³ï¼Œä¸éŽæœ‰ä¸€é»žè¦æ³¨æ„ï¼Œè‹¥æ˜¯æœ‰è¦å°æœ¬èº«çš„DOMåšä¿®æ”¹çš„è©±ï¼Œthis é€™å€‹è®Šæ•¸å°±æœƒæœ‰æ‰€å·®ç•°ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚ ç®­é ­å‡½å¼123canvas.addEventListener('mousedown', (e) =&gt; &#123; console.log(this); // window&#125;); ä¸€èˆ¬å‡½å¼123canvas.addEventListener('mousedown', function(e) &#123; console.log(this); // DOMå…ƒç´ &#125;); JS-ä¸€æ¬¡æžæ‡‚ JavaScript çš„ this]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-07-Array-Cardio-Day-2]]></title>
    <url>%2F2018%2F02%2F26%2FJS30-07-Array-Cardio-Day-2%2F</url>
    <content type="text"><![CDATA[ç·´ç¿’é‹ç”¨ Array çš„å„ç¨®å‡½å¼ ç›®æ¨™ å…±æä¾›äºŒçµ„è³‡æ–™ peopleï¼š [{ name: â€˜Wesâ€™, year: 1988 },â€¦] comments ï¼š[{ text: â€˜Love this!â€™, id: 523423 },â€¦] æ ¹æ“šä¸åŒéœ€æ±‚æ¢ä»¶ç¯©é¸å‡ºæ­£ç¢ºçš„è³‡æ–™ ç·´ç¿’é¡Œç›®people çš„è³‡æ–™ï¼š åœ¨peopleè³‡æ–™ä¸­ï¼Œæ˜¯å¦æœ‰19æ­²ä»¥ä¸Šçš„äºº åœ¨peopleè³‡æ–™ä¸­ï¼Œæ˜¯å¦æ¯å€‹äººéƒ½19æ­²ä»¥ä¸Š comments çš„è³‡æ–™ï¼š åœ¨commentsè³‡æ–™ä¸­ï¼Œæ‰¾åˆ°idæ˜¯ 823423 çš„è³‡æ–™ åœ¨commentsè³‡æ–™ä¸­ï¼Œæ‰¾åˆ°idæ˜¯ 823423 çš„è³‡æ–™ç´¢å¼•å€¼, ä¸¦é€éŽç´¢å¼•å€¼åˆªé™¤é€™ç­†è³‡æ–™ æˆå“ [DEMO] | [GitHub] people é¡Œç›®peopleè³‡æ–™123456const people = [ &#123; name: 'Wes', year: 1988 &#125;, &#123; name: 'Kait', year: 1986 &#125;, &#123; name: 'Irv', year: 1970 &#125;, &#123; name: 'Lux', year: 2015 &#125;]; Qï¼šåœ¨peopleè³‡æ–™ä¸­ï¼Œæ˜¯å¦æœ‰19æ­²ä»¥ä¸Šçš„äºº Aï¼šé€éŽ some() é€ç­†åˆ¤æ–·ï¼Œåªè¦å…¶ä¸­ä¸€ç­†æœ‰ç¬¦åˆï¼Œå°±å›žå‚³ true some()123456789101112131415// Some and Every Checks// Array.prototype.some() // is at least one person 19 or older?/* è§£æ³• */const isAdult = people.some(function(people)&#123; const currYear = (new Date()).getFullYear(); if ( (currYear - people.year) &gt;= 19)&#123; return true &#125;&#125;)/* ç°¡åŒ–èªžæ³• */const isAdult = people.some( people =&gt; (new Date()).getFullYear() - people.year &gt;= 19)console.log(isAdult); Qï¼šåœ¨åœ¨peopleè³‡æ–™ä¸­ï¼Œæ˜¯å¦æ¯å€‹äººéƒ½19æ­²ä»¥ä¸Š Aï¼šé€éŽ every() é€ç­†åˆ¤æ–·ï¼Œåªè¦å…¶ä¸­ä¸€ç­†ä¸ç¬¦åˆï¼Œå°±å›žå‚³ false every()1234// Array.prototype.every() // is everyone 19 or older?const allAdults = people.every( people =&gt; (new Date()).getFullYear() - people.year &gt;= 19)console.log(allAdults); comments é¡Œç›®commentsè³‡æ–™1234567const comments = [ &#123; text: 'Love this!', id: 523423 &#125;, &#123; text: 'Super good', id: 823423 &#125;, &#123; text: 'You are the best', id: 2039842 &#125;, &#123; text: 'Ramen is my fav food ever', id: 123523 &#125;, &#123; text: 'Nice Nice Nice!', id: 542328 &#125;]; Qï¼šåœ¨commentsè³‡æ–™ä¸­ï¼Œæ‰¾åˆ°idæ˜¯ 823423 çš„è³‡æ–™ Aï¼šé€éŽ find() é€ç­†åˆ¤æ–·ï¼Œå›žå‚³ ç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„å€¼ï¼Œè‹¥éƒ½ç„¡ç¬¦åˆï¼Œå‰‡å›žå‚³ undefined find()12345678910111213141516// Array.prototype.find()// Find is like filter, but instead returns just the one you are looking for// find the comment with the ID of 823423/* è§£æ³• */const comment = comments.find(function(comment)&#123; if (comment.id === 823423)&#123; return true &#125;&#125;)/* ç°¡åŒ–èªžæ³• */const comment = comments.find( comment =&gt; comment.id === 823423)console.log(comment); Qï¼šåœ¨commentsè³‡æ–™ä¸­ï¼Œæ‰¾åˆ°idæ˜¯ 823423 çš„è³‡æ–™ç´¢å¼•å€¼, ä¸¦é€éŽç´¢å¼•å€¼åˆªé™¤é€™ç­†è³‡æ–™ Aï¼š é€éŽ findIndex() é€ç­†åˆ¤æ–·ï¼Œå›žå‚³ ç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„ç´¢å¼•å€¼ï¼Œè‹¥éƒ½ç„¡ç¬¦åˆï¼Œå‰‡å›žå‚³ -1 å°‡å–å¾—çš„ç´¢å¼•å€¼ï¼Œé€éŽ slice() å’Œ Spread syntax(å±•é–‹èªžæ³•) çš„æ­é…ä½¿ç”¨ï¼Œç”¢å‡ºä¸€æ–°é™£åˆ— findIndex()ã€slice()ã€Spread syntax123456789101112131415// Array.prototype.findIndex()// Find the comment with this ID// delete the comment with the ID of 823423const index = comments.findIndex( comment =&gt; comment.id === 823423)// console.log(index);// åŽ»é™¤ä¸è¦çš„commentï¼Œç”¢ç”Ÿä¸€å€‹æ–°çš„é™£åˆ—// slice ç‚º æ·ºæ‹·è²ï¼ˆshallow copyï¼‰ï¼Œä¸å½±éŸ¿åŽŸé™£åˆ—è³‡æ–™ã€‚const newComments = [ ...comments.slice(0, index), ...comments.slice(index+1)]console.log(newComments);]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-06-Type-Ahead]]></title>
    <url>%2F2018%2F02%2F26%2FJS30-06-Type-Ahead%2F</url>
    <content type="text"><![CDATA[ç·´ç¿’ fetch()ã€filter()ã€RegExp()æ­£è¦è¡¨é”å¼ çš„é‹ç”¨ ç›®æ¨™ ç•¶ searchInput æ›´æ–°æ™‚ï¼Œå³æ™‚ç¯©é¸å‡ºçµæžœï¼Œä¸¦é¡¯ç¤ºæ–¼ä¸‹æ–¹Listã€‚ é¡¯ç¤ºç¯©é¸çµæžœæ™‚ï¼Œéœ€æ–°å¢žCSSæ•ˆæžœï¼Œå¼·èª¿é¡¯ç¤º æœå°‹çš„å­—çœ¼ã€‚ å°‡æ•¸å­—é¡¯ç¤ºæˆæœ‰ åƒåˆ†ä½ çš„æ ¼å¼ã€‚ å¯¦è¸æ­¥é©Ÿ é€éŽ fetch() å–å¾— citiesçš„è³‡æ–™ å°‡ citiesçš„è³‡æ–™ éŽæ¿¾å‡ºç¬¦åˆæ¢ä»¶çš„è³‡æ–™ filter() RegExp() match() å„ªåŒ–UI æœå°‹å­—ä¸²åŠ é¡è‰² æ•¸å­—æ–°å¢žåƒåˆ†ä½ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„fetch()å…ˆçœ‹ä¸‹é¢ç°¡å–®ç¯„ä¾‹çš„ç¨‹å¼ç¢¼ï¼Œå†é€²è€Œè§£èªª ç°¡å–®ç¯„ä¾‹1234567891011fetch('https://randomuser.me/api/', &#123;&#125;).then((response) =&gt; &#123; // é€™è£¡æœƒå¾—åˆ°ä¸€å€‹ ReadableStream çš„ç‰©ä»¶ console.log(response); // å¯ä»¥é€éŽ blob(), json(), text() è½‰æˆå¯ç”¨çš„è³‡è¨Š return response.json(); &#125;).then((jsonData) =&gt; &#123; console.log(jsonData);&#125;).catch((err) =&gt; &#123; console.log('éŒ¯èª¤:', err);&#125;); èªªæ˜Ž fetch æœƒä½¿ç”¨ ES6 çš„ Promise ä½œå›žæ‡‰ then ä½œç‚º ä¸‹ä¸€æ­¥ catch ä½œç‚º éŒ¯èª¤å›žæ‡‰ (404, 500â€¦) ç°¡å–®ä¾†èªªï¼Œå‘¼å«å®Œ fetch å¾Œï¼Œ è‹¥æ˜¯æˆåŠŸçš„è©±ï¼Œå°±æœƒèµ° thenï¼Œç„¶å¾Œ then å¯ä»¥ä¸€ç›´æŽ¥ä¸€ç›´æŽ¥ã€‚ è‹¥æ˜¯å¤±æ•—çš„è©±ï¼Œå°±æœƒèµ° catch ï¼Œcatch åªæœ‰ä¸€æ¬¡ã€‚ å›žå‚³æ ¼å¼(ReadableStream) Fetch API çš„ Response ç‰©ä»¶ä¸­çš„ body å±¬æ€§æä¾›äº†ä¸€å€‹ ReadableStream ç‰©ä»¶ï¼Œæ­¤éšŽæ®µæˆ‘å€‘ç„¡æ³•ç›´æŽ¥è®€å–å›žå‚³çš„è³‡æ–™å…§å®¹ï¼Œæ‰€ä»¥éœ€è¦å†è½‰ä¸€æ‰‹ï¼Œæ‰èƒ½ä½¿ç”¨å–å¾—çš„è³‡æ–™ã€‚ ReadableStream arrayBuffer() blob() formData() json() (å¸¸ç”¨) text() (å¸¸ç”¨) æœ€å¸¸ä½¿ç”¨çš„æ ¼å¼ json() å’Œ text()ï¼Œè‡³æ–¼ blob() çš„è©±ï¼Œå¯ç”¨æ–¼æŽ¥æ”¶åœ–ç‰‡æª”æ¡ˆã€‚ MDN-fetch.bodyå…­è§’å­¸é™¢-ES6 åŽŸç”Ÿ Fetch é ç«¯è³‡æ–™æ–¹æ³• RegExp()ã€match()åœ¨ç¯„ä¾‹ä¸­ï¼Œæœ‰è¦ç¯©é¸å‡ºç¬¦åˆæ¢ä»¶çš„ city æˆ– stateï¼Œä¸€é–‹å§‹åœ¨å­—ä¸²æ¯”å°æ™‚ï¼Œæˆ‘ä½¿ç”¨äº† String.prototype.includes()ï¼Œä¸éŽæ­¤methodæ˜¯æœ‰å€åˆ†å¤§å°å¯«(Case-sensitivity)ï¼Œæ‰€ä»¥ç‚ºäº†æœå°‹å­—çœ¼ä¸å€åˆ†å¤§å°å¯«çš„è©±ï¼Œå°±éœ€æ”¹ç”¨ Regular Expressions æ–¹å¼ã€‚ è£œå……èªªæ˜Ž str.match(regexp) çš„å›žå‚³å€¼ æœ‰ç¬¦åˆï¼šreturn ä¸€å€‹Array(åŒ…å«ç¬¦åˆæ¢ä»¶çš„çµæžœ)ï¼Œç¯„ä¾‹ ç„¡ç¬¦åˆï¼šreturn null ç¯©é¸ç¯„ä¾‹123456789101112function getMatchData(searchString, searchData)&#123; return searchData.filter( item =&gt; &#123; // æ–¹æ³•1ï¼šincludes // ä½¿ç”¨æ­¤æ–¹æ³•æœ‰ä¸€ç¼ºé»žå°±æ˜¯ã€Œå¤§å°å¯«éœ€ä¸€è‡´ã€æ‰èƒ½ç¬¦åˆæ¢ä»¶ã€‚ // èˆ‰ä¾‹ï¼šè³‡æ–™ç‚º "New York" æ™‚ï¼Œæ‰“ "York"ï¼Œå¯æœå°‹çš„åˆ°ï¼Œä½†æ˜¯æ‰“ "york"ï¼Œå°±æœƒæœä¸åˆ°ã€‚ // return item.city.includes(searchString) || item.state.includes(searchString) // æ–¹æ³•2ï¼šæ­£è¦è¡¨é”å¼ const regex = new RegExp(searchString, 'gi'); // åƒæ•¸èªªæ˜Ž â†’ gï¼šGlobal search ã€ iï¼šCase-insensitive search return item.city.match(regex) || item.state.match(regex) &#125;)&#125; æ­£è¦è¡¨ç¤ºå¼ Regular ExpressionMDN-String.prototype.match() çµ„å­—ä¸²å°æŠ€å·§ array.join(â€˜â€™)ç¯„ä¾‹ä¸­ï¼Œåœ¨çµ„HTMLå­—ä¸²æ™‚ï¼Œåˆ©ç”¨ .map() çµ„åˆå‡ºæƒ³è¦çš„HTMLå­—ä¸²ï¼Œä¸éŽ .map() å›žå‚³æ˜¯ä¸€å€‹ Arrayï¼Œé€™æ™‚ä½œè€…åœ¨ .map() å¾Œï¼Œç·ŠæŽ¥è‘—åŠ äº† .join(&#39;&#39;)ï¼Œé€™æ¨£çš„è©±ï¼Œç«‹é¦¬å°±å°‡åŽŸæœ¬æ˜¯ ã€ŒArrayçš„è³‡æ–™ è½‰åŒ–æˆ ä¸€å€‹å­—ä¸²ã€ï¼Œå–ä»£äº†ä»¥å¾€ä½¿ç”¨ ã€Œå­—ä¸²ç›¸åŠ ã€ çš„ç”¨æ³•ã€‚ 123456789101112// ç¬¬äºŒç‰ˆï¼šæœå°‹å­—ä¸²åŠ é¡è‰² ã€ æ•¸å­—æ–°å¢žåƒåˆ†ä½const html = matchData.map( item =&gt; &#123; const regex = new RegExp(this.value, 'gi'); const cityName = item.city.replace(regex, `&lt;span class="hl"&gt;$&#123;this.value&#125;&lt;/span&gt;`); const stateName = item.state.replace(regex, `&lt;span class="hl"&gt;$&#123;this.value&#125;&lt;/span&gt;`); return ` &lt;li&gt; &lt;span class="name"&gt;$&#123;cityName&#125;, $&#123;stateName&#125;&lt;/span&gt; &lt;span class="population"&gt;$&#123;numberWithCommas(item.population)&#125;&lt;/span&gt; &lt;/li&gt;`&#125;).join('') CSSå­¸ç¿’ç´€éŒ„Listæ¸…å–®ä¹‹æ‘ºç–Šæ•ˆæžœåœ¨ç¯„ä¾‹ä¸­ï¼Œæœå°‹å‡ºä¾†çš„çµæžœï¼Œé¡¯ç¤ºæ™‚æœƒæœ‰äº¤å‰æ‘ºç–Šæ•ˆæžœï¼Œä½œè€…é‹ç”¨ä¸‹åˆ—å…ƒç´ é”æˆæ­¤æ•ˆæžœã€‚ :nth-child(even)ã€:nth-child(odd) transform: perspective(100px) rotateX(3deg) translateY(2px) scale(1.001); CSS-äº¤å‰æ‘ºç–Šæ•ˆæžœ12345678.suggestions li:nth-child(even) &#123; transform: perspective(100px) rotateX(3deg) translateY(2px) scale(1.001); background: linear-gradient(to bottom, #ffffff 0%,#EFEFEF 100%);&#125;.suggestions li:nth-child(odd) &#123; transform: perspective(100px) rotateX(-3deg) translateY(3px); background: linear-gradient(to top, #ffffff 0%,#EFEFEF 100%);&#125; MDN-:nth-childMDN-perspective(é€è¦–)]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-05-Flex-Panel-Gallery]]></title>
    <url>%2F2018%2F02%2F26%2FJS30-05-Flex-Panel-Gallery%2F</url>
    <content type="text"><![CDATA[JS-Event èˆ‡ CSS-Flex çš„æ­é…ä½¿ç”¨ ç›®æ¨™ ä½¿ç”¨ CSSçš„ flexã€transformã€transition.. ç­‰å±¬æ€§ã€‚ é€éŽ JS ç›£è½äº‹ä»¶(clickã€transitionend)ï¼Œä¿®æ”¹CSSå±¬æ€§(classList)ï¼Œé”åˆ°ä¸åŒæ•ˆæžœã€‚ å¯¦è¸æ­¥é©Ÿ å°‡HTMLçš„ panels åº•ä¸‹çš„ 5å€‹panelï¼Œåˆ©ç”¨ flex å°‡ç‰ˆåž‹æŽ’å¥½ flexï¼šflex-grow flex-shrink flex-basis åˆ†åˆ¥ç›£è½(clickã€transitionend) ä¸‰å€‹ panel åˆ©ç”¨ DOM.classList.toggle æ–°å¢žã€ç§»é™¤ CSSå±¬æ€§ æˆå“ [DEMO] | [GitHub] CSSå­¸ç¿’ç´€éŒ„flex: flex-grow flex-shrink flex-basisåœ¨ç¯„ä¾‹ä¸­ï¼Œæœ‰é‹ç”¨åˆ° Flex çš„ä¸€å€‹csså±¬æ€§(flex)ï¼Œå…¶åƒæ•¸å¦‚ä¸‹ èªžæ³•ï¼š flexçš„ç°¡å¯«åƒæ•¸1flex: flex-grow flex-shrink flex-basis å±¬æ€§ï¼š flex-growï¼šå…ƒä»¶çš„ä¼¸å±•æ€§ flex-shrinkï¼šå…ƒä»¶çš„æ”¶ç¸®æ€§ flex-basisï¼šå…ƒä»¶çš„åŸºæº–å€¼ è€Œåœ¨ç¯„ä¾‹ä¸­ï¼Œä¸»è¦ç”¨åˆ°ç¬¬ä¸€å€‹åƒæ•¸ flex-growï¼Œåœ¨æ­¤ç¨å¾®èªªæ˜Žå…¶å®šç¾© ç•¶å­å…ƒç´ å…¨éƒ¨åŠ ç¸½çš„é•·åº¦ ã€Œå°ã€æ–¼ åœ¨çˆ¶å…ƒç´ çš„ç¸½é•·åº¦æ™‚ï¼Œå°±æ˜¯å°‡ã€Œå‰©é¤˜çš„ç©ºé–“ã€ä¾ç…§æ¯”ä¾‹åˆ†é…ã€‚ æ ¹æ“šä¸Šä¾‹çš„èªªæ³•ï¼Œè‹¥æ˜¯ å­å…ƒç´ å…¨éƒ¨çš„é•·åº¦ å·²ä½”æ»¿ çˆ¶å…ƒç´ çš„é•·åº¦æ™‚ï¼Œæ­¤æ™‚ flex-grow å°±ç„¡ç”¨äº†ï¼Œç›¸åçš„ï¼Œè‹¥ å­å…ƒç´ ç¸½é•·åº¦ è¶…éŽ çˆ¶å…ƒç´ é•·åº¦æ™‚ï¼Œæœ‰å¯èƒ½æœƒé€ æˆè·‘ç‰ˆï¼Œé€™æ™‚å°±å¯ä»¥ç”¨ç¬¬äºŒå€‹åƒæ•¸ flex-shrinkï¼Œä¾†å£“ç¸®å­å…ƒç´ çš„é•·åº¦ã€‚ CSS Flex å±¬æ€§ä¸€é»žä¹Ÿä¸é›£flex-grow ä¸æ˜“ç†è§£ï¼Œéš¾é“ä¸æ˜¯å—?æ·±å…¥è§£æž CSS Flexbox JSå­¸ç¿’ç´€éŒ„event.propertyNameåœ¨ç›£è½ transitionend äº‹ä»¶æ™‚ï¼Œä¸»è¦æ˜¯åˆ¤æ–·å¢žåŠ  Flex: 5 çš„æ•ˆæžœæ˜¯å¦å·²çµæŸï¼Œé€²è€Œè§¸ç™¼å¦ä¸€äº‹ä»¶ï¼Œæ–°å¢žå¦ä¸€å€‹CSSæ•ˆæžœ(æ–‡å­—æ»‘å…¥)ï¼Œåœ¨JS30-01-JavaScript-Drum-Kitå·²æœ‰ç·´ç¿’ä½¿ç”¨éŽï¼Œåœ¨æ­¤é‡æ–°è¤‡ç¿’ä¸€æ¬¡ã€‚ åœ–ï¼ševent.propertyName å–å¾— CSSå±¬æ€§åç¨± transitionendMDN-Event reference includesåœ¨å½±ç‰‡ä¸­ï¼Œä½œè€…æœ‰æåˆ° transition: flex 0.7s.. é€™ä¸€æ®µï¼Œåœ¨sarafiæ˜¯ flexï¼Œè€Œå…¶ä»–ç€è¦½å™¨ç‚º flex-growï¼Œä¸éŽäºŒå€‹éƒ½æœ‰ flexé€™å€‹å­—çœ¼ï¼Œæ‰€ä»¥åˆ©ç”¨ .includes(&#39;flex&#39;) ä¾†åˆ¤æ–· flexçš„cssæ•ˆæžœ æ˜¯å¦å·²çµæŸã€‚ CSS-flexåç¨±12345678.panel &#123; /* Safari transitionend event.propertyName === flex */ /* Chrome + FF transitionend event.propertyName === flex-grow */ transition: font-size 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11), flex 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11), background 0.2s;&#125; JS-includes1234567891011function toggleActie(e)&#123; // å›  Safari å’Œ Chrome + FF é¡¯ç¤º propertyName æœ‰å·®ç•° /* Safari transitionend event.propertyName === flex */ /* Chrome + FF transitionend event.propertyName === flex-grow */ // console.log(e); if ( e.propertyName.includes('flex'))&#123; // console.log(this); this.classList.toggle('open-active'); &#125;&#125; å»¶ä¼¸ï¼šé»žæ“Šå…¶ä»–panelæ™‚ï¼Œé—œé–‰å·²å±•é–‹panelè‹¥ç›®å‰ç•«é¢å·²æœ‰å±•é–‹æŸä¸€panelæ™‚ï¼Œåœ¨é»žæ“Šå…¶ä»–panelæ™‚ï¼Œéœ€è¦å°‡å‰ä¸€å€‹panelçš„CSSæ•ˆæžœç§»é™¤ã€‚ è§£æ³•ï¼š é é”åˆ°æ­¤éœ€æ±‚ï¼Œæˆ‘å…ˆæƒ³åˆ° jQuery çš„ .siblings() APIï¼Œä½†è‹¥æƒ³ç”¨ç´”æ­£çš„ Vanilla JS é”æˆï¼ŒJavascriptæœ‰ Node.nextSibling å’Œ Node.previousSibling å¯ä½¿ç”¨ï¼Œä¸éŽå·²ç¶“æœ‰åˆ¥äººé€ å¥½è¼ªå­çš„è©±ï¼Œé‚£å°±â€¦æ”¹ç”¨å¤§ç¥žå¯«å¥½çš„ä¾†ä½¿ç”¨ï¼Œæ„Ÿè¬ get-elements-siblings-with-vanilla-javascriptã€‚ ç§»é™¤é„°é‚Šçš„CSS1234567891011121314function toggleOpen(e)&#123; // console.log(this); this.classList.toggle('open'); // ç§»é™¤é„°é‚Šçš„CSS // åƒè€ƒç¶²å€ï¼šhttps://gomakethings.com/how-to-get-an-elements-siblings-with-vanilla-javascript/ // DOM.nodeTypeï¼šå…ƒç´ ä¸­çš„ç©ºè¡Œæˆ–è€…ç©ºæ ¼æœƒä½œç‚ºæ–‡æœ¬ç¯€é»žï¼Œè¿”å›ž"#text" var sibling = this.parentNode.firstChild; for (; sibling; sibling = sibling.nextSibling) &#123; if (sibling.nodeType !== 1 || sibling === this) continue; // console.log(sibling); sibling.classList.remove('open'); &#125;&#125; å…¶ä»–åƒè€ƒè§£æ³• GuaHsuå¤§å¤§çš„æ€ç¶­ï¼šç´€éŒ„æœ€å¾Œä¸€å€‹é»žæ“Šçš„Panelï¼Œç•¶ä¸‹ä¸€æ¬¡é»žæ“Šçš„Panelä¸ä¸€æ¨£æ™‚ï¼Œå‰‡é™¤ç§»CSSæ•ˆæžœã€‚ 12345678910111213//å®£å‘Šä¸€å€‹ä¸Šæ¬¡é»žæ“Šçš„Panelï¼Œé è¨­å…ˆçµ¦ä»–panelslet lastClickPanel = document.querySelector('.panels');function toggleOpen() &#123; //æ¯æ¬¡æª¢æŸ¥é€²å…¥çš„elementèˆ‡ä¸Šæ¬¡é€²å…¥çš„elementæ˜¯ä¸æ˜¯ç›¸åŒ //è‹¥ä¸ç›¸åŒï¼Œå‰‡æŠŠä¸Šæ¬¡é»žæ“Šçš„elementç§»é™¤opevæ•ˆæžœ //å†æŠŠlastClickPanelæŒ‡å‘ç‚ºé€™æ¬¡çš„elment if (this !== lastClickPanel) &#123; lastClickPanel.classList.remove('open'); lastClickPanel = this; &#125; this.classList.toggle('open');&#125; GuaHsu]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-04-Array-Cardio-Day-1]]></title>
    <url>%2F2018%2F02%2F16%2FJS30-04-Array-Cardio-Day-1%2F</url>
    <content type="text"><![CDATA[ç·´ç¿’é‹ç”¨ Array çš„å„ç¨®å‡½å¼ ç›®æ¨™ å…±æä¾›å››çµ„è³‡æ–™ inventorsï¼šfirst(å)ã€last(å§“) ã€year(å‡ºç”Ÿæ—¥æœŸ)ã€passed(æ­»äº¡æ—¥æœŸ) wikiç¶²ç«™çš„html ï¼šç¶²å€é€£çµ peopleï¼šé€—é»žåˆ†éš”çš„å§“å(firstName, lastName) dataï¼šæä¾›çš„ä¸€çµ„åŒ…å«é‡è¦†è³‡æ–™çš„é™£åˆ— æ ¹æ“šä¸åŒéœ€æ±‚æ¢ä»¶ç¯©é¸å‡ºæ­£ç¢ºçš„è³‡æ–™ ç·´ç¿’é¡Œç›®inventors çš„è³‡æ–™ï¼š ç¯©é¸å‡ºæ–¼ 1500~1599 å¹´é–“å‡ºç”Ÿçš„ inventor (year in 1500-1599) å°‡ inventors çš„ firstname èˆ‡ lastname çµ„åˆæˆä¸€å€‹é™£åˆ— å°‡ inventors ä¾æ“šã€Œç”Ÿæ—¥ã€ç”±å¤§è‡³å°æŽ’åº åŠ ç¸½æ‰€æœ‰ inventor çš„å¹´é½¡ å°‡ inventors ä¾æ“šã€Œå¹´é½¡ã€ç”±å¤§è‡³å°æŽ’åº wikiç¶²ç«™çš„htmlï¼šç¶²å€é€£çµ åˆ—å‡ºwikiä¸­å·´é»Žæ‰€æœ‰åŒ…å«â€™deâ€™çš„è·¯å people çš„è³‡æ–™ï¼š ä¾æ“šlastNameæŽ’åºæ‰€æœ‰peopleçš„è³‡æ–™ data çš„è³‡æ–™ï¼š åˆ†åˆ¥è¨ˆç®—dataå…§æ¯å€‹ç¨®é¡žçš„æ•¸é‡ æˆå“ [DEMO] | [GitHub] inventors é¡Œç›®inventorsè³‡æ–™1234567891011121314const inventors = [ &#123; first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 &#125;, &#123; first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 &#125;, &#123; first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 &#125;, &#123; first: 'Marie', last: 'Curie', year: 1867, passed: 1934 &#125;, &#123; first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 &#125;, &#123; first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 &#125;, &#123; first: 'Max', last: 'Planck', year: 1858, passed: 1947 &#125;, &#123; first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 &#125;, &#123; first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 &#125;, &#123; first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 &#125;, &#123; first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 &#125;, &#123; first: 'Hanna', last: 'HammarstrÃ¶m', year: 1829, passed: 1909 &#125;]; Qï¼šç¯©é¸å‡ºæ–¼ 1500~1599 å¹´é–“å‡ºç”Ÿçš„ inventor (year in 1500-1599) Aï¼šé€éŽ filter ç¯©é¸å‡ºç¬¦åˆæ¢ä»¶çš„è³‡æ–™ï¼Œæœ€çµ‚å›žå‚³ä¸€å€‹æ–°é™£åˆ— filter1234567891011121314// Array.prototype.filter()// 1. Filter the list of inventors for those who were born in the 1500's/* è§£æ³• */const bornArr = inventors.filter(function(inventor)&#123; if (inventor.year &gt;= 1500 &amp;&amp; inventor.year &lt; 1600)&#123; return true; &#125;&#125;)/* ç°¡åŒ–èªžæ³• */const bornArr = inventors.filter( inventor =&gt; inventor.year &gt;= 1500 &amp;&amp; inventor.year &lt; 1600)console.table(bornArr); Qï¼šå°‡ inventors çš„ firstname èˆ‡ lastname çµ„åˆæˆä¸€å€‹é™£åˆ— Aï¼šé€éŽ map å°‡åŽŸå§‹è³‡æ–™åŠ å·¥å¾Œï¼Œæœ€çµ‚å›žå‚³ä¸€å€‹æ–°é™£åˆ— map123456789101112131415// Array.prototype.map()// 2. Give us an array of the inventors' first and last names/* è§£æ³• */const newInventors = inventors.map(function(inventor)&#123; return inventor.first + ' ' + inventor.last&#125;)/* ç°¡åŒ–èªžæ³• */const newInventors = inventors.map( inventor =&gt; inventor.first + ' ' + inventor.last);/* ç°¡åŒ–èªžæ³•(Template String) */const newInventors = inventors.map( inventor =&gt; `$&#123;inventor.first&#125; $&#123;inventor.last&#125;`); //Template Stringconsole.log(newInventors); Qï¼šå°‡ inventors ä¾æ“šã€Œç”Ÿæ—¥ã€ç”±å¤§è‡³å°æŽ’åº Aï¼š ä¾ç…§ã€Œç”Ÿæ—¥ã€å¤§å°é‡æ–°æŽ’åº(returnå€¼ï¼š -1 æŽ’å‰é¢ , 1 æŽ’å¾Œé¢) sort12345678910111213141516// Array.prototype.sort()// 3. Sort the inventors by birthdate, oldest to youngest/* è§£æ³• */const sortInventors = inventors.sort(function(a, b)&#123; if ( a.year &gt; b.year)&#123; return 1 &#125;else&#123; return -1 &#125;&#125;)/* ç°¡åŒ–èªžæ³• */const sortInventors = inventors.sort( (a, b) =&gt; a.year &gt; b.year ? 1 : -1 )console.table(sortInventors) Qï¼šåŠ ç¸½æ‰€æœ‰ inventor çš„å¹´é½¡ Aï¼š ç±ç”± reduce åŠ ç¸½æ‰€æœ‰çš„å¹´é½¡ reduce123456789101112// Array.prototype.reduce()// 4. How many years did all the inventors live?/* è§£æ³• */const totalYears = inventors.reduce(function(total, inventor)&#123; return total + (inventor.passed - inventor.year)&#125;, 0) /* ç°¡åŒ–èªžæ³• */const totalYears = inventors.reduce( (total, inventor) =&gt; total + (inventor.passed - inventor.year) , 0)console.log(totalYears); Qï¼šå°‡ inventors ä¾æ“šã€Œå¹´é½¡ã€ç”±å¤§è‡³å°æŽ’åº Aï¼šä¾ç…§ã€Œå¹´é½¡ã€å¤§å°é‡æ–°æŽ’åº(returnå€¼ï¼š -1 æŽ’å‰é¢ , 1 æŽ’å¾Œé¢) 123456789101112131415161718192021222324// 5. Sort the inventors by years lived/* è§£æ³• */const sortYearsLived = inventors.sort(function(a, b)&#123; const aYearCount = a.passed - a.year; const bYearCount = b.passed - b.year; if ( aYearCount &gt; bYearCount) &#123; return -1 &#125;else&#123; return 1 &#125;&#125;)/* ç°¡åŒ–èªžæ³• */const sortYearsLived = inventors.sort( (a, b) =&gt; &#123; const aYearCount = a.passed - a.year; const bYearCount = b.passed - b.year; return aYearCount &gt; bYearCount ? -1 : 1&#125;)console.table(sortYearsLived); wiki-html é¡Œç›®Qï¼šåˆ—å‡ºwikiä¸­å·´é»Žæ‰€æœ‰åŒ…å«â€™deâ€™çš„è·¯å Aï¼šç·´ç¿’ å±•é–‹é‹ç®—å­(Spread Operator)ã€map()ã€filter()ã€includes() æ­é…ä½¿ç”¨ methodçµ„åˆé‹ç”¨123456789101112131415// 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name// https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris/* è§£æ³• */const category = document.querySelector('.mw-category');//å°‡ nodeList è½‰ç‚º Arrayåž‹æ…‹const Links = [...category.querySelectorAll('a')]; //å±•é–‹é‹ç®—å­(Spread Operator)//å¯ä»¥åŸ·è¡Œå®Œ map å¾Œï¼Œç·ŠæŽ¥è‘—åŸ·è¡Œ filterconst de = Links .map( link =&gt; link.textContent) .filter( tName =&gt; tName.includes('de'))console.log(de); people é¡Œç›®Qï¼šä¾æ“š lastName æŽ’åºæ‰€æœ‰peopleçš„è³‡æ–™ Aï¼šç·´ç¿’ è§£æ§‹è³¦å€¼(Destructuring Assignment)ã€sort() é‹ç”¨ 123456789101112131415161718192021222324252627// 7. sort Exercise// Sort the people alphabetically by last nameconst people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];/* è§£æ³• */const sortPeople = people.sort(function(a, b)&#123; const [aLast, aFirst] = a.split(', '); //è§£æ§‹è³¦å€¼(Destructuring Assignment) const [bLast, bFirst] = b.split(', '); //è§£æ§‹è³¦å€¼(Destructuring Assignment) if(aLast &gt; bLast)&#123; return 1 &#125;else&#123; return -1 &#125;&#125;)/* ç°¡åŒ–èªžæ³• */const sortPeople = people.sort( (a, b) =&gt; &#123; const [aLast, aFirst] = a.split(', '); //è§£æ§‹è³¦å€¼(Destructuring Assignment) const [bLast, bFirst] = b.split(', '); //è§£æ§‹è³¦å€¼(Destructuring Assignment) return aLast &gt; bLast ? 1 : -1&#125;)console.log(sortPeople); data é¡Œç›®Qï¼šåˆ†åˆ¥è¨ˆç®—dataå…§æ¯å€‹ç¨®é¡žçš„æ•¸é‡ Aï¼šç·´ç¿’ reduce() é‹ç”¨ 12345678910111213141516// 8. Reduce Exercise// Sum up the instances of each of theseconst data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];/* è§£æ³• */const dataCount = data.reduce( (counts, item) =&gt; &#123; if(!counts[item])&#123; counts[item] = 0; &#125; counts[item] += 1; return counts;&#125;, &#123;&#125;)console.log(dataCount)]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-03-CSS-Variables]]></title>
    <url>%2F2018%2F02%2F15%2FJS30-03-CSS-Variables%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨ CSSè®Šæ•¸ èˆ‡ JS å³æ™‚æ›´æ–°åœ–ç‰‡çš„ å…§è·ã€é‚Šæ¡†è‰²ã€æ¨¡ç³Š æ•ˆæžœ ç›®æ¨™ ä½¿ç”¨ CSSè®Šæ•¸ åŠŸèƒ½ é€éŽ JS æ›´æ”¹ CSSè®Šæ•¸å€¼ï¼Œé”åˆ°å³æ™‚æ›´æ–° å…§è·ã€é‚Šæ¡†è‰²ã€æ¨¡ç³Š çš„æ•ˆæžœ å¯¦è¸æ­¥é©Ÿ åœ¨ CSS çš„ :root å®£å‘Š CSSè®Šæ•¸ å®£å‘Šæ–¹æ³•ï¼šä½¿ç”¨å…©å€‹-ç¬¦è™Ÿï¼Œä»£è¡¨ã€Œè®Šæ•¸ã€ï¼Œå¦‚ï¼š--spacing ä½¿ç”¨æ–¹æ³•ï¼šä½¿ç”¨var()ä»£è¡¨ã€Œä½¿ç”¨è®Šæ•¸ã€ï¼Œå¦‚ï¼švar(--spacing) åˆ†åˆ¥ç›£è½(changeã€mousemove)ä¸‰å€‹ input çš„å€¼ åˆ©ç”¨ dataset å–å¾—è‡ªå®šç¾©çš„è³‡æ–™ï¼Œå¦‚ï¼šthis.dataset.sizing é€éŽ document.documentElement.style.setProperty(&#39;--base&#39;, &#39;#fff&#39;); æ›´æ”¹CSSçš„è®Šæ•¸ æˆå“ [DEMO] | [GitHub] CSSå­¸ç¿’ç´€éŒ„ä½¿ç”¨ CSSçš„è®Šæ•¸ åŠŸèƒ½ï¼Œä¸éŽåœ¨ IE ä¸Šï¼Œå¥½åƒé‚„ä¸æ”¯æ´ã€‚ CSSè®Šæ•¸èªªæ˜Ž1234567891011121314151617/* åœ¨CSS çš„ :root(å…¨å±€)è¨­å®š è®Šæ•¸ */:root &#123; --base: #ffc600; --spacing: 50px; --blur: 10px;&#125;/* ä½¿ç”¨CSSè®Šæ•¸æ–¹æ³•ï¼švar(è®Šæ•¸åç¨±) */img &#123; padding: var(--spacing); background: var(--base); filter: blur(var(--blur)); /* CSSæ¿¾é¡æ•ˆæžœï¼šæ¨¡ç³Š */&#125;.hl &#123; color: var(--base);&#125; :root å½å…ƒç´ (å…¨å±€):root é€™å€‹å½å…ƒç´ æ˜¯æ–‡æª”çš„æ ¹å…ƒç´ ï¼Œç­‰åŒæ–¼ &lt;html&gt; æ¨™ç±¤ï¼Œæ‰€ä»¥å¸¸ç”¨æ–¼è²æ˜Žå…¨å±€çš„CSSè®Šé‡ï¼š è¨­å®šè®Šæ•¸(å…¨å±€)123ï¼šroot &#123; --colorï¼š#fff ;&#125; åœ¨CSS styleè¦ä½¿ç”¨æ™‚ï¼Œç”¨ var(è®Šæ•¸åç¨±)ï¼Œå¦‚ä¸‹ï¼š åœ¨CSSä½¿ç”¨è®Šæ•¸123img &#123; backgroundï¼š var(--color);&#125; è‹¥æ˜¯è¦åœ¨ JS ä½¿ç”¨çš„è©±ï¼Œèªžæ³•å¦‚ä¸‹ï¼š ç”¨JSæ›´æ”¹CSSè®Šæ•¸12// ï¼šroot = æ–‡æª”çš„æ ¹å…ƒç´  = &lt;html&gt; = document.documentElementdocument.documentElement.style.setProperty('--color', '#000'); CSS Variables filter æ¿¾é¡CSS3çš„æ¿¾é¡åŠŸèƒ½ï¼Œå…¶ä¸­ blur æ˜¯é«˜æ–¯æ¨¡ç³Šï¼Œåƒæ•¸è¶Šé«˜è¶Šæ¨¡ç³Š MDN-filter JSå­¸ç¿’ç´€éŒ„datasetåˆ©ç”¨ dataset å¯å–å¾—è‡ªå®šç¾©çš„è³‡æ–™ï¼Œå¦å¤–ä¹Ÿå¯ä½¿ç”¨ getAttribute å–å¾—è³‡æ–™ã€‚ HTML1&lt;input id="blur" type="range" name="blur" value="10" data-sizing="px"&gt; JSå–å¾—dataset123456//æ–¹æ³•1document.querySelector('#blur').dataset.sizing // è¼¸å‡ºï¼špxdocument.querySelector('#blur').dataset[sizing] // è¼¸å‡ºï¼špx//æ–¹æ³•2document.querySelector('#blur').getAttribute('data-sizing'); // è¼¸å‡ºï¼špx MDN-dataset style.setPropertyä¸‹åˆ—ä¸‰ç¨®æ–¹æ³•ï¼Œçš†å¯é”åˆ°æ›´æ”¹CSSçš„æ•ˆæžœï¼Œä¸éŽå¯¦å‹™ä¸Šç”¨æ–¹æ³•2ï¼Œæœƒæ¯”è¼ƒå®¹æ˜“å¸¶ åƒæ•¸ åŠ å¯è®€æ€§ è¼ƒä½³ã€‚ 12345678910const DOM = document.querySelector('img');//æ–¹æ³•1DOM.setAttribute("style", `padding: 10px`)//æ–¹æ³•2DOM.style.setProperty('padding', '10px');//æ–¹æ³•3DOM.style.padding = '10px'; MDN-setProperty]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-02-JS-and-CSS-Clock]]></title>
    <url>%2F2018%2F02%2F14%2FJS30-02-JS-and-CSS-Clock%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨ JS èˆ‡ CSS æ­é…ä½œå‡ºæ™‚é˜æ•ˆæžœ ç›®æ¨™ é¡¯ç¤ºç›®å‰æ™‚é–“ åˆ©ç”¨ JS èˆ‡ CSS æ­é…ä½œå‡ºæ™‚é˜æ•ˆæžœ å¯¦è¸æ­¥é©Ÿ å…ˆèª¿æ•´æ™‚é˜çš„ CSSæ¨£å¼ ä¿®æ”¹å‰ï¼š æ–°å¢žCSSä¿®æ”¹èªžæ³•ï¼š 1234transform: rotate(90deg); /* å°‡ æ™‚ã€åˆ†ã€ç§’é‡ å¾ž 45åˆ† æ—‹è½‰è‡³ 12é»ž æ–¹å‘ */transform-origin: 100% 50%; /* å°‡æ—‹è½‰çš„åŽŸé»žç§»ä½ */transition: all 0.05s cubic-bezier(0, 2.95, 1, 1); /* è®“ç§’é‡æœ‰è·³å‹•çš„æ•ˆæžœ */border-radius: 50%; /* åŽŸå…ˆæ˜¯ é•·æ–¹å½¢ ï¼Œä¿®æ”¹æˆ åœ“è§’ ï¼Œæ¯”è¼ƒåƒ æ™‚é‡ */ ä¿®æ”¹å¾Œï¼š å–å¾—ç›®å‰æ™‚é–“ï¼Œä¸¦æ¯ç§’æ›´æ–°ä¸€æ¬¡ åˆ©ç”¨ setInterval(setDate, 1000) æ¯ç§’æ›´æ–° ä½¿ç”¨ new Date() å–å¾—ç›®å‰ æ™‚ã€åˆ†ã€ç§’ ä¸€å€‹åœ“å…± 360degï¼Œåˆ†åˆ¥ä¾ç…§ æ™‚ã€åˆ†ã€ç§’ è¨ˆç®—å‡ºå„è‡ªçš„è§’åº¦ ç§’é‡ï¼š(360 / 60) * seconds + 90 åˆ†é‡ï¼š(360 / 60) * seconds + 90 æ™‚é‡ï¼š(360 / 12) * seconds + 90 è£œå……èªªæ˜Žï¼šæœ€å¾Œæœ‰åŠ  90 æ˜¯å› åŽŸå…ˆéƒ½æŒ‡å‘45åˆ†çš„ä½ç½®ï¼Œç‚ºäº†æŒ‡å‘12é»žæ–¹å‘ï¼Œæ‰€ä»¥æœ‰å…ˆç”¨CSSæ—‹è½‰90åº¦ rotate(90deg)ã€‚ æœ€å¾Œç”¨ JS é€éŽ element.style ä¿®æ”¹ æ™‚ã€åˆ†ã€ç§’ çš„è§’åº¦ element.style.tranform = &quot;roate( è§’åº¦ )&quot; æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„setInterval()å¦‚æžœéœ€è¦ä¸€ç›´æŒçºŒå¾ªç’°ä½œå‹•ï¼Œä½¿ç”¨ setIntervalï¼Œä¾‹å¦‚ç¶²é ä¸Šæ¯ä¸€ç§’é˜å°±æ›´æ–°ä¸€æ¬¡æ™‚é–“ã€‚ èªžæ³•ï¼šsetInterval(callback, time) 12//æ¯ç§’åˆ·æ–°æ™‚é–“setInterval(setDate,1000); Date()å–å¾—æ™‚é–“çš„å‡½æ•¸ 12345const nowDate = new Date();nowDate.getSeconds(); //å–å¾—ç•¶å‰ç§’nowDate.getMinutes(); //å–å¾—ç•¶å‰åˆ†é˜nowDate.getHours(); //å–å¾—ç•¶å‰å°æ™‚ element.styleä¸€é–‹å§‹æƒ³èªªè¦æ”¹ CSS å±¬æ€§ï¼Œå°±å¾ˆç›´è¦ºçš„ä½¿ç”¨ ç¬¬ä¸€ç¨® æ–¹æ³•ï¼Œå­¸ç¿’éŽç¨‹ä¸­ï¼Œå¾—çŸ¥ ç¬¬äºŒç¨® æ–¹æ³•ä¹Ÿè¡Œã€‚ ä¿®æ”¹CSSï¼šç¬¬ä¸€ç¨®1secondHand.setAttribute("style", `transform: rotate($&#123;secondDegrees&#125;deg)`) ä¿®æ”¹CSSï¼šç¬¬äºŒç¨®1secondHand.style.transform = `rotate($&#123;secondDegrees&#125;deg)` å»¶ä¼¸ï¼štransform:rotateçš„å½ˆè·³å•é¡Œç•¶ç§’é‡æ—‹è½‰ä¸€åœˆä¹‹å¾Œï¼Œè¦é–‹å§‹æ—‹è½‰ç¬¬äºŒåœˆæ™‚ï¼Œè§’åº¦çš„è¨ˆç®—è®ŠåŒ–æœƒæ˜¯ 444Â°â†’90Â°â†’96Â°ï¼Œé‡é»žå°±åœ¨ 444Â° è®Šæˆ 90Â° æ™‚ï¼Œæœ¬ä¾†rotate éƒ½æ˜¯é †æ™‚é‡æ—‹è½‰ï¼Œä½† 444Â°â†’90Â° é‚£ä¸€çž¬é–“æœƒæ˜¯ é€†æ™‚é‡ è½‰å›žåŽ»ï¼Œè€Œé€ æˆç§’é‡è·³å‹•æœ‰é»žæ€ªç•°ï¼Œæ‰€ä»¥è§£æ±ºæ–¹å¼å¦‚ä¸‹ åœ¨è§’åº¦è¨ˆç®— 444Â°â†’90Â° é‡æ–°å¾ªç’°æ™‚ï¼Œå°‡ transition å±¬æ€§é—œæŽ‰ï¼Œç”±æ–¼è·é›¢çŸ­ï¼Œæ™‚é–“çŸ­ï¼Œå°‡é€†æ™‚é‡è¿´æ—‹çš„éŽç¨‹çž¬é–“å®Œæˆã€‚ ä¿®æ­£ç§’é‡è·³å‹•çš„æ•ˆæžœ1234567891011121314const nowDate = new Date();//ç§’é‡const seconds = nowDate.getSeconds();const secondDegrees = (360 / 60) * seconds + 90;// ä¿®æ­£ç§’é‡è·³å‹•çš„æ•ˆæžœif(secondDegrees === 90)&#123; secondHand.style.transition = 'all 0s';&#125;else&#123; secondHand.style.transition = 'all 0.05s cubic-bezier(0, 2.95, 1, 1)';&#125;secondHand.style.transform = `rotate($&#123;secondDegrees&#125;deg)` å»¶ä¼¸å•é¡Œåƒè€ƒï¼šsoyaineã€GuaHsu]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS30-01-JavaScript-Drum-Kit]]></title>
    <url>%2F2018%2F02%2F13%2FJS30-01-JavaScript-Drum-Kit%2F</url>
    <content type="text"><![CDATA[æŒ‰ä¸‹éµç›¤æ™‚ï¼Œè§¸ç™¼è²éŸ³åŠç‰¹æ•ˆ ç›®æ¨™ æŒ‰ä¸‹éµç›¤æ™‚ï¼Œæ’­æ”¾è²éŸ³ã€é¡¯ç¤ºCSSæ•ˆæžœ æ’­æ”¾å®Œç•¢å¾Œï¼Œç§»é™¤CSSæ•ˆæžœ å¯¦è¸æ­¥é©Ÿ å…ˆç›£è½ éµç›¤ çš„ keydown Event åˆ©ç”¨ e.keyCode å–å¾—ç¬¦åˆçš„ audioæ¨™ç±¤ å’Œ divæ¨™ç±¤ audio æ¨™ç±¤ =&gt; æ’­æ”¾ è²éŸ³ div æ¨™ç±¤ =&gt; é¡¯ç¤º CSSæ•ˆæžœ ç›£è½ CSS çš„ transitionend Event (transitionend äº‹ä»¶æœƒåœ¨ transition ç»“æŸåŽè§¸ç™¼) e.propertyName !== &quot;transform&quot; åƒ…é‡å° transform ç¹¼çºŒåšäº‹ï¼Œä¸æ˜¯å‰‡åœæ­¢ è‹¥ç‚º transformï¼Œå‰‡ç§»é™¤ CSSæ•ˆæžœ æˆå“ [DEMO] | [GitHub] JSå­¸ç¿’ç´€éŒ„HTML5æ¨™ç±¤ HTMLMediaElementé€éŽ js å–å¾— HTMLMediaElement å…ƒç´ ï¼Œä¾†é€²è¡Œå½±éŸ³çš„æ’­æ”¾ã€‚ HTML1&lt;audio data-key="65" src="sounds/clap.wav"&gt;&lt;/audio&gt; JS12345//å–å¾— HTMLMediaElement å…ƒç´ const audio = document.querySelector(`audio[data-key="$&#123;keyCode&#125;"]`);audio.currentTime = 0 ; //è¨­å®šéŸ³æ•ˆå¾ž 0 ç§’é–‹å§‹audio.play(); // æ’­æ”¾éŸ³æ•ˆ MDN-HTMLMediaElementHTMLMediaElement.playHTMLMediaElement.currentTime DOMå…ƒç´  Element.classListé€éŽ classList æ–°å¢žã€ç§»é™¤ã€åˆ‡æ› CSSå±¬æ€§ï¼Œå°±åƒjQueryçš„ addClassã€removeClass ä¸€æ¨£ã€‚ HTML1234&lt;div data-key="65" class="key"&gt; &lt;kbd&gt;A&lt;/kbd&gt; &lt;span class="sound"&gt;clap&lt;/span&gt;&lt;/div&gt; JS123456//å–å¾— DOM å…ƒç´ const key = document.querySelector(`.key[data-key="$&#123;keyCode&#125;"]`);key.classList.add('playing'); //æ–°å¢žCSSå±¬æ€§key.classList.remove('playing'); //ç§»é™¤CSSå±¬æ€§key.classList.toggle('playing'); //åˆ‡æ›CSSå±¬æ€§ Element.classList DOMå…ƒç´  NodeListä½¿ç”¨ querySelectorAll å–å¾—çš„DOMï¼Œè¿”å›žçš„çµæžœæ˜¯ NodeList åž‹æ…‹ï¼Œéž Array åž‹æ…‹ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ Arrayçš„methodï¼Œè‹¥è¦ä½¿ç”¨Arrayçš„methodçš„è©±ï¼Œå°±éœ€è½‰æ›æˆArrayåž‹æ…‹ã€‚ HTML123456789101112&lt;div data-key="65" class="key"&gt; &lt;kbd&gt;A&lt;/kbd&gt; &lt;span class="sound"&gt;clap&lt;/span&gt;&lt;/div&gt;&lt;div data-key="83" class="key"&gt; &lt;kbd&gt;S&lt;/kbd&gt; &lt;span class="sound"&gt;hihat&lt;/span&gt;&lt;/div&gt;&lt;div data-key="68" class="key"&gt; &lt;kbd&gt;D&lt;/kbd&gt; &lt;span class="sound"&gt;kick&lt;/span&gt;&lt;/div&gt; querySelectorAll å–å¾— DOMå…ƒç´ å¾Œï¼Œä½¿ç”¨ NodeList.prototype.forEach() çš„ methodï¼Œæœ‰å¯èƒ½æœƒåœ¨éƒ¨ä»½ç€è¦½å™¨ä¸æ”¯æ´ã€‚ JS12345// å–å¾— DOM å…ƒç´  =&gt; NodeList åž‹æ…‹const keys = document.querySelectorAll('.key'); // NodeList.prototype.forEach() =&gt; IEä¸æ”¯æ´keys.forEach(key =&gt; key.addEventListener('transitionend',removeTransition)) å¯è—‰ç”±ä¸‹åˆ—æ–¹æ³•ï¼Œå°‡ NodeList è½‰æ› Arrayåž‹æ…‹ï¼Œæ”¯æ´åº¦è¼ƒé«˜ã€‚ NodeList è½‰æ› Arrayåž‹æ…‹123456789// ç¬¬ä¸€ç¨®æ–¹æ³•ï¼šArray.from()const keys = Array.from(document.querySelectorAll('.key')); // ç¬¬äºŒç¨®æ–¹æ³•ï¼š... å±•é–‹é‹ç®—å­( Spread Operator )const keys = [...document.querySelectorAll('.key'))]; // è½‰æ›æˆ Arrayåž‹æ…‹ å¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨ forEach()ã€map(), concat() â€¦ç­‰methodkeys.forEach(key =&gt; key.addEventListener('transitionend',removeTransition)) NodeList.prototype.forEach()Array.from()â€¦ å±•é–‹é‹ç®—å­(Spread Operator) CSSç›£è½äº‹ä»¶ transitionendé€éŽ CSS transitionend Event ï¼Œç•¶ transition æ•ˆæžœçµæŸå¾Œï¼Œå°±æœƒè§¸ç™¼æ­¤äº‹ä»¶ï¼Œ JS1234567891011function removeTransition(e)&#123; console.log(e); //æœ‰æ™‚æœƒå¤šå€‹ CSSæ•ˆæžœ ä¸€åŒåŸ·è¡Œï¼Œåƒè€ƒä¸‹åœ–1 console.log(e.propertyName); //å¯é€éŽ event.propertyName å–å¾—æƒ³è¦ç›£è½çš„CSSå±¬æ€§ï¼Œåƒè€ƒä¸‹åœ–2 if(e.propertyName !== "transform") return; // åƒ…é‡å° transformï¼Œä¸æ˜¯å‰‡åœæ­¢ /* your code */&#125;const keys = Array.from(document.querySelectorAll('.key')); keys.forEach(key =&gt; key.addEventListener('transitionend',removeTransition)) // transitionend äº‹ä»¶æœƒåœ¨ CSS transition ç»“æŸåŽè§¸ç™¼ åœ–1ï¼šåŒæ™‚å¤šå€‹ CSSæ•ˆæžœ åœ–2ï¼ševent.propertyName å–å¾— CSSå±¬æ€§åç¨± transitionendMDN-Event reference ä¸€èˆ¬å‡½å¼çš„this(ä½œç‚º DOM äº‹ä»¶åµè½å‡½å¼ â†’ è©² DOM)åœ¨ removeTransition functionè£¡é¢æœ‰ä½¿ç”¨ this åŽ»ç§»é™¤CSSå±¬æ€§ï¼Œè©²å¦‚ä½•åˆ¤æ–·é€™å€‹ this æ˜¯æŒ‡å‘èª°å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼šä¸€èˆ¬å‡½å¼çš„this(ä½œç‚º DOM äº‹ä»¶åµè½å‡½å¼ â†’ è©² DOM) this?123456789function removeTransition(e)&#123; if(e.propertyName !== "transform") return; // åƒ…é‡å° transformï¼Œä¸æ˜¯å‰‡åœæ­¢ // ä¸€èˆ¬å‡½å¼çš„this(ä½œç‚º DOM äº‹ä»¶åµè½å‡½å¼ â†’ è©² DOM) this.classList.remove('playing'); //ç§»é™¤CSSå±¬æ€§&#125;const keys = Array.from(document.querySelectorAll('.key')); keys.forEach(key =&gt; key.addEventListener('transitionend',removeTransition)) JS-ä¸€æ¬¡æžæ‡‚ JavaScript çš„ this]]></content>
      <categories>
        <category>JS</category>
        <category>JS30</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>JS30</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-é™£åˆ—(Array)]]></title>
    <url>%2F2018%2F02%2F02%2FJS-Array%2F</url>
    <content type="text"><![CDATA[Arrayè¤‡ç¿’ èˆ‡ ES6æ–°èªžæ³• pushã€popã€shiftã€unshift å·®ç•° pushï¼šåŠ åˆ°é™£åˆ—æœ«ç«¯ popï¼šç§»é™¤æœ€æœ«ç«¯ shiftï¼šç§»é™¤æœ€å‰ç«¯ unshiftï¼šåŠ åˆ°é™£åˆ—å‰ç«¯ 1234567891011121314151617var home = ['çˆ¸çˆ¸', 'åª½åª½'];// pushï¼šåŠ åˆ°é™£åˆ—æœ«ç«¯var newLength = home.push('è€å¤§');console.log(home); // ["çˆ¸çˆ¸", "åª½åª½", "è€å¤§"]// popï¼šç§»é™¤æœ€æœ«ç«¯var last = home.pop();console.log(home); // ["çˆ¸çˆ¸", "åª½åª½"]// shiftï¼šç§»é™¤æœ€å‰ç«¯var first = home.shift();console.log(home); // ["åª½åª½"]// unshiftï¼šåŠ åˆ°é™£åˆ—å‰ç«¯var newLength = home.unshift('å°èŠ±');console.log(home); // ["å°èŠ±", "åª½åª½"] æŽ’åºèˆ‡åè½‰ sortèˆ‡reversesortarr.sort([compareFunction]) å¦‚æžœ compareFunction æ²’æœ‰è¢«æ‡‰ç”¨, å…ƒç´ å°‡è¢«è½‰æ›ç‚ºå­—ä¸²ä¸¦ä»¥Unicodeç¢¼ä½ä¾†æ¯”è¼ƒä¸¦æŽ’åºã€‚ç‰¹åˆ¥ä¸€æï¼Œåœ¨æ•¸å€¼æŽ’åºä¸­ï¼Œ9 æœƒåœ¨ 80 å‰é¢ï¼Œä½†å› ç‚ºæ•¸å­—è¢«è½‰æ›æˆå­—ä¸²ï¼Œåœ¨Unicodeé †åºä¸­ â€œ80â€ æœƒåœ¨ â€œ9â€ å‰é¢ã€‚ å­—ä¸²æ¯”è¼ƒ1234//å¤§å¯«è‹±æ–‡ Unicode æŽ’åœ¨ å°å¯«è‹±æ–‡ å‰é¢var stringArray = ['blue', 'Humpback', 'Beluga', 'alice'];console.log(stringArray.sort()); //["Beluga", "Humpback", "alice", "blue"] æ•¸å­—æ¯”è¼ƒ1234567891011// æ•¸å­—è¢«è½‰æ›æˆå­—ä¸²var numbers_01 = [1, 30, 4, 21];numbers_01.sort();console.log(numbers_01); // [1, 21, 30, 4]// ç”¨ compareFunctionæ¯”è¼ƒï¼Œå°±ä¸æœƒè¢«è½‰æˆã€Œå­—ä¸²ã€var numbers_02 = [1, 30, 4, 21];numbers_02.sort(function(a, b) &#123; return a - b;&#125;);console.log(numbers_02); // [1, 4, 21, 30] reverseå°‡æ•´å€‹é™£åˆ—ä¸­çš„æˆå“¡é †åºåè½‰ã€‚ 1234const home = ["0.çˆ¸çˆ¸", "1.åª½åª½", "2.è€å¤§", "3.è€äºŒ", "4.è€ä¹ˆ"];home.reverse();console.log(home); // ["4.è€ä¹ˆ", "3.è€äºŒ", "2.è€å¤§", "1.åª½åª½", "0.çˆ¸çˆ¸"] å¦ä¸€å€‹æƒ…æ³æ˜¯å­—ä¸²ä¸­çš„å­—å…ƒï¼Œå¦‚æžœè¦é€²è¡Œåè½‰çš„è©±ï¼Œä¸¦æ²’æœ‰å­—ä¸²ä¸­çš„reverseæ–¹æ³•ï¼Œè¦ç”¨é€™å€‹é™£åˆ—çš„reverseæ–¹æ³•åŠ ä¸Šå­—ä¸²èˆ‡é™£åˆ—çš„äº’ç›¸è½‰æ›çš„splitèˆ‡joinæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„å‡½å¼: å­—ä¸²åè½‰12345function reverseString(str) &#123; return str.split('').reverse().join('');&#125;console.log(reverseString("ABCDEFG")); // "GFEDCBA" slicearr.slice([begin[, end]]) å›žå‚³ä¸€å€‹æ–°é™£åˆ—ï¼Œç‚ºåŽŸé™£åˆ—é¸æ“‡ä¹‹ begin è‡³ endï¼ˆä¸å« endï¼‰éƒ¨åˆ†çš„æ·ºæ‹·è²ï¼ˆshallow copyï¼‰ã€‚ 1234567891011121314const home = ["0.çˆ¸çˆ¸", "1.åª½åª½", "2.è€å¤§", "3.è€äºŒ", "4.è€ä¹ˆ"];// beginç‚ºç©ºæˆ–0ï¼Œå°±æ˜¯å…¨éƒ¨è¤‡è£½console.log(home.slice()); //["0.çˆ¸çˆ¸", "1.åª½åª½", "2.è€å¤§", "3.è€äºŒ", "4.è€ä¹ˆ"]console.log(home.slice(0)); //["0.çˆ¸çˆ¸", "1.åª½åª½", "2.è€å¤§", "3.è€äºŒ", "4.è€ä¹ˆ"]// åƒ… begin åƒæ•¸console.log(home.slice(2)); //["2.è€å¤§", "3.è€äºŒ", "4.è€ä¹ˆ"]// åŠ  end åƒæ•¸ï¼Œæ“·å–åˆ° end çš„ indexã€Œå‰ã€console.log(home.slice(2, 3)); //["2.è€å¤§"]// åŠ  end åƒæ•¸ï¼Œend indexå€¼ è¶…éŽåŽŸé™£åˆ—å€‹æ•¸ï¼Œæ²’æœ‰é—œä¿‚console.log(home.slice(2, 9999)); //["2.è€å¤§", "3.è€äºŒ", "4.è€ä¹ˆ"] splicearray.splice(start[, deleteCount[, item1[, item2[, â€¦]]]]) å¯åˆªé™¤æ—¢æœ‰å…ƒç´ ä¸¦ï¼æˆ–åŠ å…¥æ–°å…ƒç´ ä¾†æ”¹è®Šä¸€å€‹é™£åˆ—çš„å…§å®¹(æœƒæ”¹è®ŠåŽŸé™£åˆ—å€¼)ã€‚ 12345678910111213141516const home = ["0.çˆ¸çˆ¸", "1.åª½åª½", "2.è€å¤§", "3.è€äºŒ", "4.è€ä¹ˆ"];// æœƒæ”¹è®ŠåŽŸé™£ä¾‹å€¼home.splice(2, 0, 'å°èŠ±'); //åœ¨ç´¢å¼• 2 é–‹å§‹ï¼Œæ’å…¥æ–°å¢žå­—ä¸² 'å°èŠ±'console.log(home); // ["0.çˆ¸çˆ¸", "1.åª½åª½", "å°èŠ±", "2.è€å¤§", "3.è€äºŒ", "4.è€ä¹ˆ"]home.splice(2, 1); //åœ¨ç´¢å¼• 2 é–‹å§‹ï¼Œåˆªé™¤ 1å€‹ å…ƒç´ console.log(home); // ["0.çˆ¸çˆ¸", "1.åª½åª½", "2.è€å¤§", "3.è€äºŒ", "4.è€ä¹ˆ"]home.splice(2, 3, 'å·§è™Ž', 'çªçª', 'æ¡ƒæ¨‚æ¯”'); //åœ¨ç´¢å¼• 2 é–‹å§‹ï¼Œåˆªé™¤ 3å€‹ å…ƒç´ å¾Œï¼Œå†æ–°å¢ž 3å€‹ æ–°å…ƒç´ console.log(home); // ["0.çˆ¸çˆ¸", "1.åª½åª½", "å·§è™Ž", "çªçª", "æ¡ƒæ¨‚æ¯”"]// ES6 å±•é–‹é‹ç®—å­( Spread Operator )const addArr = ['å·§è™Ž', 'çªçª', 'æ¡ƒæ¨‚æ¯”'];home.splice(2, 3, ...addArr); //åœ¨ç´¢å¼• 2 é–‹å§‹ï¼Œåˆªé™¤ 3å€‹ å…ƒç´ å¾Œï¼Œå†æ–°å¢ž 3å€‹ æ–°å…ƒç´ console.log(home); // ["0.çˆ¸çˆ¸", "1.åª½åª½", "å·§è™Ž", "çªçª", "æ¡ƒæ¨‚æ¯”"] æ·ºæ‹·è²ä½œæ³•1. ES6 å±•é–‹é‹ç®—å­( Spread Operator ) 12const aArray = [1, 2, 3];const copyArray = [...aArray]; å®ƒä¹Ÿå¯ä»¥ç”¨ä¾†çµ„åˆé™£åˆ— 12const aArray = [1, 2, 3];const bArray = [5, 6, ...aArray, 8, 9]; // [5, 6, 1, 2, 3, 8, 9] 2. slice 1234const oldArray = [1, 2, 3];const newArray = oldArray.slice(0); // [1, 2, 3]const newArray = oldArray.slice(); // [1, 2, 3] 3. concat 12const oldArray = [1, 2, 3];const newArray = [].concat(oldArray); // [1, 2, 3] ES6- find èˆ‡ findIndex find =&gt; å›žå‚³ value findIndex =&gt; å›žå‚³ index åŸºæœ¬å¯«æ³•123456789101112131415const aArray = [1, 3, 5, 7, 10, 22];// findconst bValue = aArray.find(function (value, index, array)&#123; return value &gt; 6&#125;)console.log(bValue); //å›žå‚³ç¬¬ä¸€å€‹æ»¿è¶³æ¢ä»¶çš„ã€Œvalueã€ï¼š7// findIndexconst cIndex = aArray.findIndex(function (value, index, array)&#123; return value &gt; 6&#125;)console.log(cIndex); //å›žå‚³ç¬¬ä¸€å€‹æ»¿è¶³æ¢ä»¶çš„ã€Œindexã€ï¼š3 é€²éšŽæ‡‰ç”¨ä¸éŽç•¶æœƒç”¨åˆ° find æˆ– findIndex æ™‚ï¼Œè¡¨ç¤ºè¦å°‹æ‰¾çš„æ¢ä»¶é€šå¸¸æ¯”è¼ƒè¤‡é›œä¸€é»žï¼Œæ‰èƒ½é¡¯ç¾ä»–å€‘æ¯” indexOf å¼·å¤§ä¹‹è™•ã€‚ ç¯„ä¾‹1 å¾žé™£åˆ—ä¸­æ‰¾å‡ºç¬¦åˆæ¢ä»¶çš„ ç‰©ä»¶ 123456789101112131415var inventory = [ &#123;name: 'apples', quantity: 2&#125;, &#123;name: 'bananas', quantity: 0&#125;, &#123;name: 'cherries', quantity: 5&#125;];function isCherries(fruit) &#123; return fruit.name === 'cherries';&#125;// find å›žå‚³ç¬¬ä¸€å€‹æ»¿è¶³æ¢ä»¶çš„ã€Œvalueã€console.log(inventory.find(isCherries)); // &#123; name: 'cherries', quantity: 5 &#125;// findIndex å›žå‚³ç¬¬ä¸€å€‹æ»¿è¶³æ¢ä»¶çš„ã€Œindexã€console.log(inventory.findIndex(isCherries)); // 2 ç¯„ä¾‹2 æ‰¾å‡ºè³ªæ•¸ 1234567891011121314151617function isPrime(element, index, array) &#123; var start = 2; while (start &lt;= Math.sqrt(element)) &#123; if (element % start++ &lt; 1) &#123; return false; &#125; &#125; return element &gt; 1;&#125;// find å›žå‚³ç¬¬ä¸€å€‹æ»¿è¶³æ¢ä»¶çš„ã€Œvalueã€console.log([4, 6, 8, 12].find(isPrime)); // undefined, not foundconsole.log([4, 5, 8, 12].find(isPrime)); // 5// findIndex å›žå‚³ç¬¬ä¸€å€‹æ»¿è¶³æ¢ä»¶çš„ã€Œindexã€console.log([4, 6, 8, 12].findIndex(isPrime)); // -1, not foundconsole.log([4, 6, 7, 12].findIndex(isPrime)); // 2 ES6-includesåœ¨é™£åˆ—ä¸­å°‹æ‰¾æ˜¯å¦åŒ…å«é€™å€‹å€¼ï¼Œå¦‚æžœæœ‰å°±æœƒå›žå‚³ trueï¼Œæ²’æœ‰å‰‡æœƒå›žå‚³falseã€‚ 12345678// æ•¸å­—const numArr = [1, 2, 3];console.log(numArr.includes(2)); // true// å­—ä¸²const strArr = ['è€å¤§', 'è€äºŒ', 'è€ä¹ˆ'];console.log(strArr.includes('è€äºŒ')); // trueconsole.log(strArr.includes('å°èŠ±')); // false åƒè€ƒä¾†æºMDN-ArrayES6 é™£åˆ—èªžæ³•ç³–ES6å­¸ç¿’-é™£åˆ—æ•°ç»„çš„æ‰©å±•]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>Array</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-for...inèˆ‡for...ofçš„å·®åˆ¥]]></title>
    <url>%2F2018%2F01%2F30%2FJS-for-of-forin%2F</url>
    <content type="text"><![CDATA[forâ€¦ofèˆ‡forâ€¦inçš„å·®åˆ¥ ç¸½çµ å»ºè­°ï¼šåœ¨è¿­ä»£ç‰©ä»¶å±¬æ€§æ™‚ï¼Œä½¿ç”¨ for...inï¼›åœ¨è¿­ä»£é™£åˆ—æ™‚ï¼Œä½¿ç”¨ for...ofã€‚ for...in è¼¸å‡ºçš„æ˜¯å±¬æ€§åç¨±(key)ï¼Œfor...of è¼¸å‡ºçš„æ˜¯å€¼(value) for...of æ˜¯ ES6 çš„æ–°èªžæ³•ã€‚ä¿®å¾©äº†ES5 forâ€¦in çš„ä¸è¶³ for...of ä¸èƒ½è¿­ä»£ç‰©ä»¶ï¼Œéœ€è¦é€éŽå’Œ Object.keys() æ­é…ä½¿ç”¨ ç¯„ä¾‹èªªæ˜Žåƒè€ƒä¸‹åˆ—ä¸‰å€‹ç¯„ä¾‹è®ŠåŒ–èˆ‡èªªæ˜Žï¼Œå³å¯äº†è§£ for...of èˆ‡ for...in ä¹‹é–“çš„å·®åˆ¥ ç¯„ä¾‹1 å–®ç´”è¿­ä»£é™£åˆ—çš„è©±ï¼Œfor...in è¼¸å‡ºçš„æ˜¯å±¬æ€§åç¨±(key)ï¼Œfor...of è¼¸å‡ºçš„æ˜¯å€¼(value) 1234567891011let iterable = [3, 5, 7];// å›žå‚³ã€Œkeyã€for (let i in iterable) &#123; console.log(i); // "0", "1", "2"&#125;// å›žå‚³ã€Œvalueã€for (let i of iterable) &#123; console.log(i); // 3, 5, 7&#125; ç¯„ä¾‹2 å†ä¾†æˆ‘å€‘åœ¨åŽŸæœ¬çš„é™£åˆ—ï¼Œæ–°å¢žä¸€å€‹å±¬æ€§ fooï¼Œå¯çœ‹åˆ° for...in æœ‰å°‡æ­¤å±¬æ€§ foo ä¹Ÿè¼¸å‡ºã€‚ æ–°å¢žé™£åˆ—çš„å±¬æ€§123456789101112let iterable = [3, 5, 7];iterable.foo = 'hello'; //æ–°å¢žfooå±¬æ€§åç¨±// å›žå‚³ã€Œkeyã€ï¼Œä¸”æœƒè®€å–åˆ°é™£åˆ—æ–°å¢žçš„å±¬æ€§åç¨±for (let i in iterable) &#123; console.log(i); // "0", "1", "2", "foo"&#125;// å›žå‚³ã€Œvalueã€for (let i of iterable) &#123; console.log(i); // 3, 5, 7&#125; ç¯„ä¾‹3 å†ä¾†æˆ‘å€‘é€™æ¬¡åœ¨ç‰©ä»¶å’Œé™£åˆ—çš„åŽŸåž‹éŠä¸Šï¼Œåˆ†åˆ¥å„æ–°å¢žfunctionï¼Œä¸€æ¨£å¯çœ‹åˆ° for...in ä¹Ÿå°‡åŽŸåž‹é‹‰ä¸Šçš„functionåç¨±ä¹Ÿè¼¸å‡ºäº†ã€‚ åœ¨ åŽŸåž‹éŠä¸Š æ–°å¢žfunction12345678910111213141516// åœ¨ åŽŸåž‹éŠä¸Š æ–°å¢žfunctionObject.prototype.objCustom = function()&#123;&#125;; //ç‰©ä»¶ åŽŸåž‹é‹‰Array.prototype.arrCustom = function()&#123;&#125;; //é™£åˆ— åŽŸåž‹é‹‰let iterable = [3, 5, 7];iterable.foo = 'hello';// å›žå‚³ã€Œkeyã€ï¼Œä¸”åŒæ™‚æœƒè®€å–åˆ° ç‰©ä»¶ã€é™£åˆ— åŽŸåž‹éŠä¸Šçš„functionfor (let i in iterable) &#123; console.log(i); // "0", "1", "2", "foo", "arrCustom", "objCustom"&#125;// å›žå‚³ã€Œå€¼ã€for (let i of iterable) &#123; console.log(i); // 3, 5, 7&#125; ç”±ä¸Šé¢ä¸‰å€‹æ¡ˆä¾‹ä¾†çœ‹ï¼Œå¦‚æžœåªæ˜¯æƒ³å–®ç´”çš„è¿­ä»£å–å‡ºé™£åˆ—å€¼çš„è©±ï¼Œå»ºè­°ä½¿ç”¨ for...of æœƒæ¯”è¼ƒå¥½ï¼Œä¸éŽæ³¨æ„æ­¤èªžæ³•ç‚º ES6 æ–°èªžæ³•ã€‚ for..of è¿­ä»£ ç‰©ä»¶(object)å¦‚æžœæƒ³ç”¨ for...of ä¾†éæ­·ç‰©ä»¶çš„å±¬æ€§çš„è©±ï¼Œå¯ä»¥é€šéŽå’Œ Object.keys() æ­é…ä½¿ç”¨ï¼Œå…ˆå–å¾—ç‰©ä»¶çš„æ‰€æœ‰keyçš„æ•¸çµ„ï¼Œç„¶å¾Œå†éæ­·ã€‚ 123456789101112131415161718var student=&#123; name:'kanboo', age:16, locate:&#123; country:'tw', city:'taipei', school:'CCC' &#125;&#125;for(var key of Object.keys(student))&#123; //ä½¿ç”¨Object.keys()æ–¹æ³•å–å¾—ç‰©ä»¶çš„Keyçš„é™£åˆ— console.log(key+": "+student[key]);&#125;// "name: kanboo"// "age: 16"// "locate: [object Object]" åƒè€ƒä¾†æºMDN-forâ€¦ofjavascript-for ofå’Œfor inçš„å€åˆ¥ï¼Ÿ]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>ES6</tag>
        <tag>for of</tag>
        <tag>for in</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-è§£æ§‹è³¦å€¼(Destructuring Assignment)]]></title>
    <url>%2F2018%2F01%2F28%2FES6-DestructuringAssignment%2F</url>
    <content type="text"><![CDATA[è§£æ§‹è³¦å€¼(Destructuring Assignment) åŸºæœ¬èªªæ˜Žç°¡å–®ä¾†èªªï¼Œå¯ä»¥æƒ³åƒæ˜¯é¡å­çš„æ¦‚å¿µï¼Œå°‡å³æ–¹çš„è³‡æ–™å¾€å·¦é‚Šé€ï¼Œç„¶å¾Œæœƒä¸€å€‹ä½ç½®å°ä¸€å€‹å€¼ã€‚ é™£åˆ— ==å°æ‡‰=&gt; é †åºçš„ç´¢å¼•å€¼ ç‰©ä»¶ ==å°æ‡‰=&gt; ç‰©ä»¶çš„å±¬æ€§åç¨± é™£åˆ—è§£æ§‹è³¦å€¼åŸºæœ¬ç”¨æ³•æ–°èˆŠå¯«æ³•12345678910//ES5let numbers = [1, 2, 3];let a = numbers[0];let b = numbers[1];let c = numbers[2];console.log(a,b,c); // 1, 2, 3//ES6let [a, b, c] = [1, 2, 3];console.log(a, b, c); // 1, 2, 3 é™£åˆ—å„ç¨®æƒ…å¢ƒç•¶è®Šæ•¸çš„æ•¸é‡å¤šæ–¼è³¦äºˆçš„å€¼æ™‚ï¼Œå¤šå‡ºä¾†çš„é‚£å€‹è®Šæ•¸æœƒè¢«è³¦äºˆ undefined çš„å€¼ï¼ˆd = undefinedï¼‰ï¼š è®Šæ•¸ å¤šæ–¼ æ‰€çµ¦çš„å€¼123// è®Šæ•¸ å¤šæ–¼ æ‰€çµ¦çš„å€¼let [a, b, c, d] = [1, 2, 3];console.log(a, b, c, d); // 1, 2, 3, undefined ç•¶è¼¸å…¥çš„è®Šæ•¸å°‘æ–¼æ‰€çµ¦çš„å€¼çš„æ™‚å€™ï¼Œåªæœ‰è¢«æŒ‡å®šåˆ°çš„è®Šæ•¸æœƒæœ‰å€¼ï¼Œå°‘æŽ‰çš„è®Šæ•¸å¯ä»¥ç›´æŽ¥ç©ºéŽåŽ»ï¼š ç•¶è®Šæ•¸ å°‘æ–¼ æ‰€çµ¦çš„å€¼1234// ç•¶è®Šæ•¸ å°‘æ–¼ æ‰€çµ¦çš„å€¼let [a, , c] = [1,2,3];console.log(a, c); // 1, 3 è‡³æ–¼é™£ä¾‹å‚³å€¼æ˜¯æœ‰é †åºæ€§ï¼Œåœ¨é€™å€‹ç¯„ä¾‹ä¸­ç›´æŽ¥å°‡å³é‚Šçš„è®Šæ•¸äº¤æ›åˆ°å·¦é‚Šï¼Œå¯ä»¥çœ‹åˆ°æ˜¯åŒæ™‚äº¤æ›è®Šæ•¸ï¼Œæ‰€ä»¥åœ¨äº’æ›è®Šæ•¸å€¼æ™‚æ˜¯éžå¸¸æ–¹ä¾¿çš„ã€‚ äº¤æ›å€¼123// äº¤æ›å€¼const a = 1, b = 2;[b, a] = [a, b] //a=2, b=1 é‡åˆ°å­—ä¸²å‰‡æœƒå°‡å­—ä¸²æ‹†è§£æˆä¸€å€‹ä¸€å€‹å­—å…ƒï¼Œè³¦äºˆåˆ°å·¦æ–¹çš„è®Šæ•¸ä¸Šã€‚ å­—ä¸²12let str = 'kanboo';[a, b, c, d, e, f] = str; å¦å¤–ä¹Ÿå¯ä»¥é‹ç”¨ES6çš„å…¶é¤˜åƒæ•¸ ï¼Œå¯ä»¥çœ‹åˆ°æœ‰å€‹ ...other çš„ç”¨æ³• ï¼Œé€™æ˜¯å¯ä»¥å°‡å‰©é¤˜çš„é™£åˆ—æˆå“¡é€šé€šå¡žçµ¦ other é€™å€‹è®Šæ•¸ï¼Œå¦‚æžœæ²’æœ‰ç›¸å°æ‡‰çš„å€¼å‰‡é€™å€‹è®Šæ•¸çš„å€¼æœƒæ˜¯undefined, å…¶é¤˜åƒæ•¸12345678let [one, ...other] = [1, 2, 3, 4];console.log(one); // 1console.log(other); // [2, 3, 4]let [a, b, ...z] = ['a'];console.log(a); // 'a'console.log(b); // undefinedconsole.log(z); // [] ç‰©ä»¶è§£æ§‹è³¦å€¼é™£åˆ—æ˜¯ä½¿ç”¨é †åºçš„ç´¢å¼•å€¼å°æ‡‰ï¼Œä½†ç‰©ä»¶å‰‡æ˜¯ä½¿ç”¨ç‰©ä»¶çš„å±¬æ€§åç¨±ä¾†åšå°æ‡‰(å› æ­¤æ²’æœ‰é †åºæ€§)ã€‚ åœ¨ä»¥ä¸‹ç¯„ä¾‹å‰‡æ˜¯å¿«é€Ÿå°‡ç‰©ä»¶å€¼è§£æ§‹åœ¨è®Šæ•¸ä¸Šã€‚ 1234567// åŸºæœ¬ç”¨æ³•const &#123; user, admin &#125; = &#123; user: "å¹³æ°‘", admin: "çš‡å¸" &#125;console.log(user, admin); //"å¹³æ°‘","çš‡å¸"// å±¬æ€§åç¨±å°æ›ä½ç½®ä¹Ÿä¸å½±éŸ¿const &#123; admin, user &#125; = &#123; user: "å¹³æ°‘", admin: "çš‡å¸" &#125;console.log(admin, user); //"çš‡å¸", "å¹³æ°‘" å¦‚æžœè®Šæ•¸èˆ‡å±¬æ€§åéƒ½æ²’æœ‰å°æ‡‰çš„åç¨±ï¼Œå‰‡è®Šæ•¸çš„å€¼æœƒæ˜¯ undefined 123// æ²’æœ‰å°æ‡‰çš„å±¬æ€§const &#123; user &#125; = &#123; admin: "çš‡å¸" &#125;console.log(user); //undefined è€Œç‰©ä»¶çš„è§£æ§‹æ–¹æ³•ï¼Œé‚„èƒ½é‡æ–°è³¦äºˆè®Šæ•¸çš„åç¨±ï¼Œä¹Ÿå¯ä»¥å±¬æ€§å€¼ä¾†ç•¶ä½œè®Šæ•¸å°æ‡‰ç­‰è™Ÿå¾Œæ–¹çš„å±¬æ€§å€¼ï¼Œå¯«æ³•æœƒæ˜¯é¡žä¼¼é€™æ¨£: 12const &#123; user: aa, admin: zz &#125; = &#123; user: "å¹³æ°‘", admin: "çš‡å¸" &#125;console.log(aa, zz); //"å¹³æ°‘","çš‡å¸" ä¸å¯è¡Œçš„å¯«æ³•å’Œé™£åˆ—è§£æ§‹è³¦å€¼ä¸åŒçš„æ˜¯ï¼Œåœ¨é™£åˆ—è§£æ§‹è³¦å€¼ä¸­ï¼Œæˆ‘å€‘å¯ä»¥æŽ¥å— ã€Œè®Šæ•¸ å°‘æ–¼ æ‰€çµ¦çš„å€¼ ã€ï¼š é™£åˆ—12let [a, , c] = [1, 2, 3];console.log(a, c); // 1, 3 ä½†æ˜¯åœ¨ç‰©ä»¶è§£æ§‹è³¦å€¼ä¸­ï¼Œæˆ‘å€‘ä¸èƒ½åƒä¸Šé¢é€™æ¨£å¯«ï¼š ç‰©ä»¶12let&#123;a, ,c&#125; = &#123;a:1, b:2, c:3&#125;;console.log(a,c); // Error åªèƒ½æŽ¥å— ã€Œè®Šæ•¸ å¤šæ–¼ æ‰€çµ¦çš„å€¼ ã€ ç‰©ä»¶12let&#123;a, b, c, d&#125; = &#123;a:1, c:3&#125;;console.log(a, b, c, d); // 1, undefined, 3, undefined ç‰©ä»¶è§£æ§‹è³¦å€¼çš„ç”¨é€”ç‰©ä»¶è§£æ§‹è³¦å€¼çš„ç”¨é€”ç›¸ç•¶å¤šï¼Œå…¶ä¸­åœ¨æå– JSON æ•¸æ“šæ™‚ç›¸ç•¶æ–¹ä¾¿ï¼š JSON1234567891011let ajax_JSON = &#123; id: 9527, name: "Kanboo", other:&#123; tel: "1234567", fax: "7654321" &#125;&#125;let &#123;id, name, other&#125; = ajax_JSON;console.log(id, name, other); å¦‚æ­¤å°±èƒ½å¤ å¿«é€Ÿå–å¾— JSON ç‰©ä»¶çš„å±¬æ€§åå’Œå±¬æ€§å€¼ã€‚ æ··åˆä½¿ç”¨è¤‡é›œçš„ç‰©ä»¶æˆ–æ··åˆé™£åˆ—åˆ°ç‰©ä»¶ï¼Œå¦‚æžœä½ èƒ½è¨˜ä½ä¹‹å‰èªªçš„é¡å­æ¨£å¼å°æ˜ åŸºæœ¬åŽŸå‰‡ï¼Œå…¶å¯¦ä¹Ÿå¾ˆå®¹æ˜“å°±èƒ½ç†è§£ ç¯„ä¾‹112let &#123; home: Master, family: [ , member] &#125; = &#123; home: 'åª½åª½', family: ['è€å¤§', 'è€äºŒ', 'è€ä¹ˆ']&#125;console.log( Master, member ); // åª½åª½ è€äºŒ ç¯„ä¾‹21234567891011// è¤‡é›œå¤šå±¤æ¬¡çš„ç‰©ä»¶const &#123; prop: x, prop2: &#123; prop3: &#123; nested: [ , , b] &#125; &#125;&#125; = &#123; prop: "Hello", prop2: &#123; prop3: &#123; nested: ["a", "b", "c"]&#125;&#125;&#125;console.log(x, b); // =&gt; Hello c é è¨­å€¼é™¤äº†ä½¿ç”¨é¡å°„çš„æ¦‚å¿µå¤–ï¼Œç‚ºäº†é¿å…å€¼æ²’æœ‰è³¦äºˆé€ æˆ undefinedï¼Œå¯ä»¥ä½¿ç”¨é è¨­å€¼é¿å…æ­¤å•é¡Œã€‚ å¦‚ä»¥ä¸‹å·¦æ–¹çš„é™£åˆ—éƒ½å…ˆè³¦äºˆçš„é è¨­å€¼ï¼Œç•¶å³æ–¹çš„é™£åˆ—åªæœ‰ä¸€å€‹å€¼æ™‚ï¼Œå·¦æ–¹çš„é™£åˆ—å‰©é¤˜å…§å®¹å°‡æœƒæŽ¡ç”¨é è¨­å€¼ã€‚ 12345678const [ isPass = true ] = []console.log(isPass); // trueconst &#123; message: msg = 'Hello' &#125; = &#123;&#125;console.log(msg); // "Hello"const &#123; a = 6 &#125; = &#123;&#125;console.log(a); // 6 è¦ä½œä¸€å€‹ç°¡å–®çš„é™·é˜±é¡Œæ»¿ç°¡å–®çš„ï¼Œä½ å¯ä»¥è©¦çœ‹çœ‹ä¸‹é¢é€™å€‹ç¯„ä¾‹ä¸­åˆ°åº•æ˜¯è³¦åˆ°äº†ä»€éº¼å€¼ï¼š 1234const &#123; a ='kanboo' &#125; = 'hello'const [ b ='kanboo' ] = 'hello'console.log( a, b) å‡½å¼é™¤äº†ä»¥ä¸Šçš„æ–¹æ³•å¤–ï¼Œè§£æ§‹ä¹Ÿèƒ½ä½¿ç”¨åœ¨å‡½å¼çš„åƒæ•¸ï¼Œä½¿ç”¨æ–¹å¼å¦‚åŒå°‡å‚³å…¥çš„ç‰©ä»¶å°æ‡‰åˆ°å‡½å¼åƒæ•¸ä¸Šã€‚é€™æ¨£åƒæ•¸ä¸€æ¨£èƒ½å¤ èƒ½å¤ è‡ªè¨‚è®Šæ•¸åç¨±ã€é †åºã€é è¨­å€¼ç­‰ã€‚ 123456789function func(&#123;a = 3, b&#125;) &#123; console.log(a + b);&#125;func(&#123;a: 1, b: 2&#125;) // 3func(&#123;b: 2&#125;) // 5func(&#123;a: 1&#125;) // NaNfunc(&#123;&#125;) // NaNfunc() // Cannot read property 'a' of undefined ç•¶aèˆ‡bå…©å€‹éƒ½æœ‰é è¨­å€¼æ™‚ï¼ŒNaN çš„æƒ…æ³ä¸å­˜åœ¨ï¼š 123456789function func(&#123;a = 3, b = 5&#125;) &#123; console.log(a + b);&#125;func(&#123;a: 1, b: 2&#125;) // 3func(&#123;a: 1&#125;) // 6func(&#123;b: 2&#125;) // 5func(&#123;&#125;) // 8func() // Cannot read property 'a' of undefined å¯¦éš›ä¸Šå‡½å¼å‚³å…¥åƒæ•¸å®ƒè‡ªå·±ä¹Ÿå¯ä»¥åŠ é è¨­å€¼ï¼Œä½†é€™æƒ…æ³æœƒè®“æœ€å¾Œä¸€ç¨® func() å‘¼å«æ™‚èˆ‡ func({}) ç›¸åŒçµæžœï¼š 123456789function func(&#123;a = 3, b = 5&#125; = &#123;&#125;) &#123; console.log(a + b);&#125;func(&#123;a: 1, b: 2&#125;) // 3func(&#123;a: 1&#125;) // 6func(&#123;b: 2&#125;) // 5func(&#123;&#125;) // 8func() // 8 å¦ä¸€ç¨®æƒ…æ³æ˜¯åœ¨å‡½å¼å‚³å…¥åƒæ•¸çš„é è¨­å€¼ä¸­çµ¦äº†å¦ä¸€å¥—é è¨­å€¼ï¼Œé€™åªæœƒåœ¨func()æ™‚ç™¼æ®å®ƒçš„ä½œç”¨ï¼š 123456789function func(&#123;a = 3, b = 5&#125; = &#123;a: 7, b: 11&#125;) &#123; console.log(a + b);&#125;func(&#123;a: 1, b: 2&#125;) // 3func(&#123;a: 1&#125;) // 6func(&#123;b: 2&#125;) // 5func(&#123;&#125;) // 8func() // 18 åƒè€ƒä¾†æºé‚å‘ JavaScript å‹‡è€…ä¹‹è·¯å¾žES6é–‹å§‹çš„JavaScriptå­¸ç¿’ç”Ÿæ´»é™£åˆ—è§£æ§‹è³¦å€¼ç‰©ä»¶è§£æ§‹è³¦å€¼]]></content>
      <categories>
        <category>JS</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>ES6</tag>
        <tag>è§£æ§‹è³¦å€¼</tag>
        <tag>Destructuring Assignment</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-æ·ºæ‹·è²(Shallow Copy) VS æ·±æ‹·è²(Deep Copy)]]></title>
    <url>%2F2018%2F01%2F27%2FJS-ShallowCopy-DeepCopy%2F</url>
    <content type="text"><![CDATA[æ·ºæ‹·è²(Shallow Copy) VS æ·±æ‹·è²(Deep Copy) åŸºæœ¬èˆ‡ç‰©ä»¶åž‹åˆ¥å‚³å€¼çš„å·®ç•° JavaScript å…§å»ºçš„åž‹åˆ¥ä¸»è¦å¯ä»¥åˆ†æˆåŸºæœ¬åž‹åˆ¥ (Primitives) èˆ‡ç‰©ä»¶åž‹åˆ¥ (Object) å…©å¤§é¡žã€‚ è€ŒåŸºæœ¬åž‹åˆ¥åˆåˆ†æˆ stringã€numberã€booleanã€nullã€undefined å¹¾ç¨®ï¼Œé™¤äº†ä»¥ä¸Šå¹¾ç¨®ä¹‹å¤–ï¼Œå…¶ä»–éƒ½å¯ä»¥æ­¸é¡žè‡³ç‰©ä»¶åž‹åˆ¥ (Object) é€™äºŒç¨®åž‹åˆ¥ä¹‹é–“çš„å·®ç•°ï¼Œå°±æ˜¯åœ¨ä»–å€‘çš„å‚³å€¼æ–¹å¼ åŸºæœ¬åž‹åˆ¥ =&gt; å‚³å€¼(value) ç‰©ä»¶åž‹åˆ¥ =&gt; å‚³å€(reference) ä¸‹é¢ç¯„ä¾‹ä¾†è§£èªªä»–å€‘çš„å·®ç•° åŸºæœ¬åž‹åˆ¥ åŸºæœ¬åž‹åˆ¥æ˜¯å‚³ value åŸºæœ¬åž‹åˆ¥ï¼Œå‚³value1234567let a = "çˆ¸çˆ¸";let b = a;b = "åª½åª½";console.log(a); //çˆ¸çˆ¸console.log(b); //åª½åª½ åœ¨ä¿®æ”¹ b æ™‚ä¸¦ä¸æœƒæ”¹åˆ° a çš„å€¼ ç‰©ä»¶åž‹åˆ¥ ä½†ç‰©ä»¶å°±ä¸åŒï¼Œç‰©ä»¶å‚³çš„æ˜¯ reference ç‰©ä»¶åž‹åˆ¥ï¼Œå‚³reference1234567let objA = &#123; name: 'çŽ‹å¤§é ­' &#125;let objB = objAobjB.name = 'ç›§å¡æ–¯'console.log(objA); //"ç›§å¡æ–¯"console.log(objB); //"ç›§å¡æ–¯" æ·ºæ‹·è²(Shallow Copy) VS æ·±æ‹·è²(Deep Copy) æ·ºæ‹·è²ï¼šåªè¤‡è£½æŒ‡å‘æŸå€‹ç‰©ä»¶çš„æŒ‡æ¨™ï¼Œè€Œä¸è¤‡è£½ç‰©ä»¶æœ¬èº«ï¼Œæ–°èˆŠç‰©ä»¶é‚„æ˜¯å…±ç”¨åŒä¸€å¡Šè¨˜æ†¶é«”ã€‚ æ·±æ‹·è²ï¼šæœƒå¦å¤–å‰µé€ ä¸€å€‹ä¸€æ¨¡ä¸€æ¨£çš„ç‰©ä»¶ï¼Œæ–°ç‰©ä»¶è·ŸåŽŸç‰©ä»¶ä¸å…±ç”¨è¨˜æ†¶é«”ï¼Œä¿®æ”¹æ–°ç‰©ä»¶ä¸æœƒæ”¹åˆ°åŽŸç‰©ä»¶ã€‚ Object.assignObject.assign æ˜¯ ES6 çš„æ–°å‡½å¼ï¼Œæˆ‘å€‘å¯ä»¥ç”¨ä¾†é”æˆè¤‡è£½çš„åŠŸèƒ½ è¤‡è£½ç‰©ä»¶123456789let obj = &#123;name: 'çŽ‹åº·å¯¶', age:&#123;child: 18&#125;&#125;let copy = Object.assign(&#123;&#125;, obj);//æ›´æ”¹ copy.name çš„å€¼copy.name = 'ç›§å¡æ–¯';//è¼¸å‡ºconsole.log(obj); //&#123;name: "çŽ‹åº·å¯¶", age:&#123;child: 18&#125;&#125;console.log(copy); //&#123;name: "ç›§å¡æ–¯", age:&#123;child: 18&#125;&#125; But Object.assign ä¸¦ä¸æ˜¯é‚£éº¼çš„å®Œç¾Žï¼Œè«‹å†çœ‹ä¸‹ä¾‹ æ·ºæ‹·è²123456789let obj = &#123;name: 'çŽ‹åº·å¯¶', age:&#123;child: 18&#125;&#125;let copy = Object.assign(&#123;&#125;, obj);copy.name = 'ç›§å¡æ–¯';copy.age.child = 99; //æ›´æ”¹ copy.age.child çš„å€¼//è¼¸å‡ºconsole.log(obj); //&#123;name: "çŽ‹åº·å¯¶", age:&#123;child: 99&#125;&#125;console.log(copy); //&#123;name: "ç›§å¡æ–¯", age:&#123;child: 99&#125;&#125; æˆ‘å€‘å¯ä»¥çœ‹åˆ°æ›´æ”¹ copy.age.child å€¼ä»¥å¾Œï¼Œç™¼ç¾ obj.age.child å€¼ä¹Ÿè·Ÿè‘—è¢«è®ŠæŽ‰äº†ï¼Œæ‰€ä»¥ Object.assign èƒ½è™•ç†æ·±åº¦ï¼Œåªæœ‰ä¸€å±¤çš„ç‰©ä»¶ï¼Œæ²’è¾¦æ³•åšåˆ°çœŸæ­£çš„ æ·±æ‹·è²(Deep Copy)ï¼Œä¸éŽå¦‚æžœè¦è¤‡è£½çš„ç‰©ä»¶åªæœ‰ä¸€å±¤çš„è©±å¯ä»¥è€ƒæ…®ä½¿ç”¨ä»–ã€‚ å¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨ å±•é–‹é‹ç®—å­(Spread Operator) é”æˆè¤‡è£½ï¼Œä¸éŽä¸€æ¨£æ˜¯ æ·ºå±¤çš„è¤‡è£½ã€‚ å±•é–‹é‹ç®—å­( Spread Operator )123456789let obj = &#123;name: 'çŽ‹åº·å¯¶', age:&#123;child: 18&#125;&#125;let copy = &#123;...obj&#125;; //å±•é–‹é‹ç®—å­(Spread Operator)copy.name = 'ç›§å¡æ–¯';copy.age.child = 99; //æ›´æ”¹ copy.age.child çš„å€¼//è¼¸å‡ºconsole.log(obj); //&#123;name: "çŽ‹åº·å¯¶", age:&#123;child: 99&#125;&#125;console.log(copy); //&#123;name: "ç›§å¡æ–¯", age:&#123;child: 99&#125;&#125; æ·±æ‹·è²çš„ä½œæ³•jQueryjquery æœ‰æä¾›ä¸€å€‹ $.extend å¯ä»¥ç”¨ä¾†åš Deep Copy jquery.extend123456789let obj = &#123;name: 'çŽ‹åº·å¯¶', age:&#123;child: 18&#125;&#125;let copy = $.extend(true, &#123;&#125;, obj); //ä½¿ç”¨ jquery.extendcopy.name = 'ç›§å¡æ–¯';copy.age.child = 99; //æ›´æ”¹ copy.age.child çš„å€¼//è¼¸å‡ºconsole.log(obj); //&#123;name: "çŽ‹åº·å¯¶", age:&#123;child: 18&#125;&#125;console.log(copy); //&#123;name: "ç›§å¡æ–¯", age:&#123;child: 99&#125;&#125; lodashlodash ä¹Ÿæœ‰æä¾› _.cloneDeep ç”¨ä¾†åš Deep Copy lodash.cloneDeep123456789let obj = &#123;name: 'çŽ‹åº·å¯¶', age:&#123;child: 18&#125;&#125;let copy = _.cloneDeep(obj); //ä½¿ç”¨ lodash.cloneDeepcopy.name = 'ç›§å¡æ–¯';copy.age.child = 99; //æ›´æ”¹ copy.age.child çš„å€¼//è¼¸å‡ºconsole.log(obj); //&#123;name: "çŽ‹åº·å¯¶", age:&#123;child: 18&#125;&#125;console.log(copy); //&#123;name: "ç›§å¡æ–¯", age:&#123;child: 99&#125;&#125; åƒè€ƒä¾†æºé—œæ–¼ JS ä¸­çš„æ·ºæ‹·è²å’Œæ·±æ‹·è²jsä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>Shallow Copy</tag>
        <tag>Deep Copy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-å±•é–‹é‹ç®—å­(Spread Operator)ã€å…¶é¤˜åƒæ•¸(Rest Operator)]]></title>
    <url>%2F2018%2F01%2F26%2FES6-SpreadOperator-RestOperator%2F</url>
    <content type="text"><![CDATA[å±•é–‹é‹ç®—å­(Spread Operator)ã€å…¶é¤˜åƒæ•¸(Rest Operator) å±•é–‹é‹ç®—å­( Spread Operator )å±•é–‹é‹ç®—å­æ˜¯â€æŠŠä¸€å€‹é™£åˆ—å±•é–‹(expand)æˆå€‹åˆ¥æ•¸å€¼â€œçš„é€Ÿå¯«èªžæ³•ï¼Œç°¡å–®ä¾†èªªï¼Œå°±æ˜¯æŠŠé™£åˆ—è£¡é¢çš„å€¼ï¼Œæ‹†è§£æˆä¸€å€‹ä¸€å€‹ã€‚ åŸºæœ¬ç”¨æ³•1234567//é™£åˆ—let number = [1,2,3,4,5];console.log(...number); // 1,2,3,4,5//å­—ä¸²let str = 'kanboo'console.log(...str); // "k","a","n","b","o","o" å°‡äºŒå€‹Arrayåˆä½µ(æ–°èˆŠå¯«æ³•æ¯”è¼ƒ)12345678910111213141516//===========éŽåŽ»å¯«æ³•===========let groupA = ['çˆ¸çˆ¸', 'åª½åª½'];let groupB = ['è€å¤§','è€äºŒ','è€ä¹ˆ'];const groupAll = groupA.concat(groupB);console.log(groupAll);// ["çˆ¸çˆ¸", "åª½åª½", "è€å¤§", "è€äºŒ", "è€ä¹ˆ"];//===========æ–°çš„å¯«æ³•===========let groupA = ['çˆ¸çˆ¸', 'åª½åª½'];let groupB = ['è€å¤§','è€äºŒ','è€ä¹ˆ'];const groupAll = [...groupA, ...groupB]; //æ‹†è§£å®Œå¾Œï¼Œå†ç”¨é™£åˆ—[]åŒ…èµ·ä¾†ï¼Œç”¢ç”Ÿæ–°çš„é™£åˆ—console.log(groupAll);// ["çˆ¸çˆ¸", "åª½åª½", "è€å¤§", "è€äºŒ", "è€ä¹ˆ"]; ä½ ä¹Ÿå¯ä»¥ç”¨ä¾†æŠŠé™£åˆ—å±•é–‹ï¼Œå‚³å…¥å‡½å¼ä¹‹ä¸­ï¼Œä¾‹å¦‚ä¸‹é¢åŠ ç¸½å‡½å¼çš„ç¯„ä¾‹ï¼š å°‡ é™£åˆ—å±•é–‹ å‚³å…¥å‡½å¼123456function sum(a, b, c) &#123; return a + b + c;&#125;var args = [1, 2, 3];console.log(sum(...args)); // 6 æ·ºå±¤è¤‡è£½å¦å¤–é™£åˆ—èˆ‡ç‰©ä»¶ç›¸åŒéƒ½æœ‰è‘—å‚³åƒè€ƒçš„ç‰¹æ€§ï¼Œæ‰€ä»¥ç•¶æŠŠé™£åˆ—è³¦äºˆåˆ°å¦ä¸€å€‹å€¼ä¸Šæ™‚ï¼Œä¿®æ”¹å…¶ä¸­ä¸€å€‹å¦ä¸€å€‹ä¹Ÿæœƒè·Ÿè‘—è®Šå‹•ã€‚ å‚³å€ï¼šæ›´å‹•groupB æœƒ å½±éŸ¿groupA123456789// ç”±æ–¼å‚³åƒè€ƒçš„é—œä¿‚ï¼Œæ‰€ä»¥å°‡ä¸€å€‹é™£åˆ—å‚³åˆ°å¦ä¸€å€‹ä¸Šæ™‚// å…©å€‹çš„å€¼å…¶å¯¦æ˜¯ä¸€æ¨£çš„let groupA = ['è€å¤§','è€äºŒ','è€ä¹ˆ'];let groupB = groupA;groupB.push('å°èŠ±');//è¼¸å‡ºconsole.log(groupA); // ['è€å¤§','è€äºŒ','è€ä¹ˆ','å°èŠ±'];console.log(groupB); // ['è€å¤§','è€äºŒ','è€ä¹ˆ','å°èŠ±']; ç”±æ–¼ å±•é–‹é‹ç®—å­ å®ƒæ˜¯ä¸€å€‹ä¸€å€‹å°‡å€¼å¯«å…¥ï¼Œæ‰€ä»¥ä»–ä¹Ÿæœ‰æ·ºå±¤çš„è¤‡è£½(shallow copy) ã€‚ æ·ºå±¤è¤‡è£½ï¼šæ›´å‹•groupB ä¸æœƒ å½±éŸ¿groupA12345678// é€™å€‹å±¬æ–¼æ·ºæ‹·è²ï¼Œæ‰€ä»¥ä¸æœƒå½±éŸ¿åˆ°å¦ä¸€å€‹ç‰©ä»¶let groupA = ['è€å¤§','è€äºŒ','è€ä¹ˆ'];let groupB = [...groupA];groupB.push('å°èŠ±');//è¼¸å‡ºconsole.log(groupA); // ['è€å¤§','è€äºŒ','è€ä¹ˆ'];console.log(groupB); // ['è€å¤§','è€äºŒ','è€ä¹ˆ','å°èŠ±']; æ³¨æ„ å› ç‚ºæ˜¯æ·ºå±¤çš„è¤‡è£½ï¼Œæ‰€ä»¥ç•¶é™£åˆ—çš„å€¼æ˜¯æ”¾ ç‰©ä»¶ çš„è©±ï¼Œä¾èˆŠæœƒå› ç‚ºå‚³åƒè€ƒçš„ç‰¹æ€§ï¼Œè€Œä¿®æ”¹å…¶ä¸­ä¸€å€‹å¦ä¸€å€‹ä¹Ÿæœƒè·Ÿè‘—è®Šå‹•ã€‚ 1234567891011121314151617let groupA = [&#123;name:'è€å¤§'&#125;,&#123;name:'è€äºŒ'&#125;,&#123;name:'è€ä¸‰'&#125;];let groupB = [...groupA];groupB.push(&#123;name:'å°èŠ±'&#125;);//è¼¸å‡ºconsole.log(groupA); // [&#123;name:'è€å¤§'&#125;,&#123;name:'è€äºŒ'&#125;,&#123;name:'è€ä¸‰'&#125;]console.log(groupB); // [&#123;name:'è€å¤§'&#125;,&#123;name:'è€äºŒ'&#125;,&#123;name:'è€ä¸‰'&#125;,&#123;name:'å°èŠ±'&#125;]debugger;//æ›´æ”¹ groupB ç¬¬ä¸€å€‹NamegroupB[0].name = "çˆ¸çˆ¸";//æ³¨æ„ groupA çš„ç¬¬ä¸€å€‹Nameï¼Œä¹Ÿæœƒè·Ÿè‘—è¢«è®Šå‹•console.log(groupA); // [&#123;name:'çˆ¸çˆ¸'&#125;,&#123;name:'è€äºŒ'&#125;,&#123;name:'è€ä¸‰'&#125;]console.log(groupB); // [&#123;name:'çˆ¸çˆ¸'&#125;,&#123;name:'è€äºŒ'&#125;,&#123;name:'è€ä¸‰'&#125;,&#123;name:'å°èŠ±'&#125;] é¡žé™£åˆ—è½‰æˆç´”é™£åˆ—JavaScript ä¸­æœ‰è¨±å¤šé¡žé™£åˆ—ï¼Œé€™é¡žé™£åˆ—æœ‰è‘—é™£åˆ—çš„å¤–çš®ï¼Œä½†å»ä¸èƒ½ä½¿ç”¨é™£åˆ—çš„æ–¹æ³•ï¼Œé€™é¡žé™£åˆ—ç”±æ–¼åŽŸåž‹ä¸åŒï¼Œæ‰€ä»¥ ä¸èƒ½ ä½¿ç”¨è¨±å¤šçš„é™£åˆ—æ–¹æ³•ï¼Œå¦‚ï¼š map(), concat() ç­‰ç­‰ã€‚ å…¶ä¸­ä¸€ç¨®å¾ˆå¸¸è¦‹çš„å°±æ˜¯ DOM é™£åˆ—ï¼Œæ­¤æ™‚æˆ‘å€‘å°±å¯ä»¥ç”¨ å±•é–‹é‹ç®—å­ è½‰ç‚º ç´”é™£åˆ—ï¼Œé€™æ¨£å°±å¯ä»¥ä½¿ç”¨é™£åˆ—çš„å„ç¨®æ–¹æ³•ã€‚ 12345// å¯ä»¥å°‡é¡žé™£åˆ—è½‰æˆé™£åˆ—let doms = document.querySelectorAll('p');console.log(doms);let spreadDom = [...doms];console.log(spreadDom); ç¯„ä¾‹ arguments ä»¥å‰è¦ä½¿ç”¨å‡½å¼çš„ arguments æ™‚ï¼Œå¯«æ³•åƒ…å¯ç”¨ for æˆ– for..in ä¾åºå–å¾—åƒæ•¸å€¼ã€‚ argumentså‚³çµ±å¯«æ³•123456789function sum() &#123; var total = 0; for( var i=0; i&lt;arguments.length; i++ ) &#123; total += arguments[i]; &#125; return total;&#125;console.log( sum(1, 2, 3, 4, 5) ); // 15 ä½†æ˜¯è‹¥å°‡ arguments æ”¹å¯«ç”¨ é™£åˆ—çš„æ–¹æ³•(forEachã€mapã€reduce) çš„è©±ï¼Œç¨‹å¼ç¢¼å°±æœƒå‡ºéŒ¯ã€‚ ä½¿ç”¨é™£åˆ—æ–¹æ³•ï¼ŒæœƒError123456789function sum() &#123; var total = 0; arguments.forEach(function(element) &#123; total += element; &#125;); return total;&#125;console.log(sum(1, 2, 3, 4, 5)); //error TypeError: arguments.forEach is not a function ç¾åœ¨å¯é€éŽ å±•é–‹é‹ç®—å­ è½‰ç‚º ç´”é™£åˆ—ï¼Œå°±å¯ä½¿ç”¨ é™£åˆ—çš„æ–¹æ³•(forEachã€mapã€reduce)ã€‚ é€éŽã€Œå±•é–‹é‹ç®—å­ã€è½‰æ›12345678910function sum() &#123; let arg = [...arguments]; //é€éŽ å±•é–‹é‹ç®—å­ ä¾†è½‰æˆç´”é™£åˆ— let total = 0; arg.forEach(function(element) &#123; total += element; &#125;); return total;&#125;console.log(sum(1, 2, 3, 4, 5)); //15 å…¶é¤˜åƒæ•¸(Rest Operator)æœ‰æ™‚å€™ï¼ŒFunction æŽ¥å—çš„åƒæ•¸æ•¸é‡ä¸å›ºå®šï¼Œè€Œ å…¶é¤˜åƒæ•¸(Rest Operator) çš„åŠŸèƒ½å°±æ˜¯æŠŠå¤šçš„åƒæ•¸ä½µæˆä¸€å€‹ Arrayã€‚ ç¯„ä¾‹1 å¯å‚³å…¥ä¸å›ºå®šçš„åƒæ•¸ï¼Œ1å€‹ or å¤šå€‹ çš†å¯.. 123456789101112function sum(...numbers) &#123; var result = 0; numbers.forEach(function (number) &#123; result += number; &#125;); return result;&#125;//å‚³å…¥ä¸€å€‹å€¼console.log(sum(1)); // 1//å‚³å…¥å¤šå€‹å€¼console.log(sum(1, 2, 3, 4, 5)); // 15 ç¯„ä¾‹2 å¦‚æžœfunctionæœ‰å…ˆå®šç¾©åˆ¥çš„åƒæ•¸ï¼Œå°±æœƒå°‡å‚³å…¥çš„åƒæ•¸å€¼å…ˆçµ¦å®šç¾©å¥½çš„åƒæ•¸ï¼Œå‰©ä¸‹çš„å°±å…¨éƒ¨å¡žå…¥å…¶é¤˜åƒæ•¸ã€‚ 12345678function restArray(x, y, ...others) &#123; console.log("x",x); // xï¼š 1 console.log("y",y); // yï¼š 2 console.log("others",others); // othersï¼š [3, 4, 5]&#125;//æ‹†è§£é™£åˆ—restArray(1, 2, 3, 4, 5); å…¶é¤˜åƒæ•¸(Rest parameters)æœ‰ä¸€å€‹é™åˆ¶ï¼Œå°±æ˜¯é€™å€‹åƒæ•¸ä¸€å®šæ˜¯å‡½å¼çš„ã€Œæœ€å¾Œä¸€å€‹ã€ã€‚ ä½ å¦‚æžœæ”¾åœ¨å…¶é¤˜çš„åƒæ•¸å‰ï¼Œå°±æœƒç”¢ç”ŸéŒ¯èª¤ã€‚ åéŽä¾†å¯«å°±æœƒError12345678function restArray(...others, x, y) &#123; console.log("x",x); console.log("y",y); console.log("others",others);&#125;//æ‹†è§£é™£åˆ—restArray(1, 2, 3, 4, 5); //error SyntaxError: Rest parameter must be last formal parameter å…¶é¤˜çš„åƒæ•¸ èˆ‡ arguments ä¸åŒçš„æ˜¯ï¼š- arguments ä¸æ˜¯çœŸçš„é™£åˆ—ï¼Œå…¶é¤˜åƒæ•¸å‰‡ã€Œæ˜¯ã€ã€‚- arguments ä¸èƒ½æ··ç”¨è‡ªè¨‚å‚³å…¥çš„åƒæ•¸ã€‚ åƒè€ƒä¾†æºé‚å‘ JavaScript å‹‡è€…ä¹‹è·¯Eddy-å±•é–‹é‹ç®—å€¼ã€å…¶é¤˜åƒæ•¸]]></content>
      <categories>
        <category>JS</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>ES6</tag>
        <tag>Spread Operator</tag>
        <tag>Rest Operator</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-æ¨£æ¿å­—ä¸² (Template String)]]></title>
    <url>%2F2018%2F01%2F25%2FES6-TemplateString%2F</url>
    <content type="text"><![CDATA[Template String æ¨£æ¿å­—ä¸² åŸºæœ¬ç”¨æ³•æ–°èˆŠå¯«æ³•æ¯”è¼ƒ123456789101112131415161718192021222324252627const people = ['è€å¤§','è€äºŒ','è€ä¹ˆ'];//======================éŽåŽ»å¯«æ³•======================let oldUl = '&lt;ul&gt;' + '&lt;li&gt;æˆ‘å«åš ' + people[0] + '&lt;/li&gt;' + '&lt;li&gt;æˆ‘å«åš ' + people[1] + '&lt;/li&gt;' + '&lt;li&gt;æˆ‘å«åš ' + people[2] + '&lt;/li&gt;' + '&lt;/ul&gt;'; console.log(oldUl);//"&lt;ul&gt;&lt;li&gt;æˆ‘å«åš è€å¤§&lt;/li&gt;&lt;li&gt;æˆ‘å«åš è€äºŒ&lt;/li&gt;&lt;li&gt;æˆ‘å«åš è€ä¹ˆ&lt;/li&gt;&lt;/ul&gt;"//======================æ–°çš„å¯«æ³•======================let newUl = ` &lt;ul&gt; &lt;li&gt;æˆ‘å«åš $&#123;people[0]&#125;&lt;/li&gt; &lt;li&gt;æˆ‘å«åš $&#123;people[1]&#125;&lt;/li&gt; &lt;li&gt;æˆ‘å«åš $&#123;people[2]&#125;&lt;/li&gt; &lt;/ul&gt;`console.log(newUl);// &lt;ul&gt;// &lt;li&gt;æˆ‘å«åš è€å¤§&lt;/li&gt;// &lt;li&gt;æˆ‘å«åš è€äºŒ&lt;/li&gt;// &lt;li&gt;æˆ‘å«åš è€ä¹ˆ&lt;/li&gt;// &lt;/ul&gt; ç”šè‡³å¯ä»¥åœ¨ ${} å…§ä½¿ç”¨å‡½å¼ (${}è£¡å†åŒ…${})ã€‚ ä½¿ç”¨.mapçµ„å­—ä¸²(çµæžœèˆ‡ä¸Šä¾‹ä¸€æ¨£)12345let newUl = ` &lt;ul&gt; $&#123;people.map(person =&gt; `&lt;li&gt;æˆ‘å«åš $&#123;person&#125;&lt;/li&gt;`).join('')&#125; &lt;/ul&gt;` ä¹Ÿå¯ä»¥åœ¨å‡½å¼å…§å¢žæ·»æ›´å¤šçš„åˆ¤æ–·å¼ã€‚ æ–°å¢žifåˆ¤æ–·å¼1234567891011121314151617181920212223242526272829303132const people = [ &#123; name: 'è€å¤§', friends: 2 &#125;, &#123; name: 'è€äºŒ', friends: 16 &#125;, &#123; name: 'è€ä¹ˆ', friends: 0 &#125;]let newUl = ` &lt;ul&gt; $&#123;people.map((person) =&gt; &#123; if (person.friends) &#123; return `&lt;li&gt;$&#123;person.name&#125; æœ‰ $&#123;person.friends&#125; æœ‹å‹&lt;/li&gt;` &#125; else &#123; return `&lt;li&gt;$&#123;person.name&#125; æ²’æœ‹å‹&lt;/li&gt;` &#125; &#125;).join('') &#125; &lt;/ul&gt;`console.log(newUl);// &lt;ul&gt;// &lt;li&gt;è€å¤§ æœ‰ 2 æœ‹å‹&lt;/li&gt;&lt;li&gt;è€äºŒ æœ‰ 999 æœ‹å‹&lt;/li&gt;&lt;li&gt;è€ä¹ˆ é‚Šç·£äºº&lt;/li&gt;// &lt;/ul&gt; å·¢ç‹€ String Templateå¦‚åŒä¸Šè¿°çš„æ–¹æ³• ${} å…§å¯ä»¥åŠ å…¥å‡½å¼åŠå…¶æ›´å…§å±¤çš„ Template Stringï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åœ¨ ${} æ’å…¥å¦ä¸€çµ„çš„å‡½å¼çš„ Template Stringã€‚ åœ¨$&#123;&#125;è£¡å‘¼å«function123456789101112131415161718192021222324252627282930313233343536373839404142434445const travelers = &#123; leader: "çˆ¸çˆ¸", partner: [ &#123; name: "è€å¤§", friends: 2 &#125;, &#123; name: "è€äºŒ", friends: 16 &#125;, &#123; name: "è€ä¹ˆ", friends: 0 &#125; ]&#125;;function renderList(people) &#123; return ` &lt;div&gt;ä¸Šè»Šåå–®&lt;/div&gt; &lt;ul&gt; $&#123;people.map(person =&gt; `&lt;li&gt;$&#123;person.name&#125;&lt;/li&gt;`).join('')&#125; &lt;/ul&gt; `&#125;let template = ` &lt;div class="template"&gt; &lt;h2&gt;é–‹è»Šï¼š$&#123;travelers.leader&#125;&lt;/h2&gt; $&#123;renderList(travelers.partner)&#125; &lt;/div&gt;`console.log(template);// &lt;div class=\"template\"&gt;// &lt;h2&gt;é–‹è»Šï¼šçˆ¸çˆ¸&lt;/h2&gt;// // &lt;div&gt;ä¸Šè»Šåå–®&lt;/div&gt;// &lt;ul&gt;// &lt;li&gt;è€å¤§&lt;/li&gt;&lt;li&gt;è€äºŒ&lt;/li&gt;&lt;li&gt;è€ä¹ˆ&lt;/li&gt;// &lt;/ul&gt;// // &lt;/div&gt; è·³è„«å­—å…ƒå¦‚æžœæœ‰éœ€è¦æ’å…¥ç‰¹æ®Šå­—å…ƒï¼Œä¸€æ¨£å¯ä»¥ä½¿ç”¨ \ åæ–œç·šä¾†æ’å…¥ï¼š 1console.log(`\\`); // "\" å¦‚æžœè¦è¨ˆç®—å­—å…ƒæ•¸ï¼Œæˆ–æ˜¯éœ€è¦å°‡å­—ä¸²åšé¡å¤–è™•ç†ï¼Œè·³è„«å­—å…ƒæ˜¯ä¸ä½”å­—ç¬¦æ•¸çš„ï¼š 1console.log(`\\`.length); // 1 è¦å–å¾—å«ç‰¹æ®Šå­—å…ƒçš„å­—ä¸²å¯ç”¨ String.raw()ï¼š 1console.log(String.raw`\\`.length) // 2 åƒè€ƒä¾†æºé‚å‘ JavaScript å‹‡è€…ä¹‹è·¯]]></content>
      <categories>
        <category>JS</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>ES6</tag>
        <tag>æ¨£æ¿å­—ä¸²</tag>
        <tag>Template String</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-ä¸€æ¬¡æžæ‡‚ JavaScript çš„ this]]></title>
    <url>%2F2018%2F01%2F24%2FJS-this%2F</url>
    <content type="text"><![CDATA[ä¸€æ¬¡æžæ‡‚ JavaScript çš„ this å‰è¨€åœ¨FBç›´æ’­çœ‹åˆ° å§šå‰æš è€å¸«å†èªªæ˜Žjavascriptå„ç¨® this çš„åˆ†è¾¨ï¼Œåœ¨æ­¤ç´€éŒ„å„ç¨®æ¡ˆä¾‹ã€‚ FBå½±ç‰‡ï¼šä¸€æ¬¡æžæ‡‚ JavaScript çš„ thisä¸»è¬›è€…ï¼šå§šå‰æš è­°ç¨‹é‡é»ž ä¸€èˆ¬å‡½å¼çš„ this ES6 ç®­é ­å‡½å¼çš„ this Vue çµ„ä»¶çš„ this bind/apply/call çš„ this ä¸€èˆ¬å‡½å¼çš„thisthis ä¸»è¦æ˜¯ çœ‹å‡½å¼(function)æ€Žéº¼åŸ·è¡Œ çš„ï¼Œä¸‹åˆ—ç‚ºå¸¸è¦‹çš„åˆ†è¾¨çš„æ–¹æ³• ç›´æŽ¥åŸ·è¡Œ â†’ global ä½œç‚ºç‰©ä»¶çš„æˆå“¡å‡½å¼åŸ·è¡Œ â†’ è©²ç‰©ä»¶ ä½œç‚º DOM äº‹ä»¶åµè½å‡½å¼ â†’ è©² DOM ä½œç‚ºå»ºæ§‹å‡½å¼ â†’ å»ºæ§‹å‡ºä¾†çš„å¯¦ä¾‹ ä¸‹åˆ—ç‚ºå„ç¨®thisçš„åˆ¤æ–· ç¯„ä¾‹1 ç›´æŽ¥å‘¼å«12345function a()&#123; console.log(this);&#125;a(); //window ç¯„ä¾‹2 ä½œç‚ºç‰©ä»¶çš„æˆå“¡å‡½å¼åŸ·è¡Œ12345678function a()&#123; console.log(this);&#125;const obj = &#123;&#125;;obj.a = a;obj.a(); //obj ç¯„ä¾‹3 12345678910const obj = &#123; a()&#123; function b()&#123; console.log(this); &#125; b(); &#125;&#125;obj.a(); //window å› ç‚º b() æ˜¯ç›´æŽ¥åŸ·è¡Œï¼Œä¸¦ä¸æ˜¯ä»¥ obj.b() æ–¹å¼åŸ·è¡Œã€‚ ç¯„ä¾‹4 DOM1&lt;button id='btn'&gt;btn&lt;/button&gt; ä½œç‚º DOM äº‹ä»¶åµè½å‡½å¼1234567function a()&#123; console.log(this);&#125;const obj = &#123;a&#125;;btn.addEventListener('click', obj.a); //DOMå…ƒç´ ï¼š&lt;button id='btn'&gt;btn&lt;/button&gt; ç¯„ä¾‹5 DOM1&lt;button id='btn'&gt;btn&lt;/button&gt; 12345678910111213function a()&#123; console.log(this);&#125;const obj = &#123; b()&#123; return function()&#123; a(); &#125; &#125;&#125;;btn.addEventListener('click', obj.b()); //window å› ç‚º a() æ˜¯ç›´æŽ¥åŸ·è¡Œã€‚ æ‰¿ä¸Šä¾‹ï¼ŒåŸ·è¡Œ obj.b() å¾Œçš„å‡½å¼1234567function a()&#123; console.log(this);&#125;btn.addEventListener('click', function()&#123; a(); //window&#125;); ç¯„ä¾‹6 DOM1&lt;button id='btn'&gt;btn&lt;/button&gt; 123456789const obj = &#123; b()&#123; return function()&#123; console.log(this); &#125; &#125;&#125;;btn.addEventListener('click', obj.b()); //DOMå…ƒç´ ï¼š&lt;button id='btn'&gt;btn&lt;/button&gt; æ‰¿ä¸Šä¾‹ï¼ŒåŸ·è¡Œ obj.b() å¾Œçš„å‡½å¼123btn.addEventListener('click', function()&#123; console.log(this);&#125;); ç¯„ä¾‹7 DOM1&lt;button id='btn'&gt;btn&lt;/button&gt; 1234567891011function a()&#123; console.log(this);&#125;const obj = &#123; a()&#123; return a; &#125;&#125;;btn.addEventListener('click', obj.a()); //DOMå…ƒç´ ï¼š&lt;button id='btn'&gt;btn&lt;/button&gt; æ‰¿ä¸Šä¾‹ï¼ŒåŸ·è¡Œ obj.a() å¾Œçš„å‡½å¼123btn.addEventListener('click', function()&#123; console.log(this);&#125;); å¯æ³¨æ„è§€å¯Ÿ ç¯„ä¾‹5~7 ç¨‹å¼ç¢¼ä¹‹é–“æœ‰äº›å¾®çš„ä¸åŒï¼Œæ‰€é€ æˆçš„thisæœ‰æ‰€ä¸ä¸€æ¨£ã€‚ å–„ç”¨çš„æ–¹å¼ å¦å¤–ä¸€ç¨®æ€è€ƒçš„æ–¹å¼ï¼Œæˆ‘å€‘åœ¨å¯«ç‰©ä»¶å…§çš„å‡½å¼æ™‚ï¼Œç‚ºäº†ç¢ºä¿ this èƒ½å¤ æ­£ç¢ºé‹ä½œæœƒå…ˆå°‡å®ƒè³¦äºˆåœ¨å¦ä¸€å€‹è®Šæ•¸ä¸Š (that, self, vmâ€¦)ã€‚ 123456789101112131415161718var auntie = &#123; name: 'æ¼‚äº®é˜¿å§¨', callName () &#123; // å…ˆä½¿ç”¨å¦ä¸€å€‹è®Šæ•¸æŒ‡å‘ thisï¼Œè®“å…§å±¤å‡½å¼å¯ä»¥æ­£ç¢ºä½¿ç”¨ var that = this; setTimeout(function () &#123; console.log(that); // auntie é€™å€‹ç‰©ä»¶ &#125;, 10); &#125;&#125;auntie.callName(); ç®­é ­å‡½å¼çš„ thiså£è¨£ï¼š ç®­é ­å‡½å¼è£¡é¢çš„this ç­‰æ–¼ å¤–é¢çš„this ç™½è©±æ–‡ï¼š ç®­é ­å‡½å¼è£¡çš„this ä¸»è¦æ˜¯ä¾æ“š å¤–å±¤å‡½å¼(function)è£¡çš„this æ˜¯ä»€éº¼å°±è·Ÿè‘—æ˜¯ä»€éº¼ã€‚ è¦å‰‡ 123456function x()&#123; this &lt;= å¤–å±¤å‡½å¼çš„thisï¼Œè¦å‰‡åƒè€ƒã€Œä¸€èˆ¬å‡½å¼çš„thisã€ const a = () =&gt; &#123; this &lt;= ä¾æ“šå¤–å±¤å‡½å¼çš„this &#125;&#125; ç¯„ä¾‹1 DOM1&lt;button id='btn'&gt;btn&lt;/button&gt; 12345const a = () =&gt; &#123; console.log(this);&#125;btn.addEventListener('click', a); //window ç¯„ä¾‹2 1234567const obj = &#123; a: () =&gt; &#123; console.log(this); &#125;&#125;obj.a(); //window ç¯„ä¾‹3 DOM1&lt;button id='btn'&gt;btn&lt;/button&gt; 12345678function a() &#123; const b = () =&gt; &#123; console.log(this); &#125; b();&#125;btn.addEventListener('click', a); //DOMå…ƒç´ ï¼š&lt;button id='btn'&gt;btn&lt;/button&gt; èˆ‡ ä¸€èˆ¬å‡½å¼çš„ç¯„ä¾‹3 æœ‰é»žé¡žä¼¼ï¼Œé›–ç„¶ b() éƒ½æ˜¯ç›´æŽ¥åŸ·è¡Œï¼Œä¸éŽå› ç‚ºç®­é ­å‡½å¼è£¡çš„this ä¸»è¦æ˜¯ä¾æ“š å¤–å±¤å‡½å¼(function)è£¡çš„this æ˜¯ä»€éº¼å°±è·Ÿè‘—æ˜¯ä»€éº¼ï¼Œæ‰€ä»¥ a() çš„ this æ˜¯ DOMå…ƒç´ ï¼Œæ‰€ä»¥é€™è£¡çš„ b() çš„ this ä¹Ÿæœƒè·Ÿè‘—æ˜¯ DOMå…ƒç´ ã€‚ ç¯„ä¾‹4 Qï¼šåŒ…äº†å¥½å¹¾å±¤çš„ç®­é ­å‡½æ•¸çš„ this ä¹Ÿæ˜¯æŒ‡å‘ windows å—Ž? Aï¼šå¾ž c() ä¸€å±¤æ’¥ä¸€å±¤ ç›´åˆ° function a()ï¼Œå†åƒç…§ a() çš„ this æ˜¯æŒ‡å‘èª°ã€‚ æ´‹è”¥å¼ä¸€å±¤ä¸€å±¤æ‹†è§£1234567891011function a()&#123; //this &lt;= å¤–å±¤å‡½å¼çš„thisï¼Œè¦å‰‡åƒè€ƒã€Œä¸€èˆ¬å‡½å¼çš„thisã€ const b = () =&gt; &#123; const c = () =&gt; &#123; console.log(this); //&lt;= ä¾æ“šå¤–å±¤å‡½å¼çš„this &#125;; c(); &#125;; b();&#125;; Vue çµ„ä»¶çš„ thiså…¨éƒ¨çš†æŒ‡å‘ vueå¯¦ä¾‹ æœ¬èº« ç¯„ä¾‹1 ä¸€èˆ¬å‡½æ•¸12345678910111213141516var vm = new Vue(&#123; el: '#app', data: &#123; message: 'Hello' &#125;, computed: &#123; getMessage: function () &#123; console.log(this); // this æŒ‡å‘ vm å®žä¾‹ &#125; &#125;, methods: &#123; prompt: function() &#123; console.log(this); // this æŒ‡å‘ vm å®žä¾‹ &#125; &#125;&#125;) ç¯„ä¾‹2 ç®­é ­å‡½æ•¸123456var vm = new Vue(&#123; el: "#app", methods: &#123; test: () =&gt; console.log(this), //window &#125;,&#125;); ç¯„ä¾‹3 è‹¥æ˜¯ vueçš„å»ºç«‹æ˜¯åŒ…åœ¨ å‡½æ•¸ è£¡é¢æ™‚ï¼Œä½¿ç”¨ ç®­é ­å‡½æ•¸ ï¼Œå‰‡thisè¦çœ‹å¤–å±¤å‡½æ•¸çš„thisã€‚ 12345678910function init() &#123; //this &lt;= å¤–å±¤å‡½å¼çš„thisï¼Œè¦å‰‡åƒè€ƒã€Œä¸€èˆ¬å‡½å¼çš„thisã€ var vm = new Vue(&#123; el: "#app", methods: &#123; test: () =&gt; console.log(this), //&lt;= ä¾æ“šå¤–å±¤å‡½å¼çš„this &#125; &#125;);&#125; å¦‚æžœåœ¨vueè£¡ï¼Œå¯«ç®­é ­å‡½å¼è¦ä½¿ç”¨thisçš„è©±ï¼Œå› ç‚ºvueæ˜¯ç‰©ä»¶ï¼Œè€Œä¸æ˜¯å‡½å¼ï¼Œæ­¤æ™‚ç®­é ­å‡½å¼è£¡çš„thisæœƒæŒ‡å‘å¤–å±¤å‡½å¼çš„thisï¼Œæ‰€ä»¥åœ¨vueè¦ä½¿ç”¨thisçš„è©±ï¼Œå»ºè­°ä½¿ç”¨ ä¸€èˆ¬å‡½å¼ å¯«æ³•ã€‚ bind/apply/call çš„ this ä¸€èˆ¬å‡½å¼ä½¿ç”¨ bind/apply/call æ™‚ï¼Œthis å°±æ˜¯æ‰€å‚³å…¥çš„ç‰©ä»¶ ç®­é ­å‡½å¼ä½¿ç”¨ bind/apply/call æ™‚ï¼Œthis ä¸æœƒæœ‰è®ŠåŒ–ï¼Œè¦å‰‡ä¸€æ¨£æ˜¯ ä¾æ“šå¤–å±¤å‡½å¼(function)è£¡çš„this æ˜¯ä»€éº¼å°±è·Ÿè‘—æ˜¯ä»€éº¼ã€‚ ç¯„ä¾‹1 DOM1&lt;button id='btn'&gt;btn&lt;/button&gt; ä¸€èˆ¬å‡½å¼123456789function add(x, y)&#123; console.log(this);&#125;const b = add.bind(btn);b(3, 5);add.apply(btn, [3, 5]);add.call(btn, 3, 5); ç¯„ä¾‹2 DOM1&lt;button id='btn'&gt;btn&lt;/button&gt; ç®­é ­å‡½å¼123456789const add = (x, y) =&gt; &#123; console.log(this);&#125;const b = add.bind(btn);b(3, 5);add.apply(btn, [3, 5]);add.call(btn, 3, 5);]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>ES6</tag>
        <tag>this</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-ç®­é ­å‡½å¼ (Arrow functions)]]></title>
    <url>%2F2018%2F01%2F23%2FES6-Arrowfunctions%2F</url>
    <content type="text"><![CDATA[ç®­é ­å‡½å¼ () =&gt; {} ç°¡çŸ­çš„èªžæ³•ä¸€èˆ¬ä½¿ç”¨ç®­é ­å‡½å¼èˆ‡ function çš„ç”¨æ³•å¤§è‡´ä¸€è‡´ï¼Œå¯ä»¥å‚³å…¥åƒæ•¸ã€ä¹Ÿæœ‰å¤§æ‹¬è™ŸåŒ…èµ·ä¾†ï¼Œé™¤æ­¤ä¹‹å¤–ç®­é ­å‡½å¼ä¹Ÿæœ‰æ›´ç°¡çŸ­çš„å¯«æ³•å¦‚ä¸‹ï¼š 1234567891011121314151617// æ­£å¸¸å¯«æ³•var callSomeone = (someone) =&gt; &#123; return someone + 'ä¸Šå·¥äº†'&#125;console.log(callSomeone('ä¼™è¨ˆ'))// ç¸®å¯«ï¼Œå–®ä¸€è¡Œé™³è¿°ä¸éœ€è¦ &#123;&#125;var callSomeone = (someone) =&gt; someone + 'ä¸Šå·¥äº†'console.log(callSomeone('ä¼™è¨ˆ'))// åªæœ‰ä¸€å€‹åƒæ•¸å¯ä»¥ä¸åŠ æ‹¬è™Ÿvar callSomeone = someone =&gt; someone + 'ä¸Šå·¥äº†'console.log(callSomeone('ä¼™è¨ˆ'))// æ²’æœ‰åƒæ•¸æ™‚ï¼Œä¸€å®šè¦æœ‰æ‹¬è™Ÿvar callSomeone = () =&gt; 'ä¼™è¨ˆ' + 'ä¸Šå·¥äº†'console.log(callSomeone('ä¼™è¨ˆ')) æ³¨æ„ä¸éŽé€™å€‹ä¸Šè¿°æœ‰å€‹å°åœ°æ–¹ä¹Ÿè¦æ³¨æ„ä¸€ä¸‹ï¼Œåœ¨å¤§æ‹¬è™Ÿå…§çš„ {} æ˜¯éœ€è¦è‡ªè¡ŒåŠ å…¥ returnï¼Œå¦‚æžœæ²’æœ‰å‚³å…¥å€¼å‰‡æœƒå‡ºç¾ undefinedã€‚ 12var callSomeone = (someone) =&gt; &#123; someone + 'ä¸Šå·¥äº†' &#125;console.log(callSomeone('ä¼™è¨ˆ')) // undefined ç¶å®šçš„ this ä¸åŒå£è¨£ï¼š ç®­é ­å‡½å¼è£¡é¢çš„this ç­‰æ–¼ å¤–é¢çš„this ç™½è©±æ–‡ï¼š ç®­é ­å‡½å¼è£¡çš„this ä¸»è¦æ˜¯ä¾æ“š å¤–å±¤å‡½å¼(function)è£¡çš„this æ˜¯ä»€éº¼å°±è·Ÿè‘—æ˜¯ä»€éº¼ã€‚ è¦å‰‡ 123456function x()&#123; this &lt;= å¤–å±¤å‡½å¼çš„thisï¼Œè¦å‰‡åƒè€ƒã€Œä¸€èˆ¬å‡½å¼çš„thisã€ const a = () =&gt; &#123; this &lt;= ä¾æ“šå¤–å±¤å‡½å¼çš„this &#125;&#125; ç¯„ä¾‹ callName æ˜¯ä½¿ç”¨ ä¸€èˆ¬å‡½å¼callName2 æ˜¯ä½¿ç”¨ ç®­é ­å‡½å¼ 1234567891011121314151617181920212223var name = 'å…¨åŸŸé˜¿å©†'var auntie = &#123; name: 'æ¼‚äº®é˜¿å§¨', callName: function () &#123; // æ³¨æ„ï¼Œé€™è£¡æ˜¯ functionï¼Œä»¥æ­¤ç‚ºåŸºæº–ç”¢ç”Ÿä¸€å€‹ä½œç”¨åŸŸ console.log('1', this.name); // 1 æ¼‚äº®é˜¿å§¨(å¤–å±¤å‡½å¼) setTimeout(() =&gt; &#123; console.log('2', this.name); // 2 æ¼‚äº®é˜¿å§¨(ä¾æ“šå¤–å±¤å‡½å¼çš„this) console.log('3', this); // 3 auntie é€™å€‹ç‰©ä»¶(ä¾æ“šå¤–å±¤å‡½å¼çš„this) &#125;, 10); &#125;, callName2: () =&gt; &#123; // æ³¨æ„ï¼Œå¦‚æžœä½¿ç”¨ç®­é ­å‡½å¼ï¼Œthis ä¾ç„¶æŒ‡å‘ window console.log('4', this.name); // 4 å…¨åŸŸé˜¿å©†(ä¾æ“šå¤–å±¤å‡½å¼çš„this) setTimeout(() =&gt; &#123; console.log('5', this.name); // 5 å…¨åŸŸé˜¿å©†(ä¾æ“šå¤–å±¤å‡½å¼çš„this) console.log('6', this); // 6 window ç‰©ä»¶(ä¾æ“šå¤–å±¤å‡½å¼çš„this) &#125;, 10); &#125;&#125;auntie.callName();auntie.callName2(); è£œå……ï¼šå› ç‚º callName2 çš„ 4 ä½¿ç”¨ç®­é ­å‡½å¼ï¼Œæ‰€ä»¥ ä¾æ“šå¤–å±¤å‡½å¼çš„this çš„è¦å‰‡ï¼Œå°±æŒ‡å‘æœ€å¤–å±¤windowã€‚ æ²’æœ‰ arguments åƒæ•¸æ³¨æ„:ç®­é ­å‡½æ•¸è£¡æ²’æœ‰argumentç‰©ä»¶ï¼Œå¯ä½¿ç”¨ å…¶é¤˜åƒæ•¸(Rest Operator) æ›¿ä»£ 12const other = (...others) =&gt; others;console.log(other(10, 20, 30, 40, 50)) // [10, 20, 30, 40, 50] apply, call, bind ç„¡æ•ˆthis åœ¨ Arrow function ä¸­æ˜¯è¢«ç¶å®šçš„ï¼Œæ‰€ä»¥å¥—ç”¨ apply, call, bind çš„æ–¹æ³•æ™‚æ˜¯ç„¡æ³•ä¿®æ”¹ thisã€‚ ä¸èƒ½ç”¨åœ¨å»ºæ§‹å¼ç”±æ–¼ this çš„æ˜¯åœ¨ç‰©ä»¶ä¸‹å»ºç«‹ï¼Œæ‰€ä»¥ç®­é ­å‡½å¼ä¸èƒ½åƒ function ä¸€æ¨£ä½œç‚ºå»ºæ§‹å¼çš„å‡½å¼ï¼Œå¦‚æžœå˜—è©¦ä½¿ç”¨æ­¤æ–¹æ³•å‰‡æœƒå‡ºç¾éŒ¯èª¤ (â€¦ is not a constructor)ã€‚ åƒè€ƒä¾†æºé‚å‘ JavaScript å‹‡è€…ä¹‹è·¯]]></content>
      <categories>
        <category>JS</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>ES6</tag>
        <tag>ç®­é ­å‡½å¼</tag>
        <tag>Arrow functions</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-ç«‹å³è¢«å‘¼å«çš„å‡½å¼ (IIFE)]]></title>
    <url>%2F2018%2F01%2F16%2FJS-IIFE%2F</url>
    <content type="text"><![CDATA[ç«‹å³è¢«å‘¼å«çš„å‡½å¼ (Immediately Invoked Function Expression, IIFE) å‰è¨€åœ¨ 2018 iT é‚¦å¹«å¿™éµäººè³½ï¼Œçœ‹åˆ°Kuroå¤§çš„é‡æ–°èªè­˜ JavaScript ç³»åˆ—æ–‡ï¼Œä»”ç´°çš„é–±è®€å¾Œï¼Œç´€éŒ„è‡ªå·±è§€å¿µä¸è¶³çš„éƒ¨ä»½ï¼Œä¹Ÿéžå¸¸æŽ¨è–¦çµ¦å¤§å®¶è§€çœ‹æ­¤ç³»åˆ—æ–‡ã€‚ Kuro-é‡æ–°èªè­˜ JavaScript ç³»åˆ— ç«‹å³è¢«å‘¼å«çš„å‡½å¼ (IIFE)IIFE çš„å¥½è™•ï¼Œå°±æ˜¯å¯ä»¥æ¸›å°‘ã€Œå…¨åŸŸè®Šæ•¸ã€çš„ç”¢ç”Ÿï¼ŒåŒæ™‚ä¹Ÿé¿å…äº†è®Šæ•¸åç¨±è¡çªçš„æ©Ÿæœƒã€‚ å¦‚æžœä½ æœ‰åŽ»çœ‹éŽ jQuery çš„åŽŸå§‹ç¢¼ï¼Œå°±æœƒç™¼ç¾ jQuery ä¹Ÿç”¨äº†ç›¸åŒçš„æ‰‹æ³•å°‡ window èˆ‡ undefined ä¿ç•™èµ·ä¾†ï¼š 12345(function( window, undefined ) &#123; // ç•¥...&#125;)( window ); ç•¶è¿´åœˆé‡åˆ° functioné¡Œç›®ï¼šå‡è¨­æƒ³é€éŽè¿´åœˆ + setTimeout ä¾†åšåˆ°ï¼Œåœ¨äº”ç§’ä¹‹å…§ï¼Œæ¯ç§’é˜ä¾åºé€éŽconsole.logå°å‡ºï¼š0 1 2 3 4 12345678// å‡è¨­æƒ³é€éŽè¿´åœˆ + setTimeout ä¾†åšåˆ°// æ¯ç§’é˜å°‡ i çš„å€¼ console å‡ºä¾†for( var i = 0; i &lt; 5; i++ ) &#123; window.setTimeout(function() &#123; console.log(i); &#125;, 1000);&#125; çœŸçš„æ˜¯é€™æ¨£å—Žï¼Ÿ æˆ‘å€‘ä¾†çœ‹çœ‹åŸ·è¡Œçš„çµæžœã€‚ åŸ·è¡Œçš„çµæžœæ˜¯ï¼Œ console.log() æœƒåœ¨ã€Œä¸€ç§’é˜ä¹‹å¾Œã€åŒæ™‚å°å‡ºã€Œäº”æ¬¡ 5ã€ã€‚ 1234555555 ã€Œåˆ‡åˆ†è®Šæ•¸æœ‰æ•ˆç¯„åœçš„æœ€å°å–®ä½æ˜¯ â€œfunctionâ€ ã€ã€Œåˆ‡åˆ†è®Šæ•¸æœ‰æ•ˆç¯„åœçš„æœ€å°å–®ä½æ˜¯ â€œfunctionâ€ ã€ã€Œåˆ‡åˆ†è®Šæ•¸æœ‰æ•ˆç¯„åœçš„æœ€å°å–®ä½æ˜¯ â€œfunctionâ€ ã€ å¾ˆé‡è¦ï¼Œæ‰€ä»¥è¦å†è¬›ä¸‰æ¬¡ã€‚ æ‰€ä»¥æˆ‘å€‘åˆ©ç”¨ IIFE ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ï¼š IIFE12345678910for( var i = 0; i &lt; 5; i++ ) &#123; (function(x)&#123; // å°‡åŽŸæœ¬çš„ 1000 æ”¹æˆ 1000 * x window.setTimeout(function() &#123; console.log(x); &#125;, 1000 * x); &#125;)(i);&#125; åƒé€™æ¨£ï¼Œå°±å¯ä»¥ä¾åºå°å‡ºæˆ‘å€‘è¦çš„çµæžœå›‰ï¼ ES6-letã€constES6 ä»¥å¾Œæ–°å¢žäº† let èˆ‡ constï¼Œä¸”æ”¹ä»¥ { } ä½œç‚ºå®ƒçš„ Scopeã€‚ æ›å¥è©±èªªï¼Œå°‡ç¯„ä¾‹ä¸­çš„ for æ”¹ç‚º let å°±å¯ä»¥åšåˆ°ä¿ç•™ i åœ¨åŸ·è¡Œè¿´åœˆç•¶ä¸‹çš„ã€Œå€¼ã€çš„æ•ˆæžœï¼š 12345for( let i = 0; i &lt; 5; i++ ) &#123; window.setTimeout(function() &#123; console.log(i); &#125;, 1000);&#125;]]></content>
      <categories>
        <category>JS</category>
        <category>é‡æ–°èªè­˜ JavaScript</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>é‡æ–°èªè­˜ JavaScript</tag>
        <tag>IIFE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-Callback Function]]></title>
    <url>%2F2018%2F01%2F16%2FJS-CallbackFunction%2F</url>
    <content type="text"><![CDATA[Callback Function &amp; Promise å‰è¨€åœ¨ 2018 iT é‚¦å¹«å¿™éµäººè³½ï¼Œçœ‹åˆ°Kuroå¤§çš„é‡æ–°èªè­˜ JavaScript ç³»åˆ—æ–‡ï¼Œä»”ç´°çš„é–±è®€å¾Œï¼Œç´€éŒ„è‡ªå·±è§€å¿µä¸è¶³çš„éƒ¨ä»½ï¼Œä¹Ÿéžå¸¸æŽ¨è–¦çµ¦å¤§å®¶è§€çœ‹æ­¤ç³»åˆ—æ–‡ã€‚ Kuro-é‡æ–°èªè­˜ JavaScript ç³»åˆ— Callback Functionæ¦‚å¿µå°±å¦‚åŒï¼š è¾¦å…¬å®¤é›»è©±éŸ¿äº† (äº‹ä»¶è¢«è§¸ç™¼ Event fired) -&gt; æŽ¥é›»è©± (è™•ç†äº‹ä»¶ Event Handler) è€Œå¯«æˆç¨‹å¼ç¢¼å°±é¡žä¼¼ï¼š 12// è¨»ï¼šé€™è£¡åªæ˜¯æ¯”å–»ï¼Œä¸¦æ²’æœ‰é›»è©±éŸ¿é€™å€‹äº‹ä»¶ XDOffice.addEventListener( 'é›»è©±éŸ¿', function()&#123; /* æŽ¥é›»è©± */ &#125;, false); å¯ä»¥çœ‹åˆ°ï¼ŒOffice é€éŽ addEventListener æ–¹æ³•è¨»å†Šäº†ä¸€å€‹äº‹ä»¶ï¼Œç•¶é€™å€‹äº‹ä»¶è¢«è§¸ç™¼æ™‚ï¼Œå®ƒæœƒåŽ»åŸ·è¡Œæˆ‘å€‘æ‰€æŒ‡å®šçš„ç¬¬äºŒå€‹åƒæ•¸ï¼Œä¹Ÿå°±æ˜¯æŸå€‹ã€Œå‡½å¼ã€(æŽ¥é›»è©±)ã€‚ æ›å¥è©±èªªï¼Œé€™å€‹å‡½å¼åªæœƒåœ¨æ»¿è¶³äº†æŸå€‹æ¢ä»¶æ‰æœƒè¢«å‹•åœ°åŽ»åŸ·è¡Œï¼Œæˆ‘å€‘å°±å¯ä»¥èªªé€™æ˜¯ä¸€å€‹ Callback functionã€‚ æ³¢å‹•æ‹³ (a.k.a. â€œCallback Hellâ€)é™¤äº†äº‹ä»¶ä»¥å¤–ï¼Œé‚„æœ‰å¦ä¸€å€‹æœƒéœ€è¦ç”¨åˆ° Callback function çš„å ´æ™¯ï¼Œå°±æ˜¯ã€ŒæŽ§åˆ¶å¤šå€‹å‡½å¼é–“åŸ·è¡Œçš„é †åºã€ã€‚ ä¸‹é¢èˆ‰ä¾‹å¾žç°¡å–®çš„äº‹æƒ…æ…¢æ…¢æ¼”è®Šæˆè¤‡é›œæ™‚ï¼Œæœƒç™¼ç”Ÿä»€éº¼æƒ…å½¢ é€™è£¡å®šç¾©äº†å…©å€‹ functionï¼š 12345678910var funcA = function()&#123; console.log('function A');&#125;;var funcB = function()&#123; console.log('function B');&#125;;funcA();funcB(); å› ç‚º funcA èˆ‡ funcB éƒ½æœƒç«‹å³åŸ·è¡Œï¼Œæ‰€ä»¥åŸ·è¡Œçµæžœå¿…å®šç‚ºï¼š 12"function A""function B" ä½†æ˜¯ï¼Œå‡è¨­æˆ‘å€‘æ”¹æˆé€™æ¨£ï¼ŒåŠ ä¸Šä¸€å€‹éš¨æ©Ÿç”Ÿæˆçš„ç­‰å¾…æ™‚é–“ï¼š 12345678910111213141516171819var funcA = function()&#123; var i = Math.random() + 1; window.setTimeout(function()&#123; console.log('function A'); &#125;, i * 1000);&#125;;var funcB = function()&#123; var i = Math.random() + 1; window.setTimeout(function()&#123; console.log('function B'); &#125;, i * 1000);&#125;;funcA();funcB(); é€™æ™‚å€™å°±æ²’è¾¦æ³•ç¢ºå®šæ˜¯ â€œfunction Aâ€ æœƒå…ˆå‡ºç¾é‚„æ˜¯ â€œfunction Bâ€ æœƒå…ˆå‡ºç¾äº†å°å§ï¼Ÿ åƒé€™ç¨®æ™‚å€™ï¼Œç‚ºäº†ç¢ºä¿åŸ·è¡Œçš„é †åºï¼Œå°±æœƒé€éŽ Callback function çš„å½¢å¼ä¾†è™•ç†ï¼š 1234567891011121314151617181920212223242526// ç‚ºäº†ç¢ºä¿å…ˆåŸ·è¡Œ funcA å†åŸ·è¡Œ funcB// æˆ‘å€‘åœ¨ funcA åŠ ä¸Š callback åƒæ•¸var funcA = function(callback)&#123; var i = Math.random() + 1; window.setTimeout(function()&#123; console.log('function A'); // å¦‚æžœ callback æ˜¯å€‹å‡½å¼å°±å‘¼å«å®ƒ if( typeof callback === 'function' )&#123; callback(); &#125; &#125;, i * 1000);&#125;;var funcB = function()&#123; var i = Math.random() + 1; window.setTimeout(function()&#123; console.log('function B'); &#125;, i * 1000);&#125;;// å°‡ funcB ä½œç‚ºåƒæ•¸å¸¶å…¥ funcA()funcA( funcB ); åƒé€™æ¨£ï¼Œç„¡è«– funcA åœ¨åŸ·è¡Œçš„æ™‚å€™è¦ç­‰å¤šä¹…ï¼Œ funcB éƒ½æœƒç­‰åˆ° console.log(â€˜function Aâ€™); ä¹‹å¾Œæ‰åŸ·è¡Œã€‚ ä¸éŽéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç•¶å‡½å¼ä¹‹é–“çš„ç›¸ä¾éŽæ·±ï¼Œcallback å¤šå±¤ä¹‹å¾Œç”¢ç”Ÿçš„ã€Œæ³¢å‹•æ‹³ã€ç¶­è­·èµ·ä¾†å°±æœƒå¾ˆå¯æ€•ï¼ 1234567891011getData(function (a) &#123; getMoreData(a, function (b) &#123; getMoreData(b, function (c) &#123; getMoreData(c, function (d) &#123; getMoreData(d, function (e) &#123; ... &#125;); &#125;); &#125;); &#125;);&#125;); å†è¦‹ Callback HellåŸ·è¡Œé †åºçš„å•é¡Œæ˜¯ä¸€å€‹ï¼Œé‚„æœ‰å¦ä¸€å€‹å¸¸è¦‹çš„ç‹€æ³æ˜¯é€™æ¨£ï¼Œå†å›žåˆ° ã€ŒOvercookedã€ çš„å ´æ™¯ã€‚ ç”¨ Overcooked (éŠæˆ²åç¨±ï¼šç…®éŽé ­) æ¯”å–» åŒæ­¥(Synchronous)çš„æ¦‚å¿µå‡è¨­é‚Šç·£äººå¦‚æˆ‘ï¼Œåªèƒ½è‡ªå·±ä¸€äººçŽ© Overcookedï¼Œåœ¨é ˜å®Œé£ŸæåŽŸæ–™ä¹‹å¾Œï¼Œä¸€æ¨£æœƒæœ‰é’èœã€ç•ªèŒ„éœ€è¦è™•ç†ã€‚å› ç‚ºåªæœ‰ä¸€å€‹å»šå¸«ï¼Œæ‰€ä»¥è¦å˜›å…ˆè™•ç†é’èœã€è¦å˜›å…ˆè™•ç†ç•ªèŒ„ï¼Œå¿…é ˆå…ˆå¼„å®Œä¸€é …ä¹‹å¾Œå†åŽ»è™•ç†å¦ä¸€é …ï¼Œæ•´å€‹æµç¨‹æœƒè¢«å‰ä¸€å€‹æ­¥é©Ÿå¡ä½ã€‚åƒé€™æ¨£ã€Œå…ˆå®Œæˆ A æ‰èƒ½åš Bã€Cã€D â€¦ã€çš„é‹ä½œæ–¹å¼æˆ‘å€‘å°±æœƒæŠŠå®ƒç¨±ä½œã€ŒåŒæ­¥ã€(Synchronous) ã€‚ ç•¶æˆ‘è¦ç¢ºä¿ã€Œåˆ‡é’èœã€åˆ‡ç•ªèŒ„ã€æ“ºç›¤ã€ä¸‰å€‹å‹•ä½œéƒ½å®Œæˆä¹‹å¾Œï¼Œæˆ‘æ‰èƒ½ç¹¼çºŒã€Œä¸Šèœã€é€™å€‹å‹•ä½œã€‚ åœ¨é¢è‡¨é€™ç¨®å•é¡Œçš„æ™‚å€™ï¼Œæˆ‘è¦æ€Žéº¼ç¢ºä¿ä¸‰å€‹å‹•ä½œéƒ½å®Œæˆä¹‹å¾Œï¼Œæ‰ç¹¼çºŒåŸ·è¡Œå¾Œé¢çš„ç¨‹å¼å‘¢ï¼Ÿ æœ€ç›´è¦ºçš„æ–¹å¼æ˜¯æ–°å¢žä¸€å€‹è®Šæ•¸ä¾†ç®¡ç†ç‹€æ…‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546var result = []; //ç´€éŒ„å·²å®Œæˆçš„äº‹ä»¶var step = 3; //å…¨éƒ¨å®Œæˆçš„ç¸½æ•¸é‡// å‡è¨­ funcAã€funcBã€funcC åˆ†åˆ¥ä»£è¡¨ã€Œåˆ‡é’èœã€åˆ‡ç•ªèŒ„ã€æ“ºç›¤ã€function funcA()&#123; window.setTimeout(function()&#123; result.push('A'); //ç´€éŒ„ A å®Œæˆ console.log('A'); if( result.length === step )&#123; funcD(); &#125; &#125;, (Math.random() + 1) * 1000);&#125;function funcB()&#123; window.setTimeout(function()&#123; result.push('B'); //ç´€éŒ„ B å®Œæˆ console.log('B'); if( result.length === step )&#123; funcD(); &#125; &#125;, (Math.random() + 1) * 1000);&#125;function funcC()&#123; window.setTimeout(function()&#123; result.push('C'); //ç´€éŒ„ C å®Œæˆ console.log('C'); if( result.length === step )&#123; funcD(); &#125; &#125;, (Math.random() + 1) * 1000);&#125;function funcD()&#123; console.log('ä¸Šèœï¼'); result = [];&#125;funcA();funcB();funcC(); åƒä¸Šé¢é€™æ¨£ï¼Œç•¶æˆ‘å€‘ä¾åºåŸ·è¡Œäº† funcA()ã€funcB()ã€funcC()ï¼Œç”±æ–¼å…§éƒ¨ setTimeout æœƒç­‰å¾…äº‚æ•¸æ™‚é–“çš„é—œä¿‚ï¼Œæˆ‘å€‘ç„¡æ³•å¾—çŸ¥èª°å…ˆèª°å¾Œã€‚ ä½†å¯ä»¥ç¢ºå®šçš„æ˜¯ï¼Œç•¶é€™ä¸‰å€‹å‡½å¼åŸ·è¡Œçš„æ™‚å€™å°±æœƒåŽ»æª¢æŸ¥ result.length === step ï¼Œå¦‚æžœæˆç«‹ï¼Œå°±è¡¨ç¤ºä¸‰å€‹ä»»å‹™éƒ½å·²ç¶“å®Œæˆï¼Œé‚£éº¼å°±å¯ä»¥å†åŽ»å‘¼å« funcD åŸ·è¡Œå¾ŒçºŒçš„äº‹æƒ…ã€‚ å¦‚æžœä¸å¸Œæœ›ä½¿ç”¨å…¨åŸŸè®Šæ•¸ä¾†æ±¡æŸ“åŸ·è¡Œç’°å¢ƒçš„è©±ï¼Œç”šè‡³å¯ä»¥åŒ…è£æˆä¸€å€‹é€šç”¨çš„å‡½å¼ï¼š é–‰åŒ…çš„æ¦‚å¿µ12345678910111213141516function serials(tasks, callback) &#123; var step = tasks.length; var result = []; // æª¢æŸ¥çš„é‚è¼¯å¯«åœ¨é€™è£¡ function check(r) &#123; result.push(r); if( result.length === step )&#123; callback(); &#125; &#125; tasks.forEach(function(f) &#123; f(check); &#125;);&#125; é‚£éº¼æ”¹å¯«ä¸€ä¸‹ funcA()ã€funcB()ã€funcC(): 123456789101112131415161718192021222324function funcA(check)&#123; window.setTimeout(function()&#123; console.log('A'); check('A'); &#125;, (Math.random() + 1) * 1000);&#125;function funcB(check)&#123; window.setTimeout(function()&#123; console.log('B'); check('B'); &#125;, (Math.random() + 1) * 1000);&#125;function funcC(check)&#123; window.setTimeout(function()&#123; console.log('C'); check('C'); &#125;, (Math.random() + 1) * 1000);&#125;function funcD()&#123; console.log('ä¸Šèœï¼');&#125; æœ€å¾Œå‘¼å«çš„æ™‚å€™ï¼Œæˆ‘å€‘å°±å¯ä»¥é€éŽé€™æ¨£å‘¼å« serials() ï¼š 1serials([funcA, funcB, funcC], funcD); æŠŠæƒ³è¦æå‰åŸ·è¡Œçš„å‡½å¼ä»¥é™£åˆ—çš„æ–¹å¼å‚³é€² serials() ä½œç‚ºç¬¬ä¸€å€‹åƒæ•¸ï¼Œç•¶é™£åˆ—ä¸­çš„å‡½å¼éƒ½åŸ·è¡Œå®Œç•¢å¾Œï¼Œæ‰æœƒå‘¼å«ç¬¬äºŒå€‹åƒæ•¸çš„ funcD()ã€‚ Promise ç‰©ä»¶ç‚ºäº†è§£æ±ºåŒæ­¥/éžåŒæ­¥çš„å•é¡Œï¼Œè‡ªå¾ž ES6 é–‹å§‹æ–°å¢žäº†ä¸€å€‹å«åš Promise çš„ç‰¹æ®Šç‰©ä»¶ã€‚ ç°¡å–®ä¾†èªªï¼ŒPromise æŒ‰å­—é¢ä¸Šçš„ç¿»è­¯å°±æ˜¯ã€Œæ‰¿è«¾ã€ç´„å®šã€ä¹‹æ„ï¼Œå›žå‚³çš„çµæžœè¦å˜›æ˜¯ã€Œå®Œæˆã€ï¼Œè¦å˜›æ˜¯ã€Œæ‹’çµ•ã€ã€‚ å¯¦éš›å¯«æˆ Promise çš„ç¨‹å¼ç¢¼å¤§æ¦‚åƒé€™æ¨£ï¼š 1234const myFirstPromise = new Promise((resolve, reject) =&gt; &#123; resolve(someValue); // å®Œæˆ reject("failure reason"); // æ‹’çµ•&#125;); è¦æä¾›ä¸€å€‹å‡½å¼ promise åŠŸèƒ½ï¼Œè®“å®ƒå›žå‚³ä¸€å€‹ promise ç‰©ä»¶å³å¯ï¼š 12345function myAsyncFunction(url) &#123; return new Promise((resolve, reject) =&gt; &#123; // resolve() or reject() &#125;);&#125;; ç•¶ Promise è¢«å®Œæˆçš„æ™‚å€™ï¼Œæˆ‘å€‘å°±å¯ä»¥å‘¼å« resolve()ï¼Œç„¶å¾Œå°‡å–å¾—çš„è³‡æ–™å‚³éžå‡ºåŽ»ã€‚ æˆ–æ˜¯èªªæƒ³è¦æ‹’çµ• Promise ï¼Œ é‚£éº¼å°±å‘¼å« reject() ä¾†æ‹’çµ•ã€‚ ä¸€èˆ¬ä¾†èªªï¼Œ Promise ç‰©ä»¶æœƒæœ‰é€™å¹¾ç¨®ç‹€æ…‹ï¼š pending: åˆå§‹ç‹€æ…‹ï¼Œä¸æ˜¯ fulfilled æˆ– rejectedã€‚ fulfilled: è¡¨ç¤ºæ“ä½œæˆåŠŸåœ°å®Œæˆã€‚ rejected: è¡¨ç¤ºæ“ä½œå¤±æ•—ã€‚ æ•´å€‹ Promise æµç¨‹å¯ä»¥ç”¨é€™å¼µåœ–è¡¨ç¤ºï¼š å¦‚æžœæˆ‘å€‘éœ€è¦ä¾åºä¸²é€£åŸ·è¡Œå¤šå€‹ promise åŠŸèƒ½çš„è©±ï¼Œå¯ä»¥é€éŽ .then() ä¾†åšåˆ°ã€‚ ä»¥å‰›å‰›çš„ funcA()ã€funcB()ã€funcC() ä¾†ç•¶ç¯„ä¾‹ï¼Œæˆ‘å€‘å°‡é€™ä¸‰å€‹å‡½å¼åˆ†åˆ¥é€éŽ Promise åŒ…è£ï¼š 1234567891011121314151617181920212223242526function funcA()&#123; return new Promise(function(resolve, reject)&#123; window.setTimeout(function()&#123; console.log('A'); resolve('A'); // å®Œæˆ &#125;, (Math.random() + 1) * 1000); &#125;);&#125;function funcB()&#123; return new Promise(function(resolve, reject)&#123; window.setTimeout(function()&#123; console.log('B'); resolve('B'); // å®Œæˆ &#125;, (Math.random() + 1) * 1000); &#125;);&#125;function funcC()&#123; return new Promise(function(resolve, reject)&#123; window.setTimeout(function()&#123; console.log('C'); resolve('C'); // å®Œæˆ &#125;, (Math.random() + 1) * 1000); &#125;);&#125; æœ€å¾Œé€éŽå‘¼å« 1funcA().then(funcB).then(funcC); å°±å¯ä»¥åšåˆ°ç­‰ funcA() è¢« ã€Œresolveã€ä¹‹å¾Œå†åŸ·è¡Œ funcB()ï¼Œç„¶å¾Œ resolve å†åŸ·è¡Œ funcC() çš„é †åºäº†ã€‚ å¦‚æžœæˆ‘å€‘ä¸åœ¨ä¹Ž funcA()ã€funcB()ã€funcC() èª°å…ˆèª°å¾Œï¼Œåªé—œå¿ƒé€™ä¸‰å€‹æ˜¯å¦å·²ç¶“å®Œæˆå‘¢ï¼Ÿ é‚£å°±å¯ä»¥é€éŽ Promise.all() ä¾†åšåˆ°ï¼š Promise.all()12345// funcA, funcB, funcC çš„å…ˆå¾Œé †åºä¸é‡è¦// ç›´åˆ°é€™ä¸‰å€‹å‡½å¼éƒ½å›žè¦† resolve æˆ–æ˜¯ã€Œå…¶ä¸­ä¸€å€‹ã€ reject æ‰æœƒç¹¼çºŒå¾ŒçºŒçš„è¡Œç‚ºPromise.all([funcA(), funcB(), funcC()]) .then(function()&#123; console.log('ä¸Šèœ'); &#125;);]]></content>
      <categories>
        <category>JS</category>
        <category>é‡æ–°èªè­˜ JavaScript</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>é‡æ–°èªè­˜ JavaScript</tag>
        <tag>Callback Function</tag>
        <tag>Callback Hell</tag>
        <tag>Promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-Events]]></title>
    <url>%2F2018%2F01%2F16%2FJS-Events%2F</url>
    <content type="text"><![CDATA[é‚£äº›ä½ çŸ¥é“èˆ‡ä¸çŸ¥é“çš„äº‹ä»¶å€‘ å‰è¨€åœ¨ 2018 iT é‚¦å¹«å¿™éµäººè³½ï¼Œçœ‹åˆ°Kuroå¤§çš„é‡æ–°èªè­˜ JavaScript ç³»åˆ—æ–‡ï¼Œä»”ç´°çš„é–±è®€å¾Œï¼Œç´€éŒ„è‡ªå·±è§€å¿µä¸è¶³çš„éƒ¨ä»½ï¼Œä¹Ÿéžå¸¸æŽ¨è–¦çµ¦å¤§å®¶è§€çœ‹æ­¤ç³»åˆ—æ–‡ã€‚ Kuro-é‡æ–°èªè­˜ JavaScript ç³»åˆ— è¡¨å–®ç›¸é—œäº‹ä»¶ input äº‹ä»¶ï¼š ç•¶ inputã€ textarea ä»¥åŠå¸¶æœ‰ contenteditable çš„å…ƒç´ å…§å®¹è¢«æ”¹è®Šæ™‚ï¼Œå°±æœƒè§¸ç™¼ input äº‹ä»¶ã€‚ change äº‹ä»¶ï¼š ç•¶ inputã€selectã€textareaã€radioã€checkbox ç­‰è¡¨å–®å…ƒç´ è¢«æ”¹è®Šæ™‚è§¸ç™¼ã€‚ ä½†èˆ‡ input äº‹ä»¶ä¸åŒçš„æ˜¯ï¼Œinput äº‹ä»¶æœƒåœ¨è¼¸å…¥æ¡†è¼¸å…¥å…§å®¹çš„ç•¶ä¸‹è§¸ç™¼ï¼Œè€Œ change äº‹ä»¶å‰‡æ˜¯åœ¨ç›®å‰ç„¦é»žé›¢é–‹è¼¸å…¥æ¡†å¾Œæ‰è§¸ç™¼ã€‚ submit äº‹ä»¶ï¼šç•¶è¡¨å–®è¢«é€å‡ºæ™‚è§¸ç™¼ï¼Œé€šå¸¸è¡¨å–®é©—è­‰éƒ½æœƒåœ¨é€™ä¸€æ­¥è™•ç†ï¼Œè‹¥é©—è­‰æœªé€šéŽå‰‡ return false;ã€‚ ç‰¹æ®Šäº‹ä»¶é€éŽ Composition Events æˆ‘å€‘å¯ä»¥è§€å¯Ÿä½¿ç”¨è€…åœ¨è¼¸å…¥æ¡†å…§é–‹å•Ÿè¼¸å…¥æ³• (Input Method Editor, IME) æ™‚ï¼Œçµ„å­—æˆ–é¸å­—çš„ç‹€æ…‹ã€‚ é€™å€‹æ™‚å€™å°±éœ€è¦é€éŽ Composition Events ä¾†ç‚ºè¼¸å…¥æ¡†åšå¢žå¼·ã€‚ compositionstart: è¼¸å…¥æ¡†å…§é–‹å•Ÿè¼¸å…¥æ³•ï¼Œä¸”æ­£åœ¨æ‹¼å­—æ™‚è§¸ç™¼ã€‚ compositionupdate: è¼¸å…¥æ¡†å…§é–‹å•Ÿè¼¸å…¥æ³•ï¼Œä¸”æ­£åœ¨æ‹¼å­—æˆ–é¸å­—æ™‚æ›´æ”¹äº†å…§å®¹æ™‚è§¸ç™¼ã€‚ compositionend: è¼¸å…¥æ¡†å…§é–‹å•Ÿè¼¸å…¥æ³•ï¼Œæ‹¼å­—æˆ–é¸å­—å®Œæˆï¼Œæ­£è¦é€å‡ºè‡³è¼¸å…¥æ¡†æ™‚è§¸ç™¼ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æžœè¦ç¢ºèªä½¿ç”¨è€…è¼¸å…¥å®Œæˆä¸¦é€å‡ºæ–‡å­—æ™‚ï¼Œå°±å¯ä»¥é€éŽ compositionendä¾†åšæœ€å¾Œç¢ºèªã€‚ åŸ·è¡Œçš„æ™‚å€™åƒé€™æ¨£ï¼š é–‹å•Ÿconsoleï¼Œåœ¨inputè¼¸å…¥æ–‡å­—ï¼ševentè§¸ç™¼æ™‚æ©Ÿ éµç›¤ç›¸é—œäº‹ä»¶éµç›¤ç›¸é—œäº‹ä»¶æœ‰ä¸‹åˆ—ä¸‰ç¨®ï¼Œåœ¨å¤§å¤šæ•¸æƒ…æ³ä¸‹æœƒå°‡éµç›¤äº‹ä»¶è¨»å†Šåœ¨ input çš„è¼¸å…¥æ¡†ä¸Šã€‚ keydown äº‹ä»¶: ã€Œå£“ä¸‹ã€éµç›¤æŒ‰éµæ™‚æœƒè§¸ç™¼ keydown äº‹ä»¶ã€‚ keypress äº‹ä»¶: é™¤äº† Shift, Fn, CapsLock é€™ä¸‰ç¨®æŒ‰éµå¤–æŒ‰ä½æ™‚æœƒè§¸ç™¼ï¼Œè‹¥æŒ‰è‘—ä¸æ”¾å‰‡æœƒé€£çºŒè§¸ç™¼ã€‚ keyup äº‹ä»¶: ã€Œæ”¾é–‹ã€éµç›¤æŒ‰éµæ™‚è§¸ç™¼ã€‚ é€éŽ e.keyCode å°±å¯ä»¥åˆ¤æ–·ä½¿ç”¨è€…ç›®å‰æŒ‰ä¸‹çš„æ˜¯å“ªå€‹æŒ‰éˆ• 123456textBox.addEventListener('keydown', function(e)&#123; // enter çš„ keyCode æ˜¯ 13 if( e.keyCode === 13 )&#123; formSubmit(); &#125;&#125;, false); è¨»ï¼š keyCode çš„å°æ‡‰è¡¨å¯ä»¥åˆ°é€™è£¡æŸ¥çœ‹ï¼šhttps://gist.github.com/tylerbuchea/8011573 æ»‘é¼ ç›¸é—œäº‹ä»¶ mousedown / mouseup äº‹ä»¶: é€™å…©å€‹äº‹ä»¶åˆ†åˆ¥æœƒåœ¨æ»‘é¼ é»žæ“Šäº†æŸå…ƒç´ ã€ŒæŒ‰ä¸‹ã€(mousedown) æŒ‰éˆ•ï¼Œä»¥åŠã€Œæ”¾é–‹ã€(mouseup) æŒ‰éˆ•æ™‚è§¸ç™¼ã€‚ click äº‹ä»¶: ç•¶æ»‘é¼ ã€Œé»žæ“Šã€äº†æŸå…ƒç´ æ™‚è§¸ç™¼ã€‚ dblclickäº‹ä»¶: ç•¶æ»‘é¼ ã€Œé€£é»žå…©æ¬¡ã€äº†æŸå…ƒç´ æ™‚è§¸ç™¼ã€‚ mouseenter / mousemove / mouseleave äº‹ä»¶ï¼š é€™ä¸‰å€‹äº‹ä»¶è¦æ”¾åœ¨ä¸€èµ·çœ‹ ç•¶æ»‘é¼ æ¸¸æ¨™ç§»å…¥äº†æŸå…ƒç´ æ™‚ï¼Œæœƒå…ˆè§¸ç™¼ mouseenter äº‹ä»¶ã€‚ æ»‘é¼ æ¸¸æ¨™åœ¨é€™å€‹å…ƒç´ å…§ã€Œç§»å‹•ã€æ™‚ï¼Œæœƒé€£çºŒè§¸ç™¼ mousemove äº‹ä»¶ã€‚ ç›´åˆ°æ»‘é¼ æ¸¸æ¨™é›¢é–‹äº†é€™å€‹å…ƒç´ ï¼Œæ‰è§¸ç™¼ mouseleave äº‹ä»¶ã€‚ é€™äº›æ»‘é¼ ç›¸é—œçš„äº‹ä»¶ï¼Œéƒ½å¯ä»¥é€éŽ event.pageX èˆ‡ event.pageY å±¬æ€§åŽ»å–å¾—ç›®å‰åœ¨ç¶²é å°æ‡‰çš„åº§æ¨™ã€‚ ä»‹é¢ç›¸é—œäº‹ä»¶ load äº‹ä»¶ï¼šè¨»å†Šåœ¨ window ç‰©ä»¶ä¸Šï¼ŒæŒ‡çš„æ˜¯ç¶²é è³‡æº (åŒ…æ‹¬CSSã€JSã€åœ–ç‰‡ç­‰) å…¨æ•¸è¼‰å…¥å®Œç•¢å¾Œè§¸ç™¼ã€‚å¦‚æžœæ˜¯ img å…ƒç´ çš„ load äº‹ä»¶ï¼Œå‰‡è¡¨ç¤ºæ˜¯æ­¤åœ–ç‰‡è¼‰å…¥å®Œç•¢å¾Œè§¸ç™¼ã€‚ unload ã€ beforeunload äº‹ä»¶ï¼šèˆ‡ load äº‹ä»¶ç›¸åï¼Œunload èˆ‡ beforeunload äº‹ä»¶åˆ†åˆ¥æœƒåœ¨é›¢é–‹é é¢æˆ–é‡æ–°æ•´ç†æ™‚è§¸ç™¼ï¼Œè€Œ beforeunload æœƒè·³å‡ºå°è©±æ¡†è©¢å•ä½¿ç”¨è€…æ˜¯å¦è¦é›¢é–‹ç›®å‰é é¢ã€‚ resize äº‹ä»¶ï¼šç•¶ç€è¦½å™¨ (window) æˆ–æŒ‡å®šå…ƒç´  (element) çš„ã€Œå°ºå¯¸è®Šæ›´ã€æ™‚è§¸ç™¼ã€‚ scroll äº‹ä»¶ï¼šç•¶ç€è¦½å™¨ (window) æˆ–æŒ‡å®šå…ƒç´  (element) çš„ã€Œæ²è»¸è¢«æ‹‰å‹•ã€æ™‚è§¸ç™¼ã€‚ DOMContentLoaded äº‹ä»¶ï¼šé¡žä¼¼æ–¼ load äº‹ä»¶ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œload äº‹ä»¶æ˜¯åœ¨ç¶²é ã€Œæ‰€æœ‰ã€è³‡æºéƒ½å·²ç¶“è¼‰å…¥å®Œæˆå¾Œæ‰æœƒè§¸ç™¼ï¼Œè€Œ DOMContentLoaded äº‹ä»¶æ˜¯åœ¨ DOM çµæ§‹è¢«å®Œæ•´çš„è®€å–è·Ÿè§£æžå¾Œå°±æœƒè¢«è§¸ç™¼ï¼Œä¸é ˆç­‰å¾…å¤–éƒ¨è³‡æºè®€å–å®Œæˆã€‚ ç°¡å–®ä¾†èªªï¼Œ DOMContentLoaded èˆ‡ load çš„æ™‚æ©Ÿå¯ä»¥ç”¨é€™å¼µåœ–ä¾†è§£é‡‹ï¼š]]></content>
      <categories>
        <category>JS</category>
        <category>é‡æ–°èªè­˜ JavaScript</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>é‡æ–°èªè­˜ JavaScript</tag>
        <tag>event</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-äº‹ä»¶æ©Ÿåˆ¶çš„åŽŸç†]]></title>
    <url>%2F2018%2F01%2F15%2FJS-Bubbling-Capturing%2F</url>
    <content type="text"><![CDATA[äº‹ä»¶å†’æ³¡ (Event Bubbling) &amp; äº‹ä»¶æ•ç² (Event Capturing) å‰è¨€åœ¨ 2018 iT é‚¦å¹«å¿™éµäººè³½ï¼Œçœ‹åˆ°Kuroå¤§çš„é‡æ–°èªè­˜ JavaScript ç³»åˆ—æ–‡ï¼Œä»”ç´°çš„é–±è®€å¾Œï¼Œç´€éŒ„è‡ªå·±è§€å¿µä¸è¶³çš„éƒ¨ä»½ï¼Œä¹Ÿéžå¸¸æŽ¨è–¦çµ¦å¤§å®¶è§€çœ‹æ­¤ç³»åˆ—æ–‡ã€‚ Kuro-é‡æ–°èªè­˜ JavaScript ç³»åˆ— äº‹ä»¶å†’æ³¡ (Event Bubbling) åœ–ç‰‡ä¾†æºï¼š Event Flow: capture, target, and bubbling äº‹ä»¶å†’æ³¡æŒ‡çš„æ˜¯ã€Œå¾žå•Ÿå‹•äº‹ä»¶çš„å…ƒç´ ç¯€é»žé–‹å§‹ï¼Œé€å±¤å¾€ä¸Šå‚³éžã€ï¼Œç›´åˆ°æ•´å€‹ç¶²é çš„æ ¹ç¯€é»žï¼Œä¹Ÿå°±æ˜¯ documentã€‚ äº‹ä»¶æ•ç² (Event Capturing) åœ–ç‰‡ä¾†æºï¼š Event Flow: capture, target, and bubbling å‰›å‰›èªªéŽã€Œäº‹ä»¶å†’æ³¡ã€æ©Ÿåˆ¶æ˜¯ç”±ä¸‹å¾€ä¸Šä¾†å‚³éžï¼Œé‚£éº¼ã€Œäº‹ä»¶æ•ç²ã€(Event Capturing) æ©Ÿåˆ¶å‰‡æ­£å¥½ç›¸åã€‚ äº‹ä»¶å‚³éžé †åºæ—¢ç„¶äº‹ä»¶å‚³éžé †åºæœ‰å…©ç¨®æ©Ÿåˆ¶ï¼Œé‚£æˆ‘æ€Žéº¼çŸ¥é“äº‹ä»¶æ˜¯ä¾è³´å“ªç¨®æ©Ÿåˆ¶åŸ·è¡Œçš„ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼šå…©ç¨®éƒ½æœƒåŸ·è¡Œã€‚ åœ–ç‰‡ä¾†æº: W3C, DOM event flow é–‹å•Ÿconsoleï¼Œåˆ†åˆ¥é»žæ“Šçˆ¶å…ƒç´ ã€å­å…ƒç´ äº‹ä»¶æ©Ÿåˆ¶çš„åŽŸç† äº‹ä»¶ç›£è½ EventTarget.addEventListener()addEventListener() åŸºæœ¬ä¸Šæœ‰ä¸‰å€‹åƒæ•¸ï¼Œåˆ†åˆ¥ä¾åºæ˜¯ äº‹ä»¶åç¨± äº‹ä»¶çš„è™•ç†å™¨(äº‹ä»¶è§¸ç™¼æ™‚åŸ·è¡Œçš„ function) Booleanï¼Œç”±é€™å€‹ Boolean æ±ºå®šäº‹ä»¶æ˜¯ä»¥ã€Œæ•ç²ã€æˆ–ã€Œå†’æ³¡ã€æ©Ÿåˆ¶åŸ·è¡Œï¼Œè‹¥ä¸æŒ‡å®šå‰‡é è¨­ç‚ºã€Œå†’æ³¡ã€ã€‚ 1&lt;button id="btn"&gt;Click&lt;/button&gt; ç¶å®šç›£è½å‹•ä½œ12345var btn = document.getElementById('btn');btn.addEventListener('click', function()&#123; console.log('HI');&#125;, false); ä½¿ç”¨é€™ç¨®æ–¹å¼ä¾†è¨»å†Šäº‹ä»¶çš„å¥½è™•æ˜¯å¯ä»¥é‡è¤‡æŒ‡å®šå¤šå€‹ã€Œè™•ç†å™¨ã€(handler) çµ¦åŒä¸€å€‹å…ƒç´ çš„åŒä¸€å€‹äº‹ä»¶ï¼š 123456789var btn = document.getElementById('btn');btn.addEventListener('click', function()&#123; console.log('HI');&#125;, false);btn.addEventListener('click', function()&#123; console.log('HELLO');&#125;, false); é»žæ“Šå¾Œ console å‡ºç¾ï¼š 12"HI""HELLO" è‹¥æ˜¯è¦è§£é™¤äº‹ä»¶çš„è¨»å†Šï¼Œå‰‡æ˜¯é€éŽ removeEventListener() ä¾†å–æ¶ˆã€‚ removeEventListener() çš„ä¸‰å€‹åƒæ•¸èˆ‡ addEventListener() ä¸€æ¨£ï¼Œåˆ†åˆ¥æ˜¯ã€Œäº‹ä»¶åç¨±ã€ã€ã€Œäº‹ä»¶çš„è™•ç†å™¨ã€ä»¥åŠã€Œæ•ç²ã€æˆ–ã€Œå†’æ³¡ã€çš„æ©Ÿåˆ¶ã€‚ ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±æ–¼ addEventListener() å¯ä»¥åŒæ™‚é‡å°æŸå€‹äº‹ä»¶ç¶å®šå¤šå€‹ handlerï¼Œæ‰€ä»¥é€éŽ removeEventListener() è§£é™¤äº‹ä»¶çš„æ™‚å€™ï¼Œç¬¬äºŒå€‹åƒæ•¸çš„ handler å¿…é ˆè¦èˆ‡å…ˆå‰åœ¨ addEventListener() ç¶å®šçš„ handler æ˜¯åŒä¸€å€‹ã€Œå¯¦é«”(è¨˜æ†¶é«”ä½å€) ã€ã€‚ äºŒå€‹functionå„è‡ªå­˜åœ¨ä¸åŒçš„è¨˜æ†¶é«”ä½å€12345678910var btn = document.getElementById('btn');btn.addEventListener('click', function()&#123; console.log('HI');&#125;, false);// ç§»é™¤äº‹ä»¶ï¼Œä½†æ˜¯æ²’ç”¨btn.removeEventListener('click', function()&#123; console.log('HI');&#125;, false); åƒä¸Šé¢é€™æ¨£ï¼Œå³ä½¿åŸ·è¡Œäº† removeEventListener ä¾†ç§»é™¤äº‹ä»¶ï¼Œä½† click æ™‚ä»æœƒå‡ºç¾ â€˜HIâ€™ã€‚ å› ç‚º addEventListener èˆ‡ removeEventListener æ‰€ç§»é™¤çš„ handler å¯¦éš›ä¸Šæ˜¯å…©å€‹ä¸åŒå¯¦é«”(è¨˜æ†¶é«”ä½å€) çš„ function ç‰©ä»¶ã€‚ åŒä¸€å€‹functionï¼ŒåŒå€‹è¨˜æ†¶é«”ä½å€1234567891011var btn = document.getElementById('btn');// æŠŠ event handler æ‹‰å‡ºä¾†var clickHandler = function()&#123; console.log('HI');&#125;;btn.addEventListener('click', clickHandler, false);// ç§»é™¤ clickHandlerï¼Œ ok!btn.removeEventListener('click', clickHandler, false);]]></content>
      <categories>
        <category>JS</category>
        <category>é‡æ–°èªè­˜ JavaScript</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>é‡æ–°èªè­˜ JavaScript</tag>
        <tag>äº‹ä»¶å†’æ³¡ (Event Bubbling)</tag>
        <tag>äº‹ä»¶æ•ç² (Event Capturing)</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-Pass by sharing]]></title>
    <url>%2F2018%2F01%2F15%2FJS-Passbysharing%2F</url>
    <content type="text"><![CDATA[JavaScript æ˜¯ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€ï¼Ÿ å‰è¨€åœ¨ 2018 iT é‚¦å¹«å¿™éµäººè³½ï¼Œçœ‹åˆ°Kuroå¤§çš„é‡æ–°èªè­˜ JavaScript ç³»åˆ—æ–‡ï¼Œä»”ç´°çš„é–±è®€å¾Œï¼Œç´€éŒ„è‡ªå·±è§€å¿µä¸è¶³çš„éƒ¨ä»½ï¼Œä¹Ÿéžå¸¸æŽ¨è–¦çµ¦å¤§å®¶è§€çœ‹æ­¤ç³»åˆ—æ–‡ã€‚ Kuro-é‡æ–°èªè­˜ JavaScript ç³»åˆ— ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€ï¼Ÿæ‰€ä»¥æˆ‘èªªé‚£å€‹ JavaScript æ˜¯ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€å‘¢ï¼Ÿ åœ¨å¤§å¤šæ•¸çš„æƒ…æ³ä¸‹ï¼ŒåŸºæœ¬åž‹åˆ¥æ˜¯ã€Œå‚³å€¼ã€ï¼Œè€Œç‰©ä»¶åž‹åˆ¥æœƒæ˜¯ã€Œå‚³å€ã€çš„æ–¹å¼ï¼Œä½†å‡¡äº‹éƒ½æœ‰ä¾‹å¤–ã€‚ æˆ‘å€‘ä¾†çœ‹çœ‹ä¸‹é¢é€™å€‹ä¾‹å­ï¼š 12345678var coin1 = &#123; value: 10 &#125;;function changeValue(obj) &#123; obj = &#123; value: 123 &#125;;&#125;changeValue(coin1);console.log(coin1); // ï¼Ÿ çŒœçŒœçœ‹ï¼Œç¶“éŽ changeValue(coin1) æ“ä½œå¾Œçš„ coin1 æœƒæ˜¯ä»€éº¼ï¼Ÿ ç­”æ¡ˆä»æ˜¯ { value: 10 } ã€‚ å‰›å‰›èªªéŽï¼Œç‰©ä»¶åž‹åˆ¥æœƒæ˜¯ã€Œå‚³å€ã€çš„æ–¹å¼ä¾†æ›´æ–°è³‡æ–™ï¼Œé‚£æ‡‰è©²æœƒæ˜¯ { value: 123 } æ‰å°ï¼Œç‚ºä»€éº¼ä¾ç„¶ä¸è®Šï¼Ÿ äº‹å¯¦ä¸Šï¼ŒJavaScript ä¸å±¬æ–¼å–®ç´”çš„å‚³å€¼æˆ–å‚³å€ã€‚æ›´æº–ç¢ºä¸€é»žä¾†èªªï¼ŒJavaScript æ‡‰è©²å±¬æ–¼é€éŽ pass by sharing ä¾†å‚³éžè³‡æ–™ã€‚ ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€å°å¤§å¤šæ•¸çš„é–‹ç™¼è€…ä¾†èªªæ‡‰è©²éƒ½ä¸é™Œç”Ÿï¼Œé‚£éº¼ã€Œpass by sharingã€åˆæ˜¯ä»€éº¼å‘¢ï¼Ÿ Pass by sharingã€ŒPass by sharingã€çš„ç‰¹é»žåœ¨æ–¼ï¼Œç•¶ function çš„åƒæ•¸ï¼Œå¦‚ function changeValue(obj){ â€¦ } ä¸­çš„ obj è¢«é‡æ–°è³¦å€¼çš„æ™‚å€™ï¼Œå¤–éƒ¨è®Šæ•¸çš„å…§å®¹æ˜¯ä¸æœƒè¢«å½±éŸ¿çš„ã€‚ functionè£¡ï¼Œé‡æ–°è³¦å€¼12345678var coin1 = &#123; value: 10 &#125;;function changeValue(obj) &#123; obj = &#123; value: 123 &#125;;&#125;changeValue(coin1);console.log(coin1); // æ­¤æ™‚ coin1 ä»æ˜¯ &#123; value: 10 &#125; å¦‚æžœä¸æ˜¯é‡æ–°è³¦å€¼çš„æƒ…æ³ï¼Œå‰‡åˆæœƒå›žåˆ°å¤§å®¶æ‰€ç†Ÿæ‚‰çš„ç‹€æ³ï¼š functionè£¡ï¼Œç„¡ é‡æ–°è³¦å€¼123456789var coin1 = &#123; value: 10 &#125;;function changeValue(obj) &#123; // åƒ…æ›´æ–° obj.valueï¼Œä¸¦æœªé‡æ–°è³¦å€¼ obj.value = 123;&#125;changeValue(coin1);console.log(coin1); // æ­¤æ™‚ coin1 å‰‡æœƒè®Šæˆ &#123; value: 123 &#125; JSä¸­æ˜¯ pass by value è¿˜æ˜¯ pass by reference]]></content>
      <categories>
        <category>JS</category>
        <category>é‡æ–°èªè­˜ JavaScript</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>é‡æ–°èªè­˜ JavaScript</tag>
        <tag>Pass by sharing</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-ç‰©ä»¶ã€é™£åˆ—ä»¥åŠåž‹åˆ¥åˆ¤æ–·]]></title>
    <url>%2F2018%2F01%2F15%2FJS-Typejudgment%2F</url>
    <content type="text"><![CDATA[ç‰©ä»¶ã€é™£åˆ—ä»¥åŠåž‹åˆ¥åˆ¤æ–·ã€‚ å‰è¨€åœ¨ 2018 iT é‚¦å¹«å¿™éµäººè³½ï¼Œçœ‹åˆ°Kuroå¤§çš„é‡æ–°èªè­˜ JavaScript ç³»åˆ—æ–‡ï¼Œä»”ç´°çš„é–±è®€å¾Œï¼Œç´€éŒ„è‡ªå·±è§€å¿µä¸è¶³çš„éƒ¨ä»½ï¼Œä¹Ÿéžå¸¸æŽ¨è–¦çµ¦å¤§å®¶è§€çœ‹æ­¤ç³»åˆ—æ–‡ã€‚ Kuro-é‡æ–°èªè­˜ JavaScript ç³»åˆ— åŸºæœ¬åž‹åˆ¥èˆ‡ç‰©ä»¶åž‹åˆ¥JavaScript å…§å»ºçš„åž‹åˆ¥ä¸»è¦å¯ä»¥åˆ†æˆåŸºæœ¬åž‹åˆ¥ (Primitives) èˆ‡ç‰©ä»¶åž‹åˆ¥ (Object) å…©å¤§é¡žã€‚è€ŒåŸºæœ¬åž‹åˆ¥åˆåˆ†æˆ stringã€numberã€booleanã€nullã€undefined å¹¾ç¨®ï¼Œé™¤äº†ä»¥ä¸Šå¹¾ç¨®ä¹‹å¤–ï¼Œå…¶ä»–éƒ½å¯ä»¥æ­¸é¡žè‡³ ç‰©ä»¶åž‹åˆ¥ (Object)ç‰©ä»¶åž‹åˆ¥ (Object)ç‰©ä»¶åž‹åˆ¥ (Object) åˆ¤æ–·å±¬æ€§æ˜¯å¦å­˜åœ¨æ–¹æ³•1ï¼šç‰©ä»¶ä¸­ä¸å­˜åœ¨çš„å±¬æ€§ï¼Œæ­¤æ™‚æœƒå›žå‚³ undefinedæ–¹æ³•2ï¼šhasOwnProperty() æ–¹æ³•ä¸æœƒå¾€ä¸Šæª¢æŸ¥ç‰©ä»¶çš„åŽŸåž‹éˆ(prototype chain)ï¼Œè€Œ in é‹ç®—å­ï¼Œå‰‡æœƒç¹¼çºŒå¾€ç‰©ä»¶åŽŸåž‹éˆä¸Šæª¢æŸ¥ã€‚ æ–¹æ³•1 ç‰©ä»¶ä¸­ä¸å­˜åœ¨çš„å±¬æ€§ï¼Œæ­¤æ™‚æœƒå›žå‚³ undefined 123var obj = &#123;&#125;;console.log( obj.name ); // undefined ä½†é€™éº¼åšæœƒæœ‰å€‹ä¾‹å¤–ï¼Œå°±æ˜¯ç•¶è©²å±¬æ€§å‰›å¥½å°±æ˜¯ undefined æ™‚ï¼Œé€™æ‹›å°±æ²’ç”¨äº†ã€‚ é™¤äº†æª¢æŸ¥ undefined ä¹‹å¤–ï¼Œé‚„æœ‰ in é‹ç®—å­ èˆ‡ hasOwnProperty() æ–¹æ³•ã€‚ æ–¹æ³•2 é›–ç„¶å…©è€…éƒ½å¯ä»¥æª¢æŸ¥ç‰©ä»¶çš„å±¬æ€§æ˜¯å¦å­˜åœ¨ï¼Œä½†hasOwnProperty() æ–¹æ³•ä¸æœƒå¾€ä¸Šæª¢æŸ¥ç‰©ä»¶çš„åŽŸåž‹éˆ(prototype chain)ï¼Œï¼Œåªæœƒæª¢æŸ¥ç‰©ä»¶æœ¬èº«æ˜¯å¦å­˜åœ¨é€™å€‹å±¬æ€§ï¼Œè€Œ in é‹ç®—å­ï¼Œå‰‡æœƒç¹¼çºŒå¾€ç‰©ä»¶åŽŸåž‹éˆä¸Šæª¢æŸ¥ã€‚ ç¯„ä¾‹11234567891011var obj = &#123; name: 'Object'&#125;;// é€éŽ in æª¢æŸ¥å±¬æ€§console.log( 'name' in obj ); // trueconsole.log( 'value' in obj ); // false// é€éŽ hasOwnProperty() æ–¹æ³•æª¢æŸ¥obj.hasOwnProperty('name'); // trueobj.hasOwnProperty('value'); // false ä¸Šè¿°ç¯„ä¾‹1ï¼Œé›–ç„¶äºŒç¨®æª¢æŸ¥çµæžœéƒ½ä¸€æ¨£ï¼Œä½†æˆ‘å€‘å¯çœ‹ä¸‹åˆ—çš„ç¯„ä¾‹2ï¼Œç•¶æª¢æŸ¥æŸä¸€å±¬æ€§æ˜¯åœ¨åŽŸåž‹é‹‰ä¸Šæ™‚ï¼Œæœƒæœ‰ä»€éº¼ä¸ä¸€æ¨£ ç¯„ä¾‹21234567//toString ç‚º åŽŸåž‹éŠä¸Šçš„ å±¬æ€§// é€éŽ in æª¢æŸ¥å±¬æ€§console.log( 'toString' in obj ); // true// é€éŽ hasOwnProperty() æ–¹æ³•æª¢æŸ¥obj.hasOwnProperty('toString'); // false typeof: åž‹åˆ¥åˆ¤æ–·æª¢æŸ¥è®Šæ•¸åž‹åˆ¥ (æ­£ç¢ºä¾†è¬›æ‡‰è©²æ˜¯å€¼ï¼Œè®Šæ•¸æ²’æœ‰åž‹åˆ¥ï¼Œå€¼æ‰æœ‰)ï¼Œå¯ä»¥é€éŽ typeof é‹ç®—å­ä¾†è™•ç†ï¼š 12345678910typeof true; // 'boolean'typeof 'Kanboo'; // 'string'typeof 123; // 'number'typeof NaN; // 'number'typeof &#123; &#125;; // 'object'typeof [ ]; // 'object'typeof undefined; // 'undefined'typeof window.alert; // 'function'typeof null; // 'object' è¦æ³¨æ„çš„æ˜¯ï¼Œé€éŽ typeof é‹ç®—å­å›žå‚³çš„æ±è¥¿éƒ½æ˜¯ã€Œå­—ä¸²ã€ã€‚ typeof null ç‚ºä»€éº¼æ˜¯ â€œobjectâ€ ?å…¶å¯¦é€™åªæ˜¯ä¸€å€‹ Bug ï¼Œæ‰€ä»¥å°å¿ƒä½¿ç”¨ null ã€‚ åƒè€ƒ1: Null and typeofåƒè€ƒ2: The history of â€œtypeof nullâ€ å¦‚ä½•åˆ¤åˆ¥æ˜¯å¦ç‚ºé™£åˆ—ç•¶æˆ‘å€‘åˆ©ç”¨ typeof åŽ»æª¢æŸ¥ä¸€å€‹ã€Œé™£åˆ—ã€æ™‚ï¼Œæœƒå¾—åˆ° â€œobjectâ€œ çš„çµæžœï¼Œ typeof [ ]; // &#39;object&#39; ä½†å¦‚æžœåœ¨å¯¦å‹™ä¸Šä»æœƒæœ‰éœ€è¦åˆ¤æ–·æŸè®Šæ•¸æ˜¯å¦ç‚ºä¸€å€‹é™£åˆ—è€Œéžç‰©ä»¶çš„æ™‚å€™ï¼Œå¯ç”¨ isArray() æ–¹æ³•ï¼Œ 12345678Array.isArray([]); // trueArray.isArray([1]); // trueArray.isArray(new Array()); // trueArray.isArray(); // falseArray.isArray(&#123;&#125;); // falseArray.isArray(null); // falseArray.isArray(undefined); // false]]></content>
      <categories>
        <category>JS</category>
        <category>é‡æ–°èªè­˜ JavaScript</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>é‡æ–°èªè­˜ JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-å„ç¨®è¿´åœˆçš„ç”¨æ³•]]></title>
    <url>%2F2018%2F01%2F09%2FJS-Traverse%2F</url>
    <content type="text"><![CDATA[ç´€éŒ„å„ç¨®è¿´åœˆçš„ç”¨æ³•ã€‚ å‰è¨€JSå¸¸å¸¸éœ€è¦é‡å° é™£åˆ—(Array)ã€ç‰©ä»¶(Object) é€™äºŒç¨®è³‡æ–™é€²è¡Œåˆ†æžåŠä¿®æ”¹ï¼Œæ•…æ•´ç†ä¸‹åˆ—å¹¾ç¨®æ–¹æ³•ï¼Œ å–®ç´”éæ­·é™£åˆ—å…ƒç´  for forin forEach åˆ¤æ–·æ˜¯å¦ç¬¦åˆè³‡æ ¼ everyï¼šéæ­·æ¯å€‹å…ƒç´ åˆ¤æ–·æ˜¯å¦çš†ç¬¦åˆæ¢ä»¶ï¼Œè‹¥å…¶ä¸€ä¸ç¬¦ï¼Œå°±å›žå‚³ false someï¼š éæ­·æ¯å€‹å…ƒç´ åˆ¤æ–·æ˜¯å¦çš†ç¬¦åˆæ¢ä»¶ï¼Œè‹¥å…¶ä¸€ç¬¦åˆï¼Œå°±å›žå‚³ true ç”¢ç”Ÿæ–°çš„é™£åˆ— mapï¼šéæ­·æ¯å€‹å…ƒç´ ï¼Œé€²è¡Œ åŠ å·¥ã€æ ¡æ­£ filterï¼šéæ­·æ¯å€‹å…ƒç´ ï¼Œä¿ç•™ç¬¦åˆæ¢ä»¶(true)çš„å€¼ï¼Œä¸ç¬¦åˆï¼Œå‰‡åŽ»é™¤æŽ‰ã€‚ reduceï¼šéæ­·æ¯å€‹å…ƒç´ ï¼Œä¾åºçµ„åˆã€åŠ ç¸½ï¼Œç„¶å¾Œä¸Ÿçµ¦ä¸‹å€‹å…ƒç´ ï¼Œæœ€çµ‚æœƒå›žå‚³ä¸€å€‹çµæžœã€‚ foræœ€å¸¸è¦‹çš„ç”¨æ³•ï¼Œä¸å¤šåŠ èªªæ˜Žã€‚ ç¯„ä¾‹ 12345let arr = ["Kanboo", "Jack", "Rabbit", "Lucas", "Jack", "Lucas", "Rabbit"];for (let i = 0; i &lt; arr.length; i++) &#123; console.log(arr[i]);&#125; forinå¯å‚³å…¥ objec æˆ– array åž‹æ…‹çš„è³‡æ–™ã€‚ ç¯„ä¾‹ Arrayåž‹æ…‹12345var arr = ["zero","one","two"];for (var key in arr) &#123; console.log(arr[key]);&#125; Objectåž‹æ…‹12345var obj = &#123;a: 1, b: 2, c: 3&#125;; for (const item in obj) &#123; console.log(obj[item]);&#125; MDN-forâ€¦in forEachå¯ç”¨ä¾†å–ä»£ for çš„å¯«æ³•ï¼Œè®“ç¨‹å¼ç¢¼æ›´ç°¡çŸ­ï¼Œçœç•¥æŽ‰å®šç¾© iã€arr.lengthâ€¦ç­‰å‹•ä½œã€‚ èªžæ³• 123arr.forEach( callback(currentValue, index, array)&#123; /* your code */&#125;); callback currentValue(å¸¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰æ‰€è¿­ä»£è™•ç†ä¸­çš„å…ƒç´ ã€‚ index(é¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰è™•ç†ä¸­çš„å…ƒç´ ä¹‹ç´¢å¼•ã€‚ array(é¸ç”¨)ï¼šå‘¼å« forEach() æ–¹æ³•çš„é™£åˆ—ã€‚ ç¯„ä¾‹ ES512345const arr = ['a', 'b', 'c'];arr.forEach(function(element) &#123; console.log(element);&#125;); ES612345const arr = ['a', 'b', 'c'];arr.forEach((element) =&gt; &#123; console.log(element);&#125;); MDN-forEach() everyå°æ¯å€‹é™£åˆ—å…ƒç´ åˆ¤æ–·æ˜¯å¦çš†ç¬¦åˆæ¢ä»¶ï¼Œè‹¥å…¶ä¸€ä¸ç¬¦ï¼Œå°±å›žå‚³ false èªžæ³• 123arr.every( callback(currentValue, index, array)&#123; /* your code */&#125;); callback currentValue(å¸¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰æ‰€è¿­ä»£è™•ç†ä¸­çš„å…ƒç´ ã€‚ index(é¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰è™•ç†ä¸­çš„å…ƒç´ ä¹‹ç´¢å¼•ã€‚ array(é¸ç”¨)ï¼šå‘¼å« every() æ–¹æ³•çš„é™£åˆ—ã€‚ ç¯„ä¾‹ 12345678910function isBigEnough(element, index, array) &#123; //æ˜¯å¦å¤§æ–¼10 return element &gt;= 10;&#125;// å…¶ä¸­ 5 æ²’æœ‰å¤§æ–¼ 10[12, 5, 8, 130, 44].every(isBigEnough); // false// çš†ç¬¦åˆå¤§æ–¼ 10[12, 54, 18, 130, 44].every(isBigEnough); // true MDN-every() someå°æ¯å€‹é™£åˆ—å…ƒç´ åˆ¤æ–·æ˜¯å¦çš†ç¬¦åˆæ¢ä»¶ï¼Œè‹¥å…¶ä¸€ç¬¦åˆï¼Œå°±å›žå‚³ true èªžæ³• 123arr.some( callback(currentValue, index, array)&#123; /* your code */&#125;); callback currentValue(å¸¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰æ‰€è¿­ä»£è™•ç†ä¸­çš„å…ƒç´ ã€‚ index(é¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰è™•ç†ä¸­çš„å…ƒç´ ä¹‹ç´¢å¼•ã€‚ array(é¸ç”¨)ï¼šå‘¼å« some() æ–¹æ³•çš„é™£åˆ—ã€‚ ç¯„ä¾‹ 12345678910function isBiggerThan10(element, index, array) &#123; //æ˜¯å¦å¤§æ–¼10 return element &gt; 10;&#125;// å…¨éƒ¨éƒ½ç„¡ å¤§æ–¼10[2, 5, 8, 1, 4].some(isBiggerThan10); // false// å…¶ä¸­ 12 æœ‰å¤§æ–¼10[12, 5, 8, 1, 4].some(isBiggerThan10); // true MDN-some() mapå¯å°æ¯å€‹é™£åˆ—å…ƒç´ é€²è¡Œ åŠ å·¥ã€æ ¡æ­£ çš„è™•ç†ï¼Œæœ€å¾Œå›žå‚³ä¸€å€‹ æ–°çš„é™£åˆ—ã€‚ åŽŸå…ˆçš„é™£åˆ—èˆ‡å¾Œä¾†æ–°ç”¢ç”Ÿå‡ºçš„é™£åˆ—ï¼Œå€‹æ•¸(Array.length) æœƒä¸€æ¨£å¤šã€‚ èªžæ³• 123arr.map( callback(currentValue, index, array)&#123; /* your code */&#125;); callback currentValue(å¸¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰æ‰€è¿­ä»£è™•ç†ä¸­çš„å…ƒç´ ã€‚ index(é¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰è™•ç†ä¸­çš„å…ƒç´ ä¹‹ç´¢å¼•ã€‚ array(é¸ç”¨)ï¼šå‘¼å« map() æ–¹æ³•çš„é™£åˆ—ã€‚ ç¯„ä¾‹1 åŠ å·¥12345678var myArr = [ 1, 2, 3 ];var newArr = myArr.map(function(element) &#123; // æ¯å€‹æ•¸éƒ½åŠ 1 return element + 1;&#125;);console.log(newArr); // [ 2, 3, 4 ] ç¯„ä¾‹2 æ ¡æ­£123456789101112var myArr = [ 1, 20, 3, 40, 50, 6, 7, 80, 9, 10 ];var newArr = myArr.map(function(element) &#123; // æ ¡æ­£å¤§æ–¼10çš„æ•¸å­—ï¼Œçµ±ä¸€è®Š100 if (element &lt; 10)&#123; return element; &#125;else&#123; return 100; &#125; &#125;);console.log(newArr); // [1, 100, 3, 100, 100, 6, 7, 100, 9, 100] MDN-map() filteréæ­·æ¯å€‹å…ƒç´ ï¼Œä¿ç•™ç¬¦åˆæ¢ä»¶(true)çš„å€¼ï¼Œä¸ç¬¦åˆï¼Œå‰‡åŽ»é™¤æŽ‰ã€‚ åŽŸå…ˆçš„é™£åˆ—èˆ‡å¾Œä¾†æ–°ç”¢ç”Ÿå‡ºçš„é™£åˆ—ï¼Œå€‹æ•¸(Array.length)å¯èƒ½ä¸ä¸€æ¨£å¤šã€‚ èªžæ³• 123arr.filter( callback(currentValue, index, array)&#123; /* your code */&#125;); callback currentValue(å¸¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰æ‰€è¿­ä»£è™•ç†ä¸­çš„å…ƒç´ ã€‚ index(é¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰è™•ç†ä¸­çš„å…ƒç´ ä¹‹ç´¢å¼•ã€‚ array(é¸ç”¨)ï¼šå‘¼å« filter() æ–¹æ³•çš„é™£åˆ—ã€‚ ç¯„ä¾‹ 12345678var myArr = [ 1, 20, 3, 40, 50, 6, 7, 80, 9, 10 ];var newArr = myArr.filter(function(element) &#123; // å–å¾—å¤§æ–¼50çš„æ•¸ return element &gt;= 50;&#125;);console.log(newArr); // [50, 80] MDN-filter() reduceéæ­·æ¯å€‹å…ƒç´ ï¼Œä¾åºçµ„åˆã€åŠ ç¸½ï¼Œç„¶å¾Œä¸Ÿçµ¦ä¸‹å€‹å…ƒç´ ï¼Œæœ€çµ‚æœƒå›žå‚³ä¸€å€‹çµæžœã€‚ èªžæ³• 123arr.reduce( callback(accumlator, currentValue, index, array)&#123; /* your code */&#125;, initialValue) callback accumulator(å¸¸ç”¨)ï¼šç”¨ä¾†ç´¯ç©å›žå‘¼å‡½å¼å›žå‚³å€¼çš„ç´¯åŠ å™¨ã€‚ currentValue(å¸¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰æ‰€è¿­ä»£è™•ç†ä¸­çš„å…ƒç´ ã€‚ index(é¸ç”¨)ï¼šåŽŸé™£åˆ—ç›®å‰æ‰€è¿­ä»£è™•ç†ä¸­çš„å…ƒç´ ä¹‹ç´¢å¼•ã€‚ array(é¸ç”¨)ï¼šå‘¼å« reduce() æ–¹æ³•çš„é™£åˆ—ã€‚ initialValue(å¸¸ç”¨)ï¼šæ–¼ç¬¬ä¸€æ¬¡å‘¼å« callback æ™‚è¦å‚³å…¥çš„ç´¯åŠ å™¨åˆå§‹å€¼ã€‚ ç¯„ä¾‹1 æ³¨æ„reduceç¬¬äºŒå€‹åƒæ•¸ 0 , ä»£è¡¨çš„æ„æ€æ˜¯é–‹å§‹åŸ·è¡Œéæ­·å‰çš„åˆå§‹å€¼ã€‚ æœ‰è¨­å®šåˆå§‹å€¼1234567891011121314151617181920var myArr = [ 1, 2, 3 ];// è™•ç†æ¯å€‹å…ƒç´ å¾Œç­‰å¾…å›žå‚³çµæžœï¼Œç¬¬ä¸€æ¬¡è™•ç†æ™‚ä»£å…¥åˆå§‹å€¼ 0var result = myArr.reduce(function(prev, element) &#123; console.log(prev,element); // èˆ‡ä¹‹å‰çš„æ•¸å€¼åŠ ç¸½ï¼Œå›žå‚³å¾Œä»£å…¥ä¸‹ä¸€è¼ªçš„è™•ç† return prev + element;&#125;, 0);/* prev,element çš„åŸ·è¡Œlogï¼Œå…±åŸ·è¡Œä¸‰æ¬¡ç¬¬ä¸€æ¬¡ï¼š0 1ç¬¬äºŒæ¬¡ï¼š1 2ç¬¬ä¸‰æ¬¡ï¼š3 3*/// æœ€çµ‚çµæžœconsole.log(result); // 6 ç¯„ä¾‹2 æ³¨æ„æ­¤æ¬¡æ²’æœ‰è¨­å®šreduceç¬¬äºŒå€‹åƒæ•¸, æ­¤æ™‚å°±æœƒè‡ªå‹•æŠ“å–é™£åˆ—ç¬¬ä¸€å€‹å…ƒç´ ç•¶ä½œåˆå§‹å€¼ã€‚ ç„¡åˆå§‹å€¼12345678910111213141516171819var myArr = [ 1, 2, 3 ];// è™•ç†æ¯å€‹å…ƒç´ å¾Œç­‰å¾…å›žå‚³çµæžœï¼Œç¬¬ä¸€æ¬¡è™•ç†æ™‚ä»£å…¥åˆå§‹å€¼ 0var result = myArr.reduce(function(prev, element) &#123; console.log(prev,element); // èˆ‡ä¹‹å‰çš„æ•¸å€¼åŠ ç¸½ï¼Œå›žå‚³å¾Œä»£å…¥ä¸‹ä¸€è¼ªçš„è™•ç† return prev + element;&#125;);/* prev,element çš„åŸ·è¡Œlogï¼Œå…±åŸ·è¡ŒäºŒæ¬¡ç¬¬ä¸€æ¬¡ï¼š1 2ç¬¬äºŒæ¬¡ï¼š3 3*/// æœ€çµ‚çµæžœconsole.log(result); // 6 ç¯„ä¾‹3 é™¤äº†ä¸€èˆ¬æ•¸å­—çš„åŠ ç¸½ï¼Œä¹Ÿå¯é…åˆåˆ¤æ–·å¼ï¼Œæœ€çµ‚ç”¢å‡ºä¸€å€‹æ–°çš„é™£åˆ—ã€‚ 1234567891011121314151617181920212223let source = ["Kanboo", "Jack", "Rabbit", "Lucas", "Jack", "Lucas", "Rabbit"];let result_04 = source.reduce((p, c) =&gt; &#123; //includes åˆ¤æ–·æ˜¯å¦å·²å­˜åœ¨ if (!p.includes(c)) p.push(c); console.log("p", p); return p;&#125;, []);/*è¿´åœˆçš„åŸ·è¡Œlogï¼Œå…±åŸ·è¡Œä¸ƒæ¬¡p ["Kanboo"]p ["Kanboo", "Jack"]p ["Kanboo", "Jack", "Rabbit"]p ["Kanboo", "Jack", "Rabbit", "Lucas"]p ["Kanboo", "Jack", "Rabbit", "Lucas"]p ["Kanboo", "Jack", "Rabbit", "Lucas"]p ["Kanboo", "Jack", "Rabbit", "Lucas"] *///æœ€çµ‚çµæžœconsole.log("result_04", result_04); // ["Kanboo", "Jack", "Rabbit", "Lucas"] MDN-Reduce()fred-Mapã€Reduce]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>for</tag>
        <tag>forin</tag>
        <tag>forEach</tag>
        <tag>every</tag>
        <tag>some</tag>
        <tag>map</tag>
        <tag>filter</tag>
        <tag>reduce</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-ArrayUnique]]></title>
    <url>%2F2018%2F01%2F08%2FJS-ArrayUnique%2F</url>
    <content type="text"><![CDATA[ç´€éŒ„ ArrayUnique å¾žæ—©æœŸindexOfçš„æ–¹å¼åˆ°ç¾ä»Šå„ç¨®å„ªåŒ–çš„å¯«æ³•ã€‚ å‰è¨€ä¸‹åˆ—çš„å„ç¨®ç¯„ä¾‹ï¼Œçµ±ä¸€ä½¿ç”¨çš„ Arrayè³‡æ–™ï¼Œå¦‚ä¸‹ ArrayData1let source = ["Kanboo", "Jack", "Rabbit", "Lucas", "Jack", "Lucas", "Rabbit"]; forloop + indexOfæ—©æœŸä½¿ç”¨çš„ forè¿´åœˆ + indexOf åˆ¤æ–·æ˜¯å¦å·²å­˜åœ¨çš„å€¼ã€‚ indexOf123456789let source = ["Kanboo", "Jack", "Rabbit", "Lucas", "Jack", "Lucas", "Rabbit"];let result_01 = [];for (let i = 0; i &lt; source.length; i++) &#123; let el = source[i]; if (result_01.indexOf(el) === -1) result_01.push(el);&#125;console.log("result_01", result_01); // ["Kanboo", "Jack", "Rabbit", "Lucas"] includesåœ¨ES6æä¾›äº†ä¸€å€‹æ–°æ–¹æ³•ï¼šArray.prototype.includes()ï¼Œåˆ¤æ–·é™£åˆ—ä¸­æ˜¯å¦å·²æœ‰ç›¸åŒçš„å€¼ï¼Ÿ æœ‰ç›¸åŒçš„å€¼ï¼Œå›žå‚³ true ç„¡ç›¸åŒçš„å€¼ï¼Œå›žå‚³ false 123456789let source = ["Kanboo", "Jack", "Rabbit", "Lucas", "Jack", "Lucas", "Rabbit"];let result_02 = [];for (let i = 0; i &lt; source.length; i++) &#123; let el = source[i]; if (!result_02.includes(el)) result_02.push(el);&#125;console.log("result_02", result_02); // ["Kanboo", "Jack", "Rabbit", "Lucas"] MDN-Array.prototype.includes() forEachå°‡åŽŸæœ¬ä½¿ç”¨çš„ forè¿´åœˆ ï¼Œæ”¹ä½¿ç”¨ forEach åŸ·è¡Œï¼Œçœç•¥æŽ‰å®šç¾© iã€source.lengthâ€¦ç­‰å‹•ä½œã€‚ 12345678let source = ["Kanboo", "Jack", "Rabbit", "Lucas", "Jack", "Lucas", "Rabbit"];let result_03 = [];source.forEach((el) =&gt; &#123; if (!result_03.includes(el)) result_03.push(el);&#125;);console.log("result_03", result_03); // ["Kanboo", "Jack", "Rabbit", "Lucas"] MDN-arr.forEach reduce()éæ­·æ¯å€‹å…ƒç´ ï¼Œä¾åºçµ„åˆã€åŠ ç¸½ï¼Œç„¶å¾Œä¸Ÿçµ¦ä¸‹å€‹å…ƒç´ ï¼Œæœ€çµ‚æœƒå›žå‚³ä¸€å€‹çµæžœ 12345678910let source = ["Kanboo", "Jack", "Rabbit", "Lucas", "Jack", "Lucas", "Rabbit"];let result_04 = source.reduce((p, c) =&gt; &#123; //includes åˆ¤æ–·æ˜¯å¦å·²å­˜åœ¨ if (!p.includes(c)) p.push(c); return p;&#125;, []);console.log("result_04", result_04); // ["Kanboo", "Jack", "Rabbit", "Lucas"] MDN-reduce() Set() + Array.from()Set å°è±¡å…è¨±ä½ å­˜å„²ä»»ä½•é¡žåž‹çš„å”¯ä¸€å€¼ï¼Œç„¡è«–æ˜¯åŽŸå§‹å€¼æˆ–è€…æ˜¯å°è±¡å¼•ç”¨ã€‚ Array.from() æœƒå¾žé¡žé™£åˆ—(array-like)æˆ–æ˜¯å¯è¿­ä»£çš„ç‰©ä»¶å»ºç«‹ä¸€å€‹æ–°çš„é™£åˆ—ã€‚ æ ¹æ“šä¸Šè¿°äºŒç¨®æ–¹æ³•çš„ç‰¹æ€§ï¼Œå¿«é€Ÿé”æˆç”¢ç”Ÿä¸€å€‹ å·²åŽ»é™¤é‡è¦†å€¼çš„æ–°é™£åˆ— 1234567let source = ["Kanboo", "Jack", "Rabbit", "Lucas", "Jack", "Lucas", "Rabbit"];//1. å°‡ sourceè³‡æ–™ ä¸Ÿé€² new setï¼Œä½¿å…¶ç”¢ç”Ÿä¸€å€‹æ–°çš„ seté›†åˆ ï¼Œä¸¦ä¸”å·²åŽ»é™¤é‡è¦†çš„å€¼//2. ç„¶å¾Œå†å°‡ seté›†åˆ ä¸Ÿé€² Array.fromï¼Œå°‡ seté›†åˆçš„è³‡æ–™ è½‰åŒ–æˆ Arrayåž‹æ…‹ã€‚(è¨»ï¼šç”¢ç”Ÿæ–°é™£åˆ—ï¼Œä¸å½±éŸ¿èˆŠè³‡æ–™)let result_05 = Array.from(new Set(source));console.log("result_05", result_05); // ["Kanboo", "Jack", "Rabbit", "Lucas"] MDN-Array.from()MDN-Set()é˜®ä¸€å³°-Set() Set() + Spread... ç‚º ES6çš„å±•é–‹é‹ç®—å­ï¼ˆspread operatorï¼‰ï¼ŒæŠŠä¸€å€‹é™£åˆ—å±•é–‹(expand)æˆå€‹åˆ¥æ•¸å€¼ ç°¡å¯«1234567let source = ["Kanboo", "Jack", "Rabbit", "Lucas", "Jack", "Lucas", "Rabbit"];//1. å°‡ sourceè³‡æ–™ ä¸Ÿé€² new setï¼Œä½¿å…¶ç”¢ç”Ÿä¸€å€‹æ–°çš„ seté›†åˆ ï¼Œä¸¦ä¸”å·²åŽ»é™¤é‡è¦†çš„å€¼//2. ç”¨ ...(å±•é–‹é‹ç®—å­)ï¼Œå°‡ Set è½‰æ›ç‚º Array(è¨»ï¼š...setå¤–åœˆæœ‰å€‹ ä¸­æ¡†è™Ÿ[]ï¼Œç”¨ä¾†è½‰æ›é™£åˆ—åž‹æ…‹)let result_06 = [...new Set(source)];console.log("result_06", result_06); // ["Kanboo", "Jack", "Rabbit", "Lucas"] è£œå……èªªæ˜Ž ... åªæ˜¯å°‡ é™£åˆ—ã€set çš„å€¼æ‹†è§£ä¸€å€‹ä¸€å€‹çš„å€¼ï¼Œä¸¦ç„¡é¡å¤–ç”¢ç”Ÿæ–°é™£åˆ—ã€‚ 12345let number = [1,2,3,4,5];let mySet = new Set([1,2,3,4]);console.log(...number); // 1,2,3,4,5console.log(...mySet); // 1,2,3,4 PJ-â€¦eddy-â€¦]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JS</tag>
        <tag>Array</tag>
        <tag>Unique</tag>
        <tag>Reduce</tag>
        <tag>Set</tag>
        <tag>Spread</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NodeJS-Nodemailer]]></title>
    <url>%2F2018%2F01%2F03%2FNodeJS-Nodemailer%2F</url>
    <content type="text"><![CDATA[NodeJSå¦‚ä½•å¯¦ç¾å¯„ä¿¡ å‰è¨€Mailå¯„é€åŠŸèƒ½ä½¿ç”¨ Gmail ç•¶ä½œéƒµä»¶ä¼ºæœå™¨ï¼Œæ‰€ä»¥éœ€å…ˆé–‹é€šæ¬Šé™ï¼Œé–‹é€šå¾Œï¼Œå°±å¯ä»¥æ…¢æ…¢æ–°å¢žå¯„ä¿¡çš„åŠŸèƒ½ï¼Œä»¥åŠé¡å¤–å„ªåŒ–çš„éƒ¨ä»½ã€‚ Gmail-ä½Žå®‰å…¨æ€§æ‡‰ç”¨ç¨‹å¼ nodemailer - ç™¼ä¿¡åŠŸèƒ½çš„ä»‹æŽ¥å®‰è£ 1$ npm install nodemailer --save ç¯„ä¾‹ å¯¦ç¾åŸºæœ¬å¯„ä¿¡çš„åŠŸèƒ½ï¼Œæ­¥é©Ÿå¦‚ä¸‹ è¼‰å…¥ Mailæ¨¡çµ„ è¨­å®š SMTP ç›¸é—œè³‡æ–™ æ’°å¯«Mailç›¸é—œå…§å®¹ ç™¼é€éƒµä»¶ ä¸éŽåœ¨å¯¦éš›å¯„ä¿¡çš„éŽç¨‹ï¼Œæœ‰å‡ºç¾éŒ¯èª¤è¨Šæ¯ç‚º self signed certificate in certificate chainï¼Œæ­¤éŒ¯èª¤è¨Šæ¯ï¼Œå°‡åœ¨å¾Œé¢å°ç¯€é¡å¤–èªªæ˜Žã€‚ èµ·æ‰‹å¼1234567891011121314151617181920212223242526272829303132333435363738var express = require('express');var router = express.Router();var nodemailer = require('nodemailer'); // Mailæ¨¡çµ„//è¨­å®š SMTP ç›¸é—œè³‡æ–™var transporter = nodemailer.createTransport(&#123; service: 'Gmail', secureConnection: true, // ä½¿ç”¨SSLæ–¹å¼ï¼ˆå®‰å…¨æ–¹å¼ï¼Œé˜²æ­¢è¢«ç«Šå–ä¿¡æ¯ï¼‰ auth: &#123; user: 'Gmailå¸³è™Ÿ', // generated ethereal user pass: 'Gmailå¯†ç¢¼' // generated ethereal password &#125;, tls: &#123; // ä¸å¾—æª¢æŸ¥æœå‹™å™¨æ‰€ç™¼é€çš„æ†‘è­‰ rejectUnauthorized: false &#125;&#125;);//æ’°å¯«Mailç›¸é—œå…§å®¹var mailOptions = &#123; from: '"çŽ‹åº·å¯¶" &lt;wang.kanboo@gmail.com&gt;', // sender address to: 'wang.kanboo@gmail.com', // list of receivers subject: 'Nodeæ¸¬è©¦å¯„ä¿¡', // Subject line text: 'æ¸¬è©¦å¯„ä¿¡å…§å®¹', // plain text body html: '&lt;p&gt;HTML version of the message&lt;/p&gt;'&#125;;//ç™¼é€éƒµä»¶transporter.sendMail(mailOptions, function (error, info) &#123; if (error) &#123; return console.log(error); &#125; //è½‰å€ res.redirect('/contact/review');&#125;) Nodemailer TLS - å‚³è¼¸å±¤å®‰å…¨æ€§å”å®šåœ¨å¯¦éš›å¯„ä¿¡çš„éŽç¨‹ï¼Œæœ‰å‡ºç¾éŒ¯èª¤è¨Šæ¯ç‚º self signed certificate in certificate chainï¼ŒåŽŸå› ç‚ºGmailç‚ºHTTPSå”å®šï¼Œæœƒç™¼é€çš„ CA ç°½åçš„è­‰æ›¸ï¼Œè€ŒNode.js å®¢æˆ¶æ©Ÿé©—è­‰CA ç°½åçš„è­‰æ›¸ï¼Œæ–¹æ³•æ˜¯æ ¹æ“šCA çš„å…¬ç”¨è­‰æ›¸æª¢æŸ¥CA ç°½åçš„è­‰æ›¸ï¼Œä¸éŽå› ç‚ºæˆ‘å€‘æ²’æœ‰ CA çš„å…¬ç”¨è­‰æ›¸ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€å¢žåŠ ä¸€å€‹åƒæ•¸ rejectUnauthorized ï¼ŒåŽ»å¿½ç•¥æ­¤é©—è­‰çš„å‹•ä½œã€‚ æ–°å¢ž tls çš„ rejectUnauthorized12345678910111213//è¨­å®š SMTP ç›¸é—œè³‡æ–™var transporter = nodemailer.createTransport(&#123; service: 'Gmail', secureConnection: true, // ä½¿ç”¨SSLæ–¹å¼ï¼ˆå®‰å…¨æ–¹å¼ï¼Œé˜²æ­¢è¢«ç«Šå–ä¿¡æ¯ï¼‰ auth: &#123; user: 'Gmailå¸³è™Ÿ', // generated ethereal user pass: 'Gmailå¯†ç¢¼' // generated ethereal password &#125;,+ tls: &#123;+ // ä¸å¾—æª¢æŸ¥æœå‹™å™¨æ‰€ç™¼é€çš„æ†‘è­‰+ rejectUnauthorized: false+ &#125;&#125;); self signed certificate in certificate chain node js? Allow self-signed certificates nodemailer æ–°å¢žé™„ä»¶æ“·å– æ’°å¯«Mailç›¸é—œå…§å®¹ é€™ä¸€éƒ¨ä»½ï¼Œæ–°å¢ž attachments åƒæ•¸ï¼Œä¸¦ä¸”è©²å¦‚ä½•æ­£ç¢ºå–å¾—ä¼ºæœå™¨é›»è…¦ä¸Šçš„é™„ä»¶ã€‚ æ³¨æ„çš„é»žï¼š é™„ä»¶è·¯å¾‘éœ€è¨­å®š å®Œæ•´è·¯å¾‘ å¯é€éŽ process.cwd() å–å¾—ç›®å‰å°ˆæ¡ˆçš„ç›®éŒ„ï¼Œåœ¨å»¶ä¼¸è‡³æ”¾é™„ä»¶çš„è·¯å¾‘ï¼Œå¦‚ï¼špath: process.cwd() + &#39;/public/attach/image.png&#39; å¦å¤–å¯æ–°å¢ž cid çš„å€¼ï¼Œå¯ä¾› éƒµä»¶html æ¸²æŸ“å‡ºé™„ä»¶æª”æ¡ˆã€‚ æ–°å¢žé™„ä»¶12345678910111213141516171819//æ’°å¯«Mailç›¸é—œå…§å®¹var mailOptions = &#123; from: '"çŽ‹åº·å¯¶" &lt;wang.kanboo@gmail.com&gt;', // sender address to: 'wang.kanboo@gmail.com', // list of receivers subject: 'Nodeæ¸¬è©¦å¯„ä¿¡', // Subject line html: req.body.description + '&lt;br/&gt;&lt;br/&gt;' ++ '&lt;img src="cid:image_001"/&gt;' + // å¼•ç”¨attachmentsçš„cid '&lt;br/&gt;' + 'ä¾†è‡ªé›»å­éƒµä»¶ï¼š' + req.body.email, // plain text body+ attachments: [&#123;+ filename: 'text.txt',+ content: 'è»æ•´é¢¨ç¶ æ¥­æ–°ï¼'+ &#125;, &#123;+ filename: 'image.png',+ path: process.cwd() + '/public/attach/image.png', // é™„ä»¶è·¯å¾‘+ cid: 'image_001' //cidå¯è¢«éƒµä»¶ä½¿ç”¨+ &#125;]&#125;; çµæžœ What is the right way to set attachments path in nodeMailer? Nodemailer-Attachments CSURF - é˜»æ“‹è·¨ç«™æ”»æ“Šç‚ºäº†é é˜² è·¨ç«™è«‹æ±‚å½é€  çš„æ”»æ“Šï¼Œæ‰€ä»¥æˆ‘å€‘ä½¿ç”¨ CSURFæ¨¡çµ„ ä¾†å”åŠ©æˆ‘å€‘é©—è­‰æ˜¯å¦ç‚ºæœ¬ä¼ºæœå™¨æ‰€ç™¼å‡ºçš„è«‹æ±‚ï¼Œç°¡å–®ä¾†èªªï¼Œå°±æ˜¯åˆ©ç”¨ å¾Œç«¯session å’Œ å‰ç«¯cookie çš„é…åˆï¼Œé”æˆæ­¤é©—è­‰åŠŸèƒ½ã€‚ å®‰è£ 1$ npm install csurf --save ç¯„ä¾‹ è¼‰å…¥æ¨¡çµ„å¾Œï¼Œå»ºç«‹CSURFé©—è­‰ åœ¨ getã€post ä¹‹å‰ï¼Œéƒ½éœ€æ–°å¢ž middlewares çš„å¡æŽ§åˆ¤æ–·ã€‚ åœ¨å‰ç«¯è¡¨å–®ï¼Œæ–°å¢žä¸€æ®µ åœ¨ csrfTokençš„HTMLï¼Œä¾›é©—è­‰ä½¿ç”¨ã€‚ å¾Œç«¯.js1234567891011121314151617181920212223242526272829var express = require('express');var router = express.Router();var nodemailer = require('nodemailer'); // Mailæ¨¡çµ„var csrf = require('csurf'); // é˜»æ“‹è·¨ç«™æ”»æ“Š(CSURF)// å»ºç«‹ä¸€å€‹cookieä¾›CSURFé©—è­‰ - setup route middlewaresvar csrfProtection = csrf(&#123; cookie: true&#125;);//å‚³å…¥CSURFçš„é©—è­‰router.get('/', csrfProtection, function (req, res) &#123; res.render('contact', &#123; csrfToken: req.csrfToken() //å‚³å…¥csrfTokené©—è­‰è³‡æ–™ &#125;);&#125;);//æŽ¥æ”¶è³‡æ–™æ™‚ï¼Œé©—è­‰csrfTokenæ˜¯å¦æ­£ç¢ºrouter.post('/post', csrfProtection, function (req, res) &#123; /* your code */ res.redirect('/contact/review');&#125;); å‰ç«¯è¡¨å–®ï¼šç´€éŒ„ç”±å¾Œç«¯æä¾›çš„csrfToken123456789101112&lt;form action="/contact/post" method="post"&gt;+ &lt;input type="hidden" name="_csrf" value="&lt;%= csrfToken %&gt;"&gt; &lt;h1&gt;è¯çµ¡æˆ‘å€‘&lt;/h1&gt; &lt;div&gt; &lt;label for="email"&gt;é›»å­éƒµä»¶ï¼š&lt;/label&gt; &lt;input type="text" name="email" id="email"/&gt; &lt;/div&gt; &lt;div&gt; &lt;input type="submit" value="é€å‡º" /&gt; &lt;/div&gt; &lt;/form&gt; CSURF dotenv - ç’°å¢ƒè®Šæ•¸è¨­å®šå¯ä»¥å°‡ä¸€äº›æ¯”è¼ƒæ©Ÿå¯†æ€§çš„è³‡æ–™(å¸³è™Ÿã€å¯†ç¢¼â€¦ç­‰)ï¼Œè¨­ç½®åœ¨ç’°å¢ƒè®Šæ•¸è£¡ï¼Œé€™æ¨£çš„è©±ï¼Œå°±ç®—æˆ‘å€‘å°‡å°ˆæ¡ˆä¸Šå‚³è‡³githubç­‰å…¬å…±ç’°å¢ƒï¼Œä¹Ÿä¸æœƒå°‡é‡è¦çš„è³‡è¨Šæ›éœ²åœ¨å¤–ã€‚ å®‰è£ 1$ npm install dotenv --save ç¯„ä¾‹ åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„æ–°å¢žæª”æ¡ˆ .envï¼Œä¸¦åœ¨å°‡æ©Ÿå¯†è³‡æ–™è¨­å®šæ–¼æ­¤ã€‚ ä¿®æ”¹å¾Œç«¯app.jsï¼Œæ©Ÿå¯†è³‡æ–™ æ”¹å–è‡ª dotenvç’°å¢ƒè®Šæ•¸ã€‚ .envæª”æ¡ˆ12gmailUser = Gmailå¸³è™ŸgmailPass = Gmailå¯†ç¢¼ å¾Œç«¯.js1234567891011121314151617181920var express = require('express');var router = express.Router();var nodemailer = require('nodemailer'); // Mailæ¨¡çµ„var csrf = require('csurf'); // é˜»æ“‹è·¨ç«™æ”»æ“Š(CSURF)+require('dotenv').config(); // ç’°å¢ƒè®Šæ•¸è¨­å®š//è¨­å®š SMTP ç›¸é—œè³‡æ–™var transporter = nodemailer.createTransport(&#123; service: 'Gmail', secureConnection: true, // ä½¿ç”¨SSLæ–¹å¼ï¼ˆå®‰å…¨æ–¹å¼ï¼Œé˜²æ­¢è¢«ç«Šå–ä¿¡æ¯ï¼‰ auth: &#123;+ // å¸³å¯†å–è‡ª dotenvç’°å¢ƒè®Šæ•¸+ user: process.env.gmailUser, // generated ethereal user+ pass: process.env.gmailPass // generated ethereal password &#125;, tls: &#123; // do not fail on invalid certs rejectUnauthorized: false &#125;&#125;); dotenv connect-flash - messageçš„æš«å­˜å™¨ç°¡å–®ä¾†èªªï¼Œflashæ˜¯ä¸€å€‹æš«å­˜å™¨ï¼Œè€Œä¸”æš«å­˜å™¨è£¡é¢çš„å€¼ä½¿ç”¨éŽä¸€æ¬¡å³è¢«æ¸…ç©ºï¼Œé€™æ¨£çš„ç‰¹æ€§å¾ˆæ–¹é¢ç”¨ä¾†åšç¶²ç«™çš„æç¤ºä¿¡æ¯ã€‚ å®‰è£ 1$ npm install connect-flash --save ç¯„ä¾‹ æ³¨æ„ï¼šflashè¦é…åˆsessionä½¿ç”¨ å¾Œç«¯app.js1234567891011121314var express = require('express');var session = require("express-session");var flash = require('connect-flash'); // messageçš„æš«å­˜å™¨var app = express();//ä½¿ç”¨connect-flashå‰ï¼Œéœ€å…ˆè¨­å®šsessionç›¸é—œè¨­å®šï¼Œæ‰èƒ½ä½¿ç”¨app.use(session(&#123; secret: 'iamkanboo', resave: true, saveUninitialized: true&#125;));app.use(flash()); // å•Ÿç”¨ messageçš„æš«å­˜å™¨(sessionè¨­å®šå®Œï¼Œæ‰use) é©—è­‰æ¬„ä½æ˜¯å¦æœ‰å¡«å¯«ï¼Œè‹¥æœ‰å¡æŽ§è¨Šæ¯ï¼Œå‰‡ç´€éŒ„åœ¨ flash å…§ï¼Œä¸¦å‚³å…¥ render ï¼Œä¾›å‰ç«¯æ¸²æŸ“ç•«é¢ã€‚ å¾Œç«¯contact.js1234567891011121314151617181920212223router.get('/', csrfProtection, function (req, res) &#123; res.render('contact', &#123; csrfToken: req.csrfToken(), errors: req.flash('errors') //å‚³å…¥ å¡æŽ§è¨Šæ¯ &#125;);&#125;);router.post('/post', csrfProtection, function (req, res) &#123; //æ¬„ä½å¡æŽ§ if (req.body.username == '') &#123; console.log('usernameæ˜¯ç©ºçš„'); req.flash('errors', 'usernameæ˜¯ç©ºçš„'); // ç´€éŒ„ å¡æŽ§è¨Šæ¯ res.redirect('/contact'); return; &#125; /* your code */ //è½‰å€ res.redirect('/contact/review');&#125;); å‰ç«¯ï¼šé¡¯ç¤ºå¡æŽ§è¨Šæ¯123456789101112131415161718&lt;form action="/contact/post" method="post"&gt; &lt;input type="hidden" name="_csrf" value="&lt;%= csrfToken %&gt;"&gt;+ &lt;%= errors %&gt; &lt;h1&gt;è¯çµ¡æˆ‘å€‘&lt;/h1&gt; &lt;div&gt; &lt;label for="username"&gt;å§“ åï¼š&lt;/label&gt; &lt;input type="text" name="username" id="username"/&gt; &lt;/div&gt; &lt;div&gt; &lt;label for="email"&gt;é›»å­éƒµä»¶ï¼š&lt;/label&gt; &lt;input type="text" name="email" id="email"/&gt; &lt;/div&gt; &lt;div&gt; &lt;input type="submit" value="é€å‡ºè¨Šæ¯" /&gt; &lt;/div&gt;&lt;/form&gt; express4.0ä¹‹å¾Œä½¿ç”¨connect-flashæ‡‰è©²æ³¨æ„çš„å•é¡Œ åƒè€ƒä¾†æºNodeJS å‰å¾Œç«¯é–‹ç™¼å¯¦æˆ°å…­è§’å­¸é™¢]]></content>
      <categories>
        <category>NodeJS</category>
      </categories>
      <tags>
        <tag>NodeJS</tag>
        <tag>Nodemailer</tag>
        <tag>mail</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NodeJS-Cookieã€Session]]></title>
    <url>%2F2018%2F01%2F02%2FNodeJS-CookieSession%2F</url>
    <content type="text"><![CDATA[ç´€éŒ„Cookieã€Sessionçš„å·®ç•°ï¼Œä»¥åŠå¦‚ä½•æ­é…ä½¿ç”¨ã€‚ COOKIE èˆ‡ SESSION çš„æ¯”è¼ƒèˆ‡å€åˆ¥ Cookie-æ•¸æ“šå­˜æ”¾åœ¨å®¢æˆ¶çš„ç€è¦½å™¨ä¸Š-ç”¨æˆ¶ç«¯çš„é™åˆ¶ç´„4K-ä¸å­˜æ”¾æ©Ÿå¯†è³‡æ–™ï¼Œé¿å…è¢«ä»–äººè§£æžï¼Œæ•…åƒ…å­˜æ”¾ session id Session-æ•¸æ“šæ”¾åœ¨ä¼ºæœå™¨ä¸Š-sessionè³‡æ–™æ˜¯ æš«å­˜ å‰ç«¯ Cookieå¯«å…¥ Cookiedocument.cookie = &quot;myName=tom&quot;; å¯«å…¥ Cookieï¼Œä¸¦åŠ å…¥éŽæœŸæ™‚é–“ï¼Œdocument.cookie=&quot;username=bob; expires=Mon, 04 Dec 2017 08:18:32 GMT; path=/&quot;; GMT æ™‚é–“new Date().toGMTString() å¯«å…¥ Cookieï¼Œè¨­å®š 10 ç§’å¾Œå¤±æ•ˆdocument.cookie=&quot;username=bob; max-age=10; path=/&quot;; å¾Œç«¯ è®€å–Cookieã€å¯«å…¥Cookieå®‰è£èªžæ³• 1$ npm install cookie-parser --save cookie-parser ç¯„ä¾‹ app.jså¼•ç”¨cookie-parseræ¨¡çµ„12345var express = require('express')var cookieParser = require('cookie-parser') // è§£æžcookieæ¨¡çµ„var app = express()app.use(cookieParser()) //è§£æžå‰ç«¯cookie ã€Œè®€å–ã€æ˜¯ç”¨ req(Request) ã€Œå¯«å…¥ã€æ˜¯ç”¨ res(Response) routes/index.js1234567891011121314151617181920212223242526var express = require('express');var router = express.Router();router.get('/', function (req, res, next) &#123; // ã€Œè®€å–ã€æ˜¯ç”¨ req(Request) // è®€å–å‰ç«¯çš„cookies(å…¨éƒ¨) console.log(req.cookies); // è®€å–å‰ç«¯çš„cookies(å–®å€‹) console.log(req.cookies.userName); // ã€Œå¯«å…¥ã€æ˜¯ç”¨ res(Response) // å¾Œç«¯å¯«å…¥å‰ç«¯Cookies res.cookie('name', 'lulu', &#123; maxAge: 10000, // åªå­˜åœ¨nç§’ï¼Œnç§’å¾Œè‡ªå‹•æ¶ˆå¤± httpOnly: true // åƒ…é™å¾Œç«¯å­˜å–ï¼Œç„¡æ³•ä½¿ç”¨å‰ç«¯document.cookieå–å¾— &#125;) res.render('index', &#123;title: 'Express'&#125;);&#125;);module.exports = router; è£œå……ï¼šResponse.cookie(å¯«å…¥) res.cookie(name, value [, options]) åƒæ•¸ï¼š name: è¨­å®šcookieçš„åå­— value: è¨­å®šå…¶å€¼ï¼Œå¯èƒ½æ˜¯å­—ä¸²æˆ–æ˜¯è½‰æˆJSONæ ¼å¼çš„ç‰©ä»¶ã€‚ options: é¸é …åƒæ•¸æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œæ‰€ä»¥ï¼Œå…¶å±¬æ€§æ”¾åœ¨{}è£¡ï¼Œä»¥é€—è™Ÿåˆ†éš”ã€‚ å±¬æ€§ï¼š domain (å­—ä¸²) é©ç”¨æ­¤cookieçš„domain name encode (å‡½å¼) ç”¨æ–¼cookieç·¨ç¢¼çš„åŒæ­¥å‡½å¼ï¼Œé è¨­encodeURIComponent. expires (æ—¥æœŸ) cookieçš„åˆ°æœŸæ—¥ï¼Œè¶…éŽæ­¤æ—¥æœŸï¼Œå³å¤±æ•ˆã€‚ httpOnly (å¸ƒæž—) æ¨™è¨˜æ­¤cookieåªèƒ½å¾žweb server è¨ªå•ï¼Œä»¥é¿å…ä¸æ­£ç¢ºçš„é€²å…¥ä¾†å–å¾—ç«„æ”¹ã€‚ maxAge (æ•¸å­—) è¨­å®šæ­¤cookieçš„ç”Ÿå­˜æ™‚é–“(æ¯«ç§’ç‚ºå–®ä½)ï¼Œæ¯”æ–¹60000(10åˆ†é˜å¾Œåˆ°æœŸï¼Œå¿…é ˆé‡æ–°è¨ªå•) path (å­—ä¸²) é©ç”¨æ­¤cookieçš„è·¯å¾‘ï¼Œé è¨­ï¼š â€œ/â€. secure (å¸ƒæž—) è¨­å®šæ­¤cookieæ˜¯å¦åªåœ¨httpsä½¿ç”¨ã€‚ signed (å¸ƒæž—) æ­¤cookieæ˜¯å¦è¦è¨­ç°½ç« ã€‚(å¦‚æžœæ˜¯trueï¼Œå¿…é ˆä½¿ç”¨cookie-parserè¨­å®šç°½ç«  ) å®˜æ–¹-req.cookies(è®€å–)å®˜æ–¹-res.cookie(å¯«å…¥)Cookieåœ¨expressä¸Šçš„æ‡‰ç”¨ å¾Œç«¯ session å„²å­˜åœ¨ä¼ºæœå™¨çš„æš«å­˜è³‡æ–™ï¼Œæ­¤æš«å­˜å¯æ”¾åœ¨è¨˜æ†¶é«”æˆ–è³‡æ–™åº«ä¸Š sessionå¯åœ¨cookieä¸Šå„²å­˜ä¸€ç­†è¾¨è­˜ä½ æ˜¯èª°çš„ session id å®‰è£èªžæ³• 1$ npm install express-session --save express-session session å¸¸ç”¨åƒæ•¸ nameï¼šè¨­ç½®cookieä¸­ï¼Œä¿å­˜sessionçš„å­—æ®µåç¨±ã€‚(é è¨­ï¼šconnect.sid) storeï¼š session çš„å­˜å„²æ–¹å¼ã€‚(é è¨­ï¼šå­˜æ”¾åœ¨å…§å­˜(è¨˜æ†¶é«”)ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨redisï¼Œmongodb ç­‰) secret(å¿…è¦é¸é …)ï¼š é€šéŽè¨­ç½®çš„ secret å­—ç¬¦ä¸²ï¼Œä¾†è¨ˆç®—hashå€¼ä¸¦æ”¾åœ¨cookie ä¸­ï¼Œä½¿ç”¢ç”Ÿçš„ signedCookie é˜²ç¯¡æ”¹ã€‚ genidï¼šç”¢ç”Ÿä¸€å€‹æ–°çš„ session_id æ™‚ï¼Œæ‰€ä½¿ç”¨çš„å‡½æ•¸ã€‚(é è¨­ï¼šä½¿ç”¨uid2é€™å€‹npmåŒ…) rollingï¼š æ¯å€‹è«‹æ±‚éƒ½é‡æ–°è¨­ç½®ä¸€å€‹cookieã€‚(é è¨­ï¼šfalse) resaveï¼š å³ä½¿ session æ²’æœ‰è¢«ä¿®æ”¹ï¼Œä¹Ÿä¿å­˜session å€¼ã€‚(é è¨­ï¼štrue) saveUninitializedï¼šå¼·åˆ¶å°‡æœªåˆå§‹åŒ–çš„sessionå­˜å›ž session storeï¼Œæœªåˆå§‹åŒ–çš„æ„æ€æ˜¯å®ƒæ˜¯æ–°çš„è€Œä¸”æœªè¢«ä¿®æ”¹ã€‚(é è¨­ï¼štrue) cookieï¼š è¨­ç½®å­˜æ”¾ session id çš„ cookie çš„ç›¸é—œé¸é …ã€‚ httpOnlyï¼šç‚ºè¨­ç½®trueæ™‚ï¼Œå°‡ä¸å…è¨±çš„ JavaScript é€šéŽ document.cookie è¨ªå•å–å¾—è³‡æ–™ã€‚ maxAgeï¼š numberï¼ˆæ¯«ç§’ï¼‰ï¼Œç”¨æ–¼æŒ‡å®šSet-Cookieçš„Expireså±¬æ€§ã€‚è¨­ç½®å¾Œï¼ŒCookieå°‡åœ¨æŒ‡å®šæ™‚é–“å¾Œå¤±æ•ˆã€‚ pathï¼š ç”¨æ–¼æŒ‡å®šSet-Cookieçš„Pathå±¬æ€§ã€‚é»˜èªæœƒè¢«è¨­ç½®ç‚ºâ€™/â€˜ï¼Œå³ç•¶å‰åŸŸåçš„æ ¹è·¯å¾‘ã€‚ secureï¼š è¨­ç½®ç‚ºtrueæ™‚ï¼Œä½¿ç”¨éžHTTPSé€£æŽ¥æ™‚ï¼Œç•¶å®¢æˆ¶ç«¯å°‡ä¸æœƒå›žå‚³çš„Cookieã€‚ cookieé è¨­å€¼123456default: &#123; path: '/', httpOnly: true, secure: false, maxAge: null &#125; ç¯„ä¾‹ ç•¶Userç™»å…¥å¾Œï¼Œä¼ºæœå™¨å…ˆæä¾›ä¸€çµ„session idçµ¦ä½ ï¼Œä¸¦ç´€éŒ„åœ¨ å®¢æˆ¶çš„ç€è¦½å™¨çš„cookie app.js1234567891011121314var express = require('express')var session = require('express-session')var app = express()//æä¾›ä¸€çµ„session idapp.use(session(&#123; secret: 'iamkanboo', // resave: true, saveUninitialized: true, cookie:&#123; maxAge: 100*1000 //100ç§’å¾ŒéŽæœŸ &#125;&#125;)) è¡¨å–®é»žæ“Šé€å‡ºå¾Œï¼Œæœƒå°‡Userè³‡æ–™ post è‡³å¾Œç«¯ htmlæž¶æ§‹12345678910111213&lt;body&gt; &lt;!-- é¡¯ç¤ºuserè³‡æ–™ --&gt; &lt;h1&gt;&lt;%= userName %&gt; &lt;%= email %&gt;&lt;/h1&gt; &lt;!-- è¡¨å–®å¡«å¯«å€ --&gt; &lt;form method="post" action="/"&gt; &lt;input type="text" name="username" value=""&gt; &lt;input type="text" name="email" value=""&gt; &lt;input type="submit" value="é€å‡º"&gt; &lt;/form&gt;&lt;/body&gt; å‰ç«¯postè³‡æ–™å¾Œï¼Œæœƒå…ˆå°‡userè³‡æ–™å¯«å…¥ sessionæš«å­˜ï¼Œå†å°‡ç¶²å€å°Žå›žindexï¼Œä¸¦ä¸”å‚³å…¥è³‡æ–™ä¾›æ¸²æŸ“ç•«é¢ã€‚ index.js12345678910111213141516171819202122232425var express = require('express');var router = express.Router();/* GET home page. */router.get('/', function(req, res, next) &#123; //å°‡userè³‡æ–™å‚³å…¥index.ejsä¾›æ¸²æŸ“ç•«é¢ res.render('index', &#123; userName: req.session.username, email: req.session.email &#125;);&#125;);//æŽ¥æ”¶å‰ç«¯å‚³å…¥çš„è³‡æ–™router.post('/',function(req,res)&#123; //å–å¾—å‰ç«¯è³‡æ–™ï¼Œä¸¦å¯«å…¥è‡³å¾Œç«¯sessionæš«å­˜ req.session.username = req.body.username; req.session.email = req.body.email; //è½‰å€è‡³é¦–é  res.redirect('/');&#125;)module.exports = router; session åœ¨ express ä¸Šçš„æ‡‰ç”¨ åƒè€ƒä¾†æºNodeJS å‰å¾Œç«¯é–‹ç™¼å¯¦æˆ°å…­è§’å­¸é™¢]]></content>
      <categories>
        <category>NodeJS</category>
      </categories>
      <tags>
        <tag>NodeJS</tag>
        <tag>Cookie</tag>
        <tag>Session</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NodeJS-Express+Firebase]]></title>
    <url>%2F2018%2F01%2F01%2FNodeJS-Express-Firebase%2F</url>
    <content type="text"><![CDATA[ç´€éŒ„å¦‚ä½•ä½¿ç”¨ express + Firebase è¨­è¨ˆ RESTful API Todoist å–å¾—Firebase Admin SDK é–‹å•Ÿ å°ˆæ¡ˆè¨­å®š â†’ æœå‹™å¸³è™Ÿ è¨­å®šæ–¹æ³• å®‰è£NPM npm install firebase-admin --save è¤‡è£½Admin SDK è¨­å®šç¨‹å¼ç¢¼ç‰‡æ®µï¼Œè²¼è‡³ app.js ä¸‹è¼‰Firebaseé‡‘é‘°(jsonæª”æ¡ˆ)ï¼Œä¸¦ä¿®æ”¹Firebaseé‡‘é‘°è·¯å¾‘ å®Œæˆè¨­å®š onceã€set è®€å–ã€å¯«å…¥é›–ç„¶ä¹‹å‰ä»‹ç´¹firebaseè®€å–çš„æ–¹å¼æœ‰ onceã€on äºŒç¨®ï¼Œä¸éŽåœ¨å¾Œç«¯çš„è©±ï¼Œåªèƒ½ä½¿ç”¨ once æ–¹å¼ï¼Œå› ç‚º on åœ¨å¾Œç«¯ä¸¦ä¸æœƒæœ‰åŒæ­¥æ›´æ–°çš„æ•ˆæžœã€‚ è®€å– once12345var fireData = admin.database(); //å–å¾—Firebaseçš„databasefireData.ref('todos').once('value', function (snapshot) &#123; console.log(snapshot.val());&#125;) å¯«å…¥æ–¹å¼ä¸€æ¨£å¯ä»¥ä½¿ç”¨ setã€push äºŒç¨®ã€‚ å¯«å…¥ setã€push123456789var fireData = admin.database(); //å–å¾—Firebaseçš„database// å¯«æ³•1fireData.ref('todos').set(&#123;title: 'å¾…è¾¦æ¸…å–®'&#125;)// å¯«æ³•2fireData.ref('todos').push(&#123; content: 'è¦åŽ»çœ‹é›»å½±'&#125;) then è¨­è¨ˆæ€ç¶­å°‡è³‡æ–™æ–°å¢žè‡³firebaseå¾Œï¼Œå¯ç”¨ then æŽ¥è‘—æŸ¥çœ‹firebaseçš„è³‡æ–™æ˜¯å¦æœ‰æˆåŠŸæ–°å¢žã€‚ 12345678910var fireData = admin.database(); //å–å¾—Firebaseçš„database//å°‡è³‡æ–™æ–°å¢žè‡³firebaseå¾Œï¼Œå¯ç”¨ then æŽ¥è‘—æŸ¥çœ‹firebaseçš„è³‡æ–™æ˜¯å¦æœ‰æˆåŠŸæ–°å¢žã€‚fireData.ref('todos').push(&#123;content: 'è¦åŽ»çœ‹é›»å½±'&#125;).then(function () &#123; //è®€å–todosï¼ŒæŸ¥çœ‹è³‡æ–™æ˜¯å¦æœ‰å¯«å…¥ï¼Ÿ fireData.ref('todos').once('value', function (snapshot) &#123; console.log(snapshot.val()); &#125;)&#125;) EJS æ•´åˆ Firebaseç”¨ todolist ç‚ºä¾‹ï¼Œèªªæ˜Žå¦‚ä½•å°‡firebaseä¸Šçš„å¾…è¾¦äº‹é …èˆ‡å¾Œç«¯æ•´åˆï¼Œä¸¦å‘ˆç¾æ–¼ç¶²é ä¸Šã€‚ ç¯„ä¾‹ firebaseè³‡æ–™ å–å¾—Firebaseçš„todosè³‡æ–™ï¼Œä¸¦å°‡è³‡æ–™å‚³å…¥indexã€‚ res.render è¦æ”¾é€² firebase functionè£¡é¢ï¼Œå› ç‚ºæ˜¯ç”¨AJAXå–å¾—è³‡æ–™ï¼Œæ‰€ä»¥è¦ç¢ºä¿å–å¾—è³‡æ–™å¾Œï¼Œæ‰é€²è¡Œå‚³éžåƒæ•¸çš„å‹•ä½œã€‚ app.js1234567891011121314var fireData = admin.database(); //å–å¾—Firebaseçš„database//è·¯ç”±app.get('/', function (req, res) &#123; fireData.ref('todos').once('value', function (snapshot) &#123; // console.log(snapshot.val()); var data = snapshot.val(); //render è¦æ”¾é€²firebase functionè£¡é¢ï¼Œå› ç‚ºæ˜¯ç”¨AJAXå–å¾—è³‡æ–™ï¼Œæ‰€ä»¥è¦ç¢ºä¿å–å¾—è³‡æ–™å¾Œï¼Œæ‰é€²è¡Œå‚³éžåƒæ•¸çš„å‹•ä½œã€‚ res.render('index', &#123; "todolist": data &#125;); &#125;)&#125;) å–å¾—å‚³å…¥çš„è³‡æ–™ todolistï¼Œä½¿ç”¨ejsçš„forloopå¯«æ³•ï¼Œå°‡è³‡æ–™æ¸²æŸ“æˆHTMLã€‚ index.ejs12345678910111213&lt;h1&gt;å¾…è¾¦æ¸…å–®&lt;/h1&gt;&lt;input type="text" id="content" value=""&gt;&lt;input type="submit" id="send" value="é€å‡º"&gt;&lt;ul id="list"&gt; &lt;!-- forloopå¯«æ³• --&gt; &lt;% for(item in todolist)&#123; %&gt; &lt;li&gt; &lt;%- todolist[item].content %&gt; &lt;input type="button" data-id="&lt;%- item %&gt;" name="" value="åˆªé™¤"&gt; &lt;/li&gt; &lt;% &#125; %&gt;&lt;/ul&gt; æ–°å¢žè³‡æ–™APIå‰ç«¯ç•«é¢è¼¸å…¥ å¾…è¾¦äº‹é … å¾Œï¼Œé»žæ“Š é€å‡º æŒ‰éˆ•ï¼Œæ­¤æ™‚æœƒå°‡è³‡æ–™ post çµ¦ addTodo è·¯ç”±ï¼Œå¾Œç«¯è™•ç†å®Œå¾Œï¼Œå†å°‡çµæžœå‚³é€çµ¦å‰ç«¯æ›´æ–°ç•«é¢ã€‚ ç¯„ä¾‹ å¾Œç«¯app.js1234567891011121314151617181920var fireData = admin.database(); //å–å¾—Firebaseçš„database// æ–°å¢žé‚è¼¯app.post('/addTodo', function (req, res) &#123; var content = req.body.content; // å–å¾—å‰ç«¯çš„contentæ¬„ä½è³‡æ–™ var contentRef = fireData.ref('todos').push(); //å…ˆè¨­å®šå¯«å…¥çš„æ–¹æ³•ç‚ºpush // ç•¶è³‡æ–™å¯«å…¥æˆåŠŸå¾Œï¼Œä¸¦ä½¿ç”¨ then å›žå‚³è³‡æ–™ï¼Œé€è‡³å‰ç«¯æ¸²æŸ“ç•«é¢ contentRef.set(&#123;"content": content&#125;).then(function () &#123; fireData.ref('todos').once('value', function (snapshot) &#123; // console.log(snapshot.val()); res.send(&#123; "succes": true, "result": snapshot.val(), //todosçš„è³‡æ–™ "message": "è³‡æ–™æ–°å¢žæˆåŠŸ" &#125;); &#125;) &#125;)&#125;) å®˜æ–¹ï¼šå…ˆè¨­å®špushçš„å¯«æ³• HTMLæž¶æ§‹1234567891011121314151617&lt;body&gt; &lt;h1&gt;å¾…è¾¦æ¸…å–®&lt;/h1&gt; &lt;input type="text" id="content" value=""&gt; &lt;input type="submit" id="send" value="é€å‡º"&gt; &lt;ul id="list"&gt; &lt;!-- forloopå¯«æ³• --&gt; &lt;% for(item in todolist)&#123; %&gt; &lt;li&gt; &lt;%- todolist[item].content %&gt; &lt;input type="button" data-id="&lt;%- item %&gt;" name="" value="åˆªé™¤"&gt; &lt;/li&gt; &lt;% &#125; %&gt; &lt;/ul&gt; &lt;script src="/js/all.js"&gt;&lt;/script&gt;&lt;/body&gt; å‰ç«¯all.js123456789101112131415161718192021222324252627282930313233343536373839404142434445var send = document.querySelector('#send');var content = document.querySelector('#content');var list = document.querySelector('#list');//æ–°å¢žAPIsend.addEventListener('click', function (e) &#123; e.preventDefault(); var xhr = new XMLHttpRequest(); xhr.open('post', '/addTodo'); // æ–°å¢žè³‡æ–™API xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8'); //å–å¾—è¼¸å…¥ å¾…è¾¦äº‹é … var str = content.value; content.value = ""; var todo = JSON.stringify(&#123;"content": str&#125;); // è½‰æ›æˆå­—ä¸² xhr.send(todo); //AJAXå›žå‚³å¾Œçš„çµæžœ xhr.onload = function () &#123; var originData = JSON.parse(xhr.responseText); // console.log(originData); //é‡è¼‰todoList reloadList(originData); &#125;&#125;)//Reload todoListfunction reloadList(originData) &#123; if (originData.success === false) &#123; alert(originData.message); return; &#125; var data = originData.result; var str = ''; for (item in data) &#123; str += '&lt;li&gt;' + data[item].content + '&lt;input type="button" data-id="' + item + '" name="" value="åˆªé™¤"&gt;' + '&lt;/li&gt;' &#125; list.innerHTML = str;&#125; åˆªé™¤è³‡æ–™APIå‰ç«¯é»žæ“Š åˆªé™¤ æŒ‰éˆ•ï¼Œæ­¤æ™‚æœƒå°‡åˆªé™¤æŒ‰éˆ•çš„ data-id è³‡æ–™ post çµ¦ removeTodo è·¯ç”±ï¼Œå¾Œç«¯è™•ç†å®Œå¾Œï¼Œå†å°‡çµæžœå‚³é€çµ¦å‰ç«¯æ›´æ–°ç•«é¢ã€‚ ç¯„ä¾‹ å¾Œç«¯app.js12345678910111213141516// åˆªé™¤é‚è¼¯app.post("/removeTodo", function (req, res) &#123; var _id = req.body.id; // å–å¾—åˆªé™¤æŒ‰éˆ•çš„ data-id //åˆªé™¤todosçš„è³‡æ–™æˆåŠŸå¾Œï¼Œä¸¦ä½¿ç”¨ then å›žå‚³è³‡æ–™ï¼Œé€è‡³å‰ç«¯æ¸²æŸ“ç•«é¢ fireData.ref('todos').child(_id).remove().then(function () &#123; fireData.ref('todos').once('value', function (snapshot) &#123; // console.log(snapshot.val()); res.send(&#123; "succes": true, "result": snapshot.val(), "message": "è³‡æ–™åˆªé™¤æˆåŠŸ" &#125;); &#125;) &#125;)&#125;) åœ¨æ¯ä¸€å€‹çš„INPUT(åˆªé™¤æŒ‰éˆ•)ä¸Šï¼Œæ–°å¢ždata-idå±¬æ€§ï¼Œç´€éŒ„firebaseçš„Keyå€¼ã€‚ HTMLæž¶æ§‹1234567891011121314151617&lt;body&gt; &lt;h1&gt;å¾…è¾¦æ¸…å–®&lt;/h1&gt; &lt;input type="text" id="content" value=""&gt; &lt;input type="submit" id="send" value="é€å‡º"&gt; &lt;ul id="list"&gt; &lt;!-- forloopå¯«æ³• --&gt; &lt;% for(item in todolist)&#123; %&gt; &lt;li&gt; &lt;%- todolist[item].content %&gt; &lt;input type="button" data-id="&lt;%- item %&gt;" name="" value="åˆªé™¤"&gt; &lt;/li&gt; &lt;% &#125; %&gt; &lt;/ul&gt; &lt;script src="/js/all.js"&gt;&lt;/script&gt;&lt;/body&gt; ä¸‹ä¾‹ å‰ç«¯all.js ï¼Œæ˜¯é‡å° ul é€²è¡Œç›£è½ï¼Œé€²è€Œåˆ¤æ–·é»žæ“Šçš„å…ƒç´ æ˜¯å¦ç‚ºINPUT(åˆªé™¤æŒ‰éˆ•)ï¼Œé€™æ¨£å°±ä¸ç”¨é‡å° nå€‹çš„åˆªé™¤æŒ‰éˆ• å»ºç«‹ç›£è½äº‹ä»¶ï¼Œä»¥é”åˆ°å„ªåŒ–çš„æ•ˆæžœã€‚ å‰ç«¯all.js12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849var send = document.querySelector('#send');var content = document.querySelector('#content');var list = document.querySelector('#list');//åˆªé™¤APIlist.addEventListener('click', function (e) &#123; //åˆ¤æ–·å…ƒç´ æ˜¯å¦ç‚º INPUT(åˆªé™¤æŒ‰éˆ•) if (e.target.nodeName !== "INPUT") &#123; return; &#125; var xhr = new XMLHttpRequest(); xhr.open('post', '/removeTodo'); // åˆªé™¤API xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8'); //å–å¾—è¼¸å…¥ data-id è³‡æ–™ var id = e.target.dataset.id; var todo = JSON.stringify(&#123;"id": id&#125;); // è½‰æˆå­—ä¸² xhr.send(todo); //AJAXå›žå‚³å¾Œçš„çµæžœ xhr.onload = function () &#123; var originData = JSON.parse(xhr.responseText); // console.log(originData); //é‡è¼‰todoList reloadList(originData); &#125;&#125;)//Reload todoListfunction reloadList(originData) &#123; if (originData.success === false) &#123; alert(originData.message); return; &#125; var data = originData.result; var str = ''; for (item in data) &#123; str += '&lt;li&gt;' + data[item].content + '&lt;input type="button" data-id="' + item + '" name="" value="åˆªé™¤"&gt;' + '&lt;/li&gt;' &#125; list.innerHTML = str;&#125; åƒè€ƒä¾†æºNodeJS å‰å¾Œç«¯é–‹ç™¼å¯¦æˆ°å…­è§’å­¸é™¢]]></content>
      <categories>
        <category>NodeJS</category>
      </categories>
      <tags>
        <tag>NodeJS</tag>
        <tag>Firebase</tag>
        <tag>Express</tag>
        <tag>RESTful</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS-åŸºç¤Žç”¨æ³•]]></title>
    <url>%2F2017%2F12%2F30%2FJS-studynotes%2F</url>
    <content type="text"><![CDATA[Selector - é¸æ“‡å…ƒç´  element = document.querySelector(selectors); element æ˜¯å…ƒç´ ç‰©ä»¶ã€‚ selectors æ˜¯ä»¥é€—è™Ÿåˆ†éš”ï¼ŒåŒ…å«ä¸€å€‹æˆ–å¤šå€‹ CSS é¸æ“‡å™¨çš„å­—ä¸²ã€‚ é¸æ“‡å–®ä¸€å…ƒç´  querySelector12//å›žå‚³ç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„å…ƒç´ var el = document.querySelector('#titleId'); é¸æ“‡å¤šå€‹å…ƒç´  querySelectorAll12//å›žå‚³ç¬¦åˆæ¢ä»¶çš„å…ƒç´ var el = document.querySelectorAll('.titleClass'); Attribute - å¢žåŠ æ¨™ç±¤å±¬æ€§ setAttribute è¨­å®š è¨­å®š æ¨™ç±¤å±¬æ€§12var el = document.querySelector('.titleClass a');el.setAttribute('href','http://www.yahoo.com.tw'); getAttribute å–å¾— å–å¾— æ¨™ç±¤å±¬æ€§12var el3 = document.querySelector('.titleClass a').getAttribute('href');console.log(el3); innerHTML - æ’å…¥HTMLå°‡å…ƒç´ å…§çš„htmlé‡æ–°è¦†è“‹å¯«å…¥æ–°çš„htmlã€‚ æ’å…¥HTML123var el = document.getElementById('main');var str = '&lt;h1 class="blue"&gt;1234&lt;/h1&gt;'el.innerHTML = str; createElement - æ’å…¥domå…ƒç´ å»ºç«‹ä¸€å€‹æ–°çš„DOMå…ƒç´ ï¼Œç„¶å¾Œå†ä½¿ç”¨ appendChild æ–°å¢žå­ç¯€é»žï¼Œä¸¦ä¸æœƒè¦†è“‹åŽŸæœ‰çš„DOMå…ƒç´ ã€‚ æ–°å¢ždomå…ƒç´ 1234567891011121314&lt;h1 class="title"&gt; &lt;em&gt;titile&lt;/em&gt;&lt;/h1&gt;&lt;script &gt; // å»ºç«‹å…ƒç´  var sonElement = document.createElement("a"); sonElement.setAttribute('href','www.facebook.com'); sonElement.textContent = 'å‰å¾€Facebook'; // å¢žåŠ å­ç¯€é»ž var fatherElement = document.querySelector('.title'); fatherElement.appendChild(sonElement);&lt;/script&gt; æ›´æ–°å¾Œçµæžœ1234&lt;h1 class="title"&gt; &lt;em&gt;titile&lt;/em&gt;+ &lt;a href="www.facebook.com"&gt;å‰å¾€Facebook&lt;/a&gt;&lt;/h1&gt; ä½¿ç”¨ appendChild è¦æ³¨æ„çš„å°ç´°ç¯€ï¼šè¦ç•™æ„çš„æ˜¯ å¦‚æžœ appendChild ä½¿ç”¨æ™‚ï¼Œappend ä¸ŠåŽ»çš„æ˜¯ä¸€å€‹å·²å­˜åœ¨çš„ node æ™‚ï¼Œå®ƒæœƒåšçš„æ˜¯æ¬ç§»ï¼Œè€Œéžè¤‡è£½ï¼Œæ‰€ä»¥ appendChild ä½¿ç”¨æ™‚è¦è¤‡è£½è€Œéžæ¬ç§»ï¼Œè¨˜å¾—å…ˆä½¿ç”¨ Node.cloneNode() é€™å€‹æ–¹æ³•è¤‡è£½ Node Elementã€‚åƒè€ƒï¼šPJ - Node Element åœ¨ appendChild å¾Œæ¶ˆå¤±ï¼ˆdisappearï¼‰!? addEventListener - äº‹ä»¶æ°£æ³¡ã€äº‹ä»¶æ•æ‰åŸºæœ¬èªžæ³• element.addEventListener(event, function, useCapture) ç¬¬ä¸‰å€‹åƒæ•¸ï¼šå¯çœç•¥ï¼Œé è¨­ç‚º falseã€‚ ç¯„ä¾‹ å¯è©¦è©¦å°‡ç¬¬ä¸‰å€‹åƒæ•¸åˆ†åˆ¥æ”¹æˆ true ã€ falseï¼Œå„åŸ·è¡Œä¸€æ¬¡ï¼Œæœƒæœ‰ä»€éº¼ä¸ä¸€æ¨£çš„çµæžœã€‚ html123&lt;div class="warp"&gt; &lt;div class="box"&gt;&lt;/div&gt;&lt;/div&gt; é è¨­ï¼šäº‹ä»¶æ°£æ³¡-å¾žæŒ‡å®šå…ƒç´ å¾€å¤–æ‰¾12345678910111213var el = document.querySelector('.box');el.addEventListener('click',function()&#123; alert('box'); console.log('box');&#125;,false);var elBody = document.querySelector('.body');elBody.addEventListener('click',function()&#123; alert('body'); console.log('body');&#125;,false);// false (äº‹ä»¶æ°£æ³¡ - event Bubbling) - å¾žæŒ‡å®šå…ƒç´ å¾€å¤–æ‰¾// true (äº‹ä»¶æ•æ‰ - event capturing) - å¾žæœ€å¤–é¢æ‰¾åˆ°æŒ‡å®šå…ƒç´  See the Pen addEventListener - äº‹ä»¶æ°£æ³¡ã€äº‹ä»¶æ•æ‰ by Kanboo (@Kanboo) on CodePen. stopPropagation - ä¸­æ­¢å†’æ³¡è¡Œç‚ºä¾ä¸Šä¾‹ addEventListener-äº‹ä»¶æ°£æ³¡ å› ç´ ï¼Œæœ‰æ™‚åªæ˜¯æƒ³å–®ç´”é‡å°å–®ä¸€å…ƒç´ ç›£è½ï¼Œä¸æƒ³å› ç‚ºäº‹ä»¶å†’æ³¡çš„è¡Œç‚ºï¼Œè€ŒåŽ»è§¸ç™¼åˆ°å…¶ä»–å…ƒç´ ï¼Œé€™æ™‚å°±å¯åˆ©ç”¨ stopPropagation ä¾†é”æˆæ­¤éœ€æ±‚ã€‚ 123456var el = document.querySelector('.box');el.addEventListener('click',function(e)&#123;+ e.stopPropagation(); // ä¸­æ­¢å†’æ³¡è¡Œç‚º alert('box'); console.log('box');&#125;,false); äº‹ä»¶ç›£è½å„ªåŒ– &amp; e.targetæœ‰æ™‚å­å…ƒç´ å¯èƒ½è¦ä¸Šåƒå€‹ï¼Œæ¯å€‹éƒ½è¦ç¶ä¸Šç›£è½çš„è©±ï¼Œæ•ˆèƒ½ä¸æ˜¯å¾ˆå„ªï¼Œé€™æ™‚å¯å¾žçˆ¶ç¯€é»žä¸‹æ‰‹ï¼Œä½¿ç”¨ e.target.nodeName åˆ¤æ–·æ˜¯å¦ç‚º æƒ³ç›£è½çš„å­å…ƒç´ ï¼Œè‹¥æ˜¯ç‚ºæƒ³ç›£è½çš„å­å…ƒç´ ï¼Œå¯å†ç”¨ e.target.value æˆ–æ˜¯ e.target.textContent å–å¾— å€¼ã€‚ e.target.nodeName å–å¾—é»žæ“Šå…ƒç´ çš„æ¨™ç±¤åç¨±ï¼Œå¦‚ï¼šULã€LIã€INPUTâ€¦ e.target.value å–å¾—é¸å–å…ƒç´ çš„å€¼ ç¯„ä¾‹ ç•¶æœ‰ä¸€å€‹ ul åº•ä¸‹æœ‰å¤šå€‹ li éƒ½è¦ç›£è½çš„è©±ï¼Œé€™æ™‚æˆ‘å€‘å¯ä»¥åˆ©ç”¨ addEventListener-äº‹ä»¶æ°£æ³¡ çš„åŽŸç†ï¼Œåªè¦é‡å° ul ç›£è½ï¼Œè®“ä»–å¾€ä¸Šå†’æ³¡ï¼Œç•¶åˆ°é” li æ™‚ï¼Œé€™æ™‚æˆ‘å€‘å°±å¯ä»¥é‡å° li åšäº‹äº†ã€‚ åŽŸå§‹å¯«æ³•1234567891011//å–å¾—ulåº•ä¸‹çš„æ‰€æœ‰liå…ƒç´ var list = document.querySelectorAll('.list li');//forloopï¼Œå°‡æ¯å€‹liå…ƒç´ ç¶ä¸Šç›£è½äº‹ä»¶(Næ¬¡)var len = list.length;for(var i = 0;len&gt;i;i++)&#123; list[i].addEventListener('click',checkName,false)&#125;function checkName(e)&#123; console.log(e.target.textContent);&#125; å„ªåŒ–å¯«æ³•123456789//å–å¾—ulå…ƒç´ var list = document.querySelector('.list');//å°‡ulå…ƒç´ ç¶ä¸Šç›£äº‹ä»¶(ä¸€æ¬¡)list.addEventListener('click',checkName,false)function checkName(e)&#123; if(e.target.nodeName !== 'LI')&#123;return&#125;; // åˆ¤æ–·æ˜¯å¦ç‚ºliå…ƒç´  console.log(e.target.textContent);&#125; preventDefault - å–æ¶ˆé è¨­è§¸ç™¼è¡Œç‚ºæ¯”è¼ƒå¸¸ç”¨åœ¨ aé€£çµçš„hrefã€Formè¡¨å–®çš„submit ä¸Šï¼Œæœ‰æ™‚å¯èƒ½åªæ˜¯æƒ³è§¸ç™¼å‘¼å«Functionï¼Œè€Œä¸æƒ³ä½¿ç”¨åˆ°åŽŸç”Ÿé™„èˆ‡çš„åŠŸèƒ½çš„è©±ï¼Œå°±å¯åˆ©ç”¨ preventDefault é”æˆæ­¤éœ€æ±‚ã€‚ å–æ¶ˆé è¨­è§¸ç™¼è¡Œç‚º123456var list = document.querySelector('a');list.addEventListener('click',function(e)&#123; e.preventDefault(); //å–æ¶ˆé è¨­è§¸ç™¼è¡Œç‚º /* æ’°å¯«ä½ çš„Code */&#125;) localStorage - ç ç€å™¨è³‡æ–™å„²å­˜åŸºæœ¬èªžæ³• å„²å­˜1localStorage.setItem('countryItem',countryString); è®€å–1localStorage.getItem('countryItem'); ç¯„ä¾‹ localstorage åªèƒ½ä¿å­˜ string è³‡æ–™ï¼Œæ‰€ä»¥ç•¶è³‡æ–™éžå­—ä¸²åž‹æ…‹çš„è©±ï¼Œè¨˜å¾—è½‰ç‚ºå­—ä¸²stringã€‚ JSON.stringify() å°‡ array è½‰ç‚º stringJSON.parse() å°‡ string è½‰ç‚º array 1234567891011121314var country = [ &#123;farmer:'çŽ‹è¾²å¤«'&#125;];//å„²å­˜var countryString= JSON.stringify(country); // è½‰å­—ä¸²console.log(countryString);localStorage.setItem('countryItem',countryString);//è®€å–var getData = localStorage.getItem('countryItem');var getDataAry = JSON.parse(getData); // è½‰arrayconsole.log(getDataAry[0].farmer); è£œå……å°çŸ¥è­˜var data = listData;var data2 = listData || []; //(å»ºè­°å¯«æ³•)console.log(â€˜æ²’æœ‰ []â€™, data); // æœ‰å¯èƒ½å–å¾—è³‡æ–™æˆ– undefinedconsole.log(â€˜åŠ ä¸Š []â€™, data2); // æœ‰å¯èƒ½ data-* - é€éŽ dataset è®€å–è‡ªè¨‚è³‡æ–™ åå­—çµ•å°ä¸èƒ½ä»¥ xml èµ·é ­ï¼Œç„¡è«–æ˜¯å¦ç”¨æ–¼ xmlã€ åå­—çµ•å°ä¸èƒ½åŒ…å«åˆ†è™Ÿï¼ˆU+003Aï¼‰ã€ åå­—çµ•å°ä¸èƒ½åŒ…å«å¤§å¯« A åˆ°å¤§å° Z çš„æ‹‰ä¸å­—æ¯ã€‚ å¯é€éŽ HTMLElement.dataset.testValue æˆ– HTMLElement.dataset[â€œtestValueâ€] è¨ªå• 1234567891011121314&lt;div id="user" data-id="1234567890" data-user="johndoe" data-date-of-birth&gt;John Doe&lt;/div&gt;let el = document.querySelector('#user');// el.id == 'user'// el.dataset.id === '1234567890'// el.dataset.user === 'johndoe'// el.dataset.dateOfBirth === ''el.dataset.dateOfBirth = '1960-10-03'; // set the DOB.// 'someDataAttr' in el.dataset === falseel.dataset.someDataAttr = 'mydata';// 'someDataAttr' in el.dataset === true AjAXå±¬æ€§ readyState: ï¼ï¼šå°šæœªè®€å– ï¼‘ï¼šè®€å–ä¸­ ï¼’ï¼šå·²ä¸‹è¼‰å®Œç•¢ ï¼“ï¼šè³‡è¨Šäº¤æ›ä¸­ ï¼”ï¼šè™•ç†å®Œç•¢ Status:å³HTTPå”å®šçš„ç‹€æ…‹ç¢¼ ç•¶ readyState == 4ï¼Œä»£è¡¨æœ‰åŸ·è¡Œå®Œæˆï¼Œä½†ä¸ä¸€å®šæ˜¯æœ‰æ­£ç¢ºæ’ˆåˆ°è³‡æ–™ï¼Œè¦é…åˆHTTP status == 200ï¼Œæ‰ä»£è¡¨æ˜¯æ­£ç¢ºæ’ˆåˆ°è³‡æ–™ã€‚ ç¯„ä¾‹ åˆ©ç”¨AJAXå‚³é€(POST)å¸³è™Ÿã€å¯†ç¢¼è³‡æ–™è‡³å¾Œç«¯è¨»å†Šæœƒå“¡å¸³è™Ÿã€‚ POSTè³‡æ–™123456789101112131415161718192021222324252627282930313233343536373839var send = document.querySelector('.send');send.addEventListener('click',signup,false);function signup()&#123; var emailStr = document.querySelector('.account').value; var passwordStr = document.querySelector('.password').value; //è³‡æ–™ä¸Ÿåˆ°ç‰©ä»¶ var account = &#123;&#125;; account.email = emailStr; account.password = passwordStr; var xhr = new XMLHttpRequest(); xhr.open('post','https://hexschool-tutorial.herokuapp.com/api/signup',true); xhr.setRequestHeader('Content-type','application/json'); //å®£å‘Šjsonæ ¼å¼ var data = JSON.stringify(account); //è½‰æˆå­—ä¸² xhr.send(data); // é€å‡º //ajaxå®Œæˆå¾Œï¼ŒåŸ·è¡Œæ­¤event xhr.onload = function()&#123; if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) &#123; // è¬äº‹å…·å‚™ var callbackData = JSON.parse(xhr.responseText); //æŽ¥æ”¶å›žå‚³å¾Œè³‡æ–™ console.log(callbackData); var veriStr = callbackData.message; if(veriStr =="å¸³è™Ÿè¨»å†ŠæˆåŠŸ")&#123; alert('å¸³è™Ÿè¨»å†ŠæˆåŠŸï¼ï¼'); &#125;else&#123; alert("å¸³è™Ÿè¨»å†Šå¤±æ•—ï¼"); &#125; &#125; else &#123; // ä¼¼ä¹Žæœ‰é»žå•é¡Œã€‚ // æˆ–è¨±ä¼ºæœå™¨å‚³å›žäº† 404ï¼ˆæŸ¥ç„¡æ­¤é ï¼‰ // æˆ–è€… 500ï¼ˆå…§éƒ¨éŒ¯èª¤ï¼‰ä»€éº¼çš„ã€‚ alert ("ä¼ºæœå™¨è™•ç†éŒ¯èª¤"); &#125; &#125;&#125; ajaxå›žå‚³çš„æ ¼å¼12345&#123; "success": true, "result": &#123;'çµæžœ'&#125;, "message": "ç™»å…¥æˆåŠŸ"&#125; Asynchronous JavaScript And XML]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NodeJS-Express]]></title>
    <url>%2F2017%2F12%2F27%2FNodeJS-Express%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬èªžæ³•ä¸‹åˆ—èªžæ³•ç‚º express çš„èµ·æ‰‹å¼ï¼Œå¾Œé¢æœƒæ…¢æ…¢æ–°å¢žåŠŸèƒ½ã€‚ å¾Œç«¯app.js123456789101112131415161718192021var express = require('express'); //å¼•ç”¨expressæ¨¡çµ„var app = express();/* app.getåƒæ•¸èªªæ˜Ž req æ˜¯ Request ç‰©ä»¶ï¼Œå­˜æ”¾é€™æ­¤è«‹æ±‚çš„æ‰€æœ‰è³‡è¨Šres æ˜¯ Response ç‰©ä»¶ï¼Œç”¨ä¾†å›žæ‡‰è©²è«‹æ±‚*/// è·¯ç”± routeapp.get('/',function(req,res)&#123; // res.send('1234'); res.send('&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;hi!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;')&#125;)// ç›£è½ portvar port = process.env.PORT || 3000;app.listen(port); //åŸ·è¡Œ node app.js//ç¶²é é€£çµ http://127.0.0.1:3000/ params - å–å¾—æŒ‡å®šè·¯å¾‘é€éŽ :name é€™å€‹è®Šæ•¸ï¼Œå†é…åˆ req.params æ­é…ä½¿ç”¨ï¼Œå¯å–å¾—è·¯ç”±çš„å€¼ã€‚ PSï¼šè¨­å®šç‚ºè®Šæ•¸çš„é‡é»žç‚ºå‰é¢åŠ å€‹å†’è™Ÿã€‚ å¾Œç«¯app.js1234567891011121314//http://127.0.0.1:3000/user/kanbooapp.get('/user/:name', function (req, res) &#123; console.log(req.params); var myName = req.params.name; console.log(myName); if ( myName !== 'kanboo')&#123; res.send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;'+'æŸ¥ç„¡æ­¤äºº'+'&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;'); &#125;else&#123; res.send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;'+myName+'&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;'); &#125;&#125;) ä¸‹åˆ—ç¯„ä¾‹ç‚ºå¯è¨­å¤šå€‹è®Šæ•¸(:nameã€:data)ï¼Œå–å¾—è·¯ç”±çš„å€¼ã€‚ å¾Œç«¯app.js12345678910//http://127.0.0.1:3000/user/kanboo/abcdapp.get('/user/:name/:data', function (req, res) &#123; console.log(req.params); var myName = req.params.name; // kanboo var myData = req.params.data; // abcd console.log(myName,myData); res.send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;' + myName + '&lt;br&gt;' + myData + '&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;');&#125;) query - å–å¾—ç¶²å€åƒæ•¸ä»¥ http://127.0.0.1:3000/user/kanboo?limit=100&amp;q=å¼µæƒ å¦¹ é€™æ®µç¶²å€ç‚ºä¾‹ï¼Œæˆ‘è¦ç”¨å¾ž?(å•è™Ÿ)åˆ‡é–‹ï¼Œå‰æ®µç¶²å€ï¼šhttp://127.0.0.1:3000/user/kanbooå¾Œæ®µç¶²å€ï¼šlimit=100&amp;q=å¼µæƒ å¦¹ è¦å–å¾—å‰æ®µç¶²å€çš„è³‡æ–™å¯ç”¨ params ï¼Œè‹¥è¦å–å¾Œæ®µç¶²å€çš„è³‡æ–™å°±è¦ç”¨ queryã€‚ ä¸‹åˆ—ç¤ºç¯„åˆ©ç”¨ req.query å–å¾— å¾Œæ®µ ç¶²å€çš„åƒæ•¸ å¾Œç«¯app.js12345678910111213141516171819202122//ç¶²å€ï¼šhttp://127.0.0.1:3000/user/kanboo?limit=100&amp;q=å¼µæƒ å¦¹app.get('/user/:name', function (req, res) &#123; console.log(req.params); console.log(req.query); var myName = req.params.name; var limit = req.query.limit; // limit = 100 var q = req.query.q; //q = å¼µæƒ å¦¹ console.log(myName); console.log(limit); console.log(q); res.send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;' + 'myName:' + myName + '&lt;br&gt;' + 'æœå°‹:' + q + '&lt;br&gt;' + 'ç­†æ•¸ï¼š' + limit + '&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;');&#125;)//http://127.0.0.1:3000/user/kanboo?limit=100&amp;q=å¼µæƒ å¦¹ Middleware - ä¸­ä»‹å±¤ç°¡å–®ä¾†èªªï¼ŒMiddlewareçš„åŠŸèƒ½å°±æœ‰é»žåƒå¡æŽ§æ©Ÿåˆ¶ï¼Œä¾‹å¦‚ï¼šæˆ‘è¦é€²åŽ»æœƒå“¡é é¢æ™‚ï¼ŒMiddlewareå¯ä»¥å¹«æˆ‘å…ˆç¢ºèªæ˜¯å¦å·²ç™»å…¥ï¼Œå†çœ‹è¦ä¸è¦æ”¾è¡Œï¼Ÿ ç¯„ä¾‹ ç•¶æˆ‘ç¶²å€è¦åˆ‡æ›è‡³ http://127.0.0.1:3000/user é é¢æ™‚ï¼Œæ­¤æ™‚å¯åˆ©ç”¨ app.use å…ˆç¢ºèªæ˜¯å¦å·²ç™»å…¥ï¼Œå†æ±ºå®šæ˜¯å¦ä½¿ç”¨ next() æ”¾è¡Œï¼Œå¯è®€å–åˆ° app.getã€‚ å¾Œç«¯app.js12345678910111213141516171819202122232425262728293031//ç¶²å€ï¼šhttp://127.0.0.1:3000/user/* app.useåƒæ•¸èªªæ˜Ž req æ˜¯ Request ç‰©ä»¶ï¼Œå­˜æ”¾é€™æ­¤è«‹æ±‚çš„æ‰€æœ‰è³‡è¨Šres æ˜¯ Response ç‰©ä»¶ï¼Œç”¨ä¾†å›žæ‡‰è©²è«‹æ±‚next ç”¨ä¾†æŽ§åˆ¶æµç¨‹ï¼Œæ˜¯å¦å¯ç¹¼çºŒåŸ·è¡Œ*/app.use(function (req, res, next) &#123; //é€™è£¡å¯ä»¥æ’°å¯« é©—è­‰çš„Code var isVerification = true; if (isVerification === true) &#123; console.log('é©—è­‰æˆåŠŸ!!'); next(); &#125;&#125;)/* æ³¨æ„ï¼šä½¿ç”¨ app.use çš„è©±ï¼Œè¦æ”¾åœ¨ app.get çš„å‰é¢ï¼Œå¦å‰‡å°±æ²’æœ‰ä½œç”¨ï¼*/app.get('/user', function (req, res) &#123; res.send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;' + 'user' + '&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;');&#125;)//http://127.0.0.1:3000/user æ³¨æ„ï¼šä½¿ç”¨ app.use çš„è©±ï¼Œè¦æ”¾åœ¨ app.get çš„å‰é¢ï¼Œå¦å‰‡å°±æ²’æœ‰ä½œç”¨ï¼ Middleware - 404é é¢å‡è¨­useré–‹åˆ°ä¸€å€‹éŒ¯èª¤çš„ç¶²å€ http://127.0.0.1:3000/alskdjlasdjfï¼Œè€Œæ ¹æœ¬ç„¡æ­¤ç¶²é çš„è©±ï¼Œé€™æ™‚æœƒå®¢åˆ¶ä¸€å€‹404é é¢å›žæ‡‰çµ¦userçŸ¥é“ç„¡æ­¤ç¶²é ã€‚ ç¯„ä¾‹ åˆ©ç”¨ res.status(404) åˆ¤æ–·ç•¶ç„¡æ­¤é é¢æ™‚ï¼Œå›žæ‡‰ æŠ±æ­‰ï¼Œä½ çš„é é¢æ‰¾ä¸åˆ° çš„è¨Šæ¯çµ¦UserçŸ¥é“ã€‚ å¾Œç«¯app.js123456789// ç¶²å€ï¼šhttp://127.0.0.1:3000/alskdjlasdjf// 404é é¢ app.use(function (req, res, next) &#123; res.status(404).send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;' + 'æŠ±æ­‰ï¼Œä½ çš„é é¢æ‰¾ä¸åˆ°' + '&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;');&#125;)//http://127.0.0.1:3000/alskdjlasdjf Middleware - éŒ¯èª¤é é¢å¦ä¸€ç¨®æƒ…å½¢æ˜¯ç•¶userè¦é€²å…¥æŸå€‹é é¢æ™‚ï¼Œæœ‰å¯èƒ½æ˜¯ç¨‹å¼ç¢¼åŸ·è¡Œæœ‰èª¤ï¼Œé€™æ™‚æˆ‘å€‘å¯ä»¥å…ˆå°‡ç•«é¢åˆ‡æ›è‡³ä¸€å€‹å®¢åˆ¶çš„éŒ¯èª¤é é¢ï¼Œå‘ŠçŸ¥Userå¾…ä¿®å¾©ï¼Œç¨å¾Œå˜—è©¦ã€‚ ç¯„ä¾‹ ç¨‹å¼ç¢¼åŸ·è¡Œ cc() é€™å€‹Functionå‡ºéŒ¯äº†ï¼Œé€™æ™‚åˆ©ç”¨ app.use çš„æ–°åƒæ•¸ err ,æŽ¥æ”¶ç¨‹å¼ç¢¼çš„éŒ¯èª¤è¨Šæ¯ï¼Œä¸¦å›žæ‡‰Userç³»çµ±æœ‰èª¤å¾…ä¿®å¾©ã€‚ å¾Œç«¯app.js12345678910111213141516// éŒ¯èª¤ç¨‹å¼ç¢¼çš„ç‹€æ³app.use(function (req, res, next) &#123; cc(); // åŸ·è¡Œä¸å­˜åœ¨çš„Function next(); // æ”¾äººé€šè¡Œ..&#125;)// éŒ¯èª¤é é¢ app.use(function (err, req, res, next) &#123; console.log(err.stack); res.status(500).send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;' + 'ç¨‹å¼æœ‰äº›å•é¡Œï¼Œè«‹ç¨å¾Œå˜—è©¦ã€‚' + '&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;');&#125;) Middleware - ä¸­ä»‹functionå‘¼å«å‡è¨­æˆ‘å€‘æœ‰å¾ˆå¤šé é¢è¦é€²å…¥æ™‚ï¼Œéƒ½éœ€è¦å…ˆç¢ºèªuseræ˜¯å¦å·²ç™»å…¥ï¼Œæ‰èƒ½é€²å…¥é é¢çš„è©±ï¼Œé€™æ™‚æˆ‘å€‘å¯ä»¥å°‡ ç¢ºèªç™»å…¥ç¨‹å¼ç¢¼(isLogin) åŒ…æˆä¸€å€‹ Functionï¼Œç„¶å¾Œåœ¨ app.get æ’å…¥ isLogin é€²è¡Œç¢ºèªã€‚ ç¯„ä¾‹ ä¸‹åˆ—é‡é»žç‚º isLogin æ’å…¥çš„ä½ç½®ï¼Œapp.get(â€˜/â€˜, isLogin, function (req, res){ ç¨‹å¼ç¢¼ }) å¾Œç«¯app.js12345678910111213141516171819202122232425262728293031323334353637383940var isLogin = function (req, res, next) &#123; //é€™è£¡å¯ä»¥æ’°å¯« é©—è­‰çš„Code var _url = req.url; console.log(_url); console.log(_url !== '/'); if (_url === '/') &#123; console.log('ç™»å…¥æˆåŠŸ!!'); next(); &#125; else &#123; console.log('ç™»å…¥å¤±æ•—!!'); res.send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;' + 'ç™»å…¥å¤±æ•—' + '&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;'); &#125;&#125;// é–‹å•Ÿé é¢å‰ï¼Œå…ˆé©—è­‰ isLogin æ˜¯å¦æˆåŠŸapp.get('/', isLogin, function (req, res) &#123; res.send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;' + 'Hello' + '&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;');&#125;)// é–‹å•Ÿé é¢å‰ï¼Œå…ˆé©—è­‰ isLogin æ˜¯å¦æˆåŠŸapp.get('/user', isLogin, function (req, res) &#123; res.send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;' + 'Hello' + '&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;');&#125;)//http://127.0.0.1:3000///http://127.0.0.1:3000/user static - è¼‰å…¥éœæ…‹æª”æ¡ˆè‹¥æˆ‘å€‘åœ¨é é¢éœ€è¦æä¾›ã€Œåœ–ç‰‡ã€txtæª”â€¦ã€ç­‰æª”æ¡ˆï¼Œå¦‚ä¸‹åˆ—ç¯„ä¾‹éœ€ä½¿ç”¨åˆ° imgåœ–æª”ï¼Œæˆ‘å€‘è¦å…ˆåˆ©ç”¨ express.static æŒ‡å®šæˆ‘å€‘çš„ç›®éŒ„èµ·é»žåœ¨å“ªï¼Œé€™æ¨£imgåœ–æª”çš„è·¯å¾‘æ‰èƒ½ä½¿ç”¨ç›¸å°è·¯å¾‘å–å¾—è³‡æºã€‚ ç¯„ä¾‹ å¾Œç«¯app.js12345678910111213141516171819202122var express = require('express');var app = express();//å¢žåŠ éœæ…‹æª”æ¡ˆçš„è·¯å¾‘app.use(express.static('public')); // è¨­å®š ç›®éŒ„èµ·é»žä½ç½®app.get('/', function (req, res) &#123; res.send('&lt;html&gt;&lt;body&gt;&lt;h1&gt;' + '&lt;img src="/img/logo.png" &gt;'+ 'Hello' + '&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;');&#125;)//ç›£è½portvar port = process.env.PORT || 3000;console.log(port);app.listen(port);//åŸ·è¡Œ node app.js//ç¶²é é€£çµ http://127.0.0.1:3000/ ç¤ºæ„åœ– EJS - æ¨£æ¿èªžè¨€å®‰è£èªžæ³•1$ npm install ejs-locals --save ä½¿ç”¨æ–¹æ³• å®£å‘Š æ¨£æ¿èªžè¨€ ä½¿ç”¨ res.render è®€å–å“ªå€‹ejsæª”æ¡ˆï¼Œå¦‚ï¼šres.render(â€˜indexâ€˜) å¾Œç«¯app.js1234567891011121314151617var express = require('express');var app = express();//å¢žåŠ éœæ…‹æª”æ¡ˆçš„è·¯å¾‘app.use(express.static('public')); // è¨­å®š ç›®éŒ„èµ·é»žä½ç½®//å®£å‘Š æ¨£æ¿èªžè¨€var engine = require('ejs-locals');app.engine('ejs',engine);app.set('views','./views'); // è¨­å®šã€Œæ¨£æ¿ç¨‹å¼ç¢¼ã€æ”¾åœ¨å“ªè£¡app.set('view engine','ejs'); // è¨­å®šã€Œæ¨£æ¿èªžè¨€ã€æ˜¯ç”¨å“ªç¨®ï¼Ÿejsã€pugã€handlebarsapp.get('/', function (req, res) &#123; res.render('index'); //æ¸²æŸ“ index.ejs çš„æª”æ¡ˆ&#125;)//http://127.0.0.1:3000/ ç¤ºæ„åœ– EJS - åƒæ•¸å°Žå…¥é™¤äº†ä¸€èˆ¬å°‡.ejsæª”æ¡ˆæ¸²æŸ“æˆHTMLå¤–ï¼Œæœ‰æ™‚ä¹Ÿæœƒå› ç‚ºæ¢ä»¶çš„ä¸åŒï¼Œè¦æ¸²æŸ“å‡ºä¸ä¸€æ¨£çš„HTMLæ ¼å¼ï¼Œé€™æ™‚å°±å¯ä»¥é€éŽåƒæ•¸çš„å‚³éžï¼Œä¾†é”æˆæ­¤éœ€æ±‚ã€‚ ç¯„ä¾‹ ä¸‹åˆ—ç¯„ä¾‹ç¤ºç¯„ res.renderï¼Œå¦‚ä½•å‚³é€åƒæ•¸ä»¥åŠejsæŽ¥æ”¶åƒæ•¸çš„å¯«æ³• å‚³é€ åƒæ•¸12345678910app.get('/', function (req, res) &#123; res.render('index', &#123; 'title': 'æˆ‘æ˜¯å‚³å…¥çš„å€¼', 'dog': 'ç‹—ç‹—', 'html': '&lt;h1&gt;æˆ‘æ˜¯HTML&lt;/h1&gt;', 'show': true, 'course': ['html','js','css'], &#125;);&#125;)//http://127.0.0.1:3000/ ejsæŽ¥æ”¶åƒæ•¸çš„å¯«æ³•123456789101112131415161718192021222324&lt;!-- = æ˜¯ æ¸²æŸ“æˆå­—ä¸²- æ˜¯ æ¸²æŸ“æˆHTML--&gt;&lt;%= html %&gt;=&gt; &lt;h1&gt;æˆ‘æ˜¯HTML&lt;/h1&gt;&lt;%- html %&gt;=&gt; æˆ‘æ˜¯HTML&lt;!-- ifå¯«æ³• --&gt;&lt;% if(show)&#123; %&gt;&lt;h1&gt;æ¢ä»¶æˆç«‹ï¼Œé¡¯ç¤º222!!&lt;/h1&gt;&lt;% &#125; %&gt;&lt;!-- forloopå¯«æ³• --&gt;&lt;ul&gt; &lt;% for(var i=0;course.length&gt;i;i++)&#123; %&gt; &lt;li&gt; &lt;%- course[i] %&gt; &lt;/li&gt; &lt;% &#125; %&gt;&lt;/ul&gt; EJS - è¨­å®šlayoutç•¶æœ‰å¾ˆå¤šé é¢éƒ½æœ‰ç”¨åˆ°å…±åŒçš„å…ƒç´ (å¦‚ï¼šè¡¨é ­ã€è¡¨å°¾â€¦ç­‰)ï¼Œé€™æ™‚æˆ‘å€‘å¯ä»¥å°‡æœƒä¸€ç›´é‡è¦†çš„å€å¡Šå–å‡ºï¼Œæ’°å¯«åœ¨ layout.ejsï¼Œè‹¥æœ‰å…¶ä»–é é¢éœ€è¦è¡¨é ­ã€è¡¨å°¾çš„éƒ¨ä»½ï¼Œæˆ‘åªè¦å°‡layout.ejs includeåœ¨é é¢å³å¯ã€‚ ç¯„ä¾‹ layout.ejs å°‡å…±ç”¨çš„éƒ¨ä»½æ’°å¯«åœ¨ layout.ejs æ–°å¢ž &lt;%- body %&gt; é€™æ®µèªžæ³•ï¼Œä»£è¡¨è¦æ”¾ç½®ä¸åŒé é¢å„è‡ªçš„å…§å®¹ã€‚ layout.ejs1234567891011121314151617181920&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;header&gt; è¡¨é ­å…±ç”¨çš„éƒ¨ä»½(logoã€navbar...ç­‰) &lt;/header&gt; &lt;%- body %&gt; &lt;footer&gt; è¡¨å°¾å…±ç”¨çš„éƒ¨ä»½(ä½œè€…ã€ç‰ˆæ¬Šä¿¡æ¯æˆ–è€…ç›¸é—œéˆæŽ¥...ç­‰) &lt;/footer&gt;&lt;/body&gt;&lt;/html&gt; search.ejs åœ¨é é¢å¯«å…¥ &lt;% layout(&#39;layout&#39;) %&gt; é€™æ®µèªžæ³•ï¼Œä»£è¡¨è¼‰å…¥å…±ç”¨HTMLéƒ¨ä»½ã€‚ æŽ¥è‘—é–‹å§‹æ’°å¯«HTMLå…§å®¹ï¼Œè€Œæ’°å¯«å¥½çš„HTMLï¼Œå°±æœƒæ”¾ç½®åœ¨layout.ejsæª”æ¡ˆè£¡çš„&lt;%- body %&gt;ä½ç½®ã€‚ search.ejsæœå°‹é é¢12345678910&lt;!-- å…±ç”¨å…ƒç´  --&gt;&lt;% layout('layout') %&gt;&lt;!-- è¡¨å–®å…§å®¹ --&gt;&lt;form action="/searchList" method="post" &gt; &lt;input type="text" name="content" id="content" value=""&gt; &lt;input type="submit" id="send" value="é€å‡º"&gt;&lt;/form&gt;&lt;script src="/js/all.js"&gt;&lt;/script&gt; body-parser - å–å¾—è¡¨å–®è³‡æ–™(å‚³çµ±è¡¨å–®)å®‰è£èªžæ³• 1$ npm install body-parser --save ç¯„ä¾‹ åœ¨searchæœå°‹é é¢çš„ searchText è¼¸å…¥æœå°‹æ–‡å­—å¾Œï¼Œé»žæ“Šé€å‡ºæŒ‰éˆ• æ­¤æ™‚æœƒå°‡è¡¨å–®è³‡æ–™å‚³é€(post)çµ¦/searchList å†é€éŽå¾Œç«¯ req.body å–å¾—åˆ°è¡¨å–®è³‡æ–™ï¼Œé€²è¡Œå¾ŒçºŒè§£æžã€‚ searchæœå°‹é é¢123456789&lt;form action="/searchList" method="post" &gt; &lt;input type="text" name="searchText" value=""&gt; &lt;input type="submit" value="é€å‡º"&gt; &lt;!-- åªæœ‰idçš„è©±ï¼Œbody-parserç„¡æ³•è§£æž --&gt; &lt;!-- &lt;input type="text" id="idflied" value=""&gt; --&gt;&lt;/form&gt; å¾Œç«¯app.js123456789101112131415161718192021222324var bodyParser = require('body-parser');// å¢žåŠ  body è§£æžapp.use(bodyParser.json());app.use(bodyParser.urlencoded(&#123; extended: false&#125;))//æœå°‹é é¢app.get('/search', function (req, res) &#123; res.render('search');&#125;)//http://127.0.0.1:3000/search//å‚³çµ±è¡¨å–®app.post('/searchList', function (req, res) &#123; //æ‰€æœ‰bodyæ¬„ä½è³‡æ–™ console.log(req.body); //å–å¾—æŸæ¬„ä½è³‡æ–™ console.log(req.body.searchText); //è½‰å€ res.redirect('search'); // å°‡ç•«é¢å°Žå›žæœå°‹é é¢&#125;) æœå°‹é é¢(search) æ˜¯ä½¿ç”¨ app.getæŽ¥æ”¶è¡¨å–®é é¢(searchList) æ˜¯ä½¿ç”¨ app.poståœ¨searchListè™•ç†å®Œè³‡æ–™å¾Œï¼Œæœ€å¾Œè¨˜å¾—å°‡ç•«é¢å°Žå›žæœå°‹ç•«é¢ res.redirect(â€˜searchâ€™); body-parser - å–å¾—è¡¨å–®è³‡æ–™(AJAX)è‹¥é”åˆ°é é¢ä¸è·³è½‰ï¼Œå°±å¯å›žæ‡‰ç›¸é—œè¨Šæ¯ï¼Œæ­¤æ™‚å°±éœ€è¦é€éŽAJAXçš„æ–¹å¼ï¼Œé”åˆ°æ­¤éœ€æ±‚ã€‚ ç¯„ä¾‹ æ–°å¢žä¸€è·¯ç”± searchAJAXï¼Œç”¨ä¾†è™•ç†æœå°‹çš„ç›¸é—œè³‡æ–™ï¼Œæœ€å¾Œå›žå‚³çµ¦å‰ç«¯ã€‚ å¾Œç«¯app.js12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849var express = require('express');var app = express();var bodyParser = require('body-parser');//å¢žåŠ éœæ…‹æª”æ¡ˆçš„è·¯å¾‘app.use(express.static('public'));//å®£å‘Š æ¨£æ¿èªžè¨€var engine = require('ejs-locals');app.engine('ejs', engine);app.set('views', './views'); // æ¨£æ¿æ”¾åœ¨å“ªè£¡ï¼Ÿapp.set('view engine', 'ejs'); // å®£å‘Šæ¨£æ¿æ˜¯ç”¨å“ªç¨®èªžè¨€ï¼Ÿejsã€pugã€handlebars// å¢žåŠ  body è§£æžapp.use(bodyParser.json());app.use(bodyParser.urlencoded(&#123; extended: false&#125;))//æœå°‹é é¢app.get('/search', function (req, res) &#123; res.render('search');&#125;)//http://127.0.0.1:3000/search//AJAXapp.post('/searchAJAX', function (req, res) &#123; //æ‰€æœ‰bodyæ¬„ä½è³‡æ–™ console.log(req.body); console.log(req.body.list[1]); /* é€™è£¡æ’°å¯«ç¨‹å¼ç¢¼ */ //å›žå‚³çµæžœ res.send('Hello!');&#125;)//ç›£è½portvar port = process.env.PORT || 3000;console.log(port);app.listen(port);//åŸ·è¡Œ node app.js//ç¶²é é€£çµ http://127.0.0.1:3000/ é‡é»žåœ¨æ–¼æˆ‘å€‘å°‡åŽŸæœ¬åœ¨æœå°‹é é¢çš„ sendæŒ‰éˆ• è¦Submitçš„å‹•ä½œå–æ¶ˆ e.preventDefault();ï¼Œæ”¹ç”¨ AJAX æ–¹å¼ï¼Œå°‡è¡¨å–®çš„å…§å®¹è³‡æ–™ï¼Œåˆ©ç”¨ post çµ¦ searchAJAXã€‚ å‰ç«¯all.js123456789101112131415161718192021222324252627282930313233var send = document.querySelector('#send');var content = document.querySelector('#content');send.addEventListener('click', function (e) &#123; e.preventDefault(); var str = content.value; console.log(str); var xhr = new XMLHttpRequest(); xhr.open('post', '/searchAJAX'); //ç™¼é€çµ¦å“ªå€‹è·¯ç”± //çµ„åˆè¡¨å–®è³‡æ–™(æ–‡å­—åž‹æ…‹) // xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); // var data = 'content=' + str; // content=123&amp;title=abc //çµ„åˆè¡¨å–®è³‡æ–™(jsonåž‹æ…‹) xhr.setRequestHeader("Content-type", "application/json"); var searchlist = &#123; "content": str, "list": [1, 2, 3] &#125;; var data = JSON.stringify(searchlist); //è½‰æˆå­—ä¸² //ç™¼é€è¡¨å–®è³‡æ–™çµ¦å¾Œç«¯app.jsè™•ç† xhr.send(data); //å–å¾—å¾Œç«¯app.jså›žå‚³çš„è³‡æ–™ xhr.onload = function () &#123; console.log(xhr.responseText); &#125;&#125;) Router - é€²éšŽè¨­å®šç•¶æˆ‘å€‘ç¶²ç«™æœ‰è¶Šä¾†è¶Šå¤šé é¢çš„è©±ï¼Œä¸å¯èƒ½æŠŠæ‰€æœ‰ç¶²é çš„è·¯ç”±åˆ¤æ–·åœ¨å¯«app.jsè£¡ï¼Œé€™æ¨£æœƒé€ æˆç¨‹å¼ç¢¼é›œäº‚ï¼Œå°Žè‡´å¾ŒçºŒç¶­è­·ä¸ä¾¿ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥å°‡åŒé¡žåž‹é é¢åˆ†åˆ¥åŒ…è£åœ¨ä¸åŒjsæª”è£¡ï¼Œä¸¦ä¸”ä½¿ç”¨ module(æ¨¡çµ„) è¼¸å‡ºï¼Œå¯ä¾› app.js åˆ†åˆ¥è¼‰å…¥ï¼Œä»¥é”åˆ°ç¨‹å¼ç¢¼çš„ç°¡æ½”æ˜“æ‡‚ã€‚ ç¯„ä¾‹ app.js åˆ†åˆ¥è¼‰å…¥ useræ¨¡çµ„(å€‹äººè³‡æ–™)ã€cartæ¨¡çµ„(è³¼ç‰©è»Š) ï¼Œè®“æ•´å€‹app.jsè®Šå¾—ç°¡æ½”æ˜“æ‡‚ã€‚ å¾Œç«¯app.js1234567891011121314151617181920var express = require('express');var user = require('./routes/user.js') // è¼‰å…¥ useræ¨¡çµ„(å€‹äººè³‡æ–™)var user = require('./routes/cart.js') // è¼‰å…¥ cartæ¨¡çµ„(è³¼ç‰©è»Š)var app = express();//ç¶²å€è‹¥ç‚º http://127.0.0.1:3000/user/... ä¹‹é¡žçš„è©±ï¼Œå°±æœƒé€²åŽ»useræ¨¡çµ„åŸ·è¡Œã€‚app.use('/user',user);//ç¶²å€è‹¥ç‚º http://127.0.0.1:3000/cart/... ä¹‹é¡žçš„è©±ï¼Œå°±æœƒé€²åŽ»cartæ¨¡çµ„åŸ·è¡Œã€‚app.use('/cart',cart);//ç›£è½portvar port = process.env.PORT || 3000;app.listen(port);//åŸ·è¡Œ node app.js//ç¶²é é€£çµ http://127.0.0.1:3000/ ä»¥useræ¨¡çµ„(å€‹äººè³‡æ–™)ç‚ºä¾‹ï¼Œå› å¤–éƒ¨å¼•ç”¨æ­¤æ¨¡çµ„ï¼Œèªžæ³•è¨­å®šç‚º app.use(â€˜/userâ€˜,user);æ‰€ä»¥ç¶²å€èµ·é ­å¾ž http://127.0.0.1:3000//user/ é–‹å§‹ user.js12345678910111213141516171819202122232425262728293031var express = require('express');var router = express.Router(); // è·¯ç”±å™¨//å› å¤–éƒ¨å¼•ç”¨æ­¤æ¨¡çµ„ï¼Œèªžæ³•ç‚º app.use('/user',user);//æ‰€ä»¥ç¶²å€èµ·é ­å¾ž http://127.0.0.1:3000/user/ é–‹å§‹router.get('/edit-porfile', function (req, res) &#123; //è‹¥ç¶²å€ç‚º http://127.0.0.1:3000/user/edit-porfile é€²è¡Œæ­¤function console.log('porfileé é¢'); res.send('porfile');&#125;)router.get('/photo', function (req, res) &#123; //è‹¥ç¶²å€ç‚º http://127.0.0.1:3000/user/photo é€²è¡Œæ­¤function console.log('photoé é¢'); res.send('photo');&#125;)router.get('/card', function (req, res) &#123; //è‹¥ç¶²å€ç‚º http://127.0.0.1:3000/user/card é€²è¡Œæ­¤function console.log('cardé é¢'); res.send('card');&#125;)/* åŽŸå…ˆéƒ½æ˜¯ä½¿ç”¨ app.get ï¼Œè¦æ”¹ç”¨æˆ router.get*/module.exports = router; æ³¨æ„ user.jsï¼ŒåŽŸå…ˆéƒ½æ˜¯ä½¿ç”¨ app.get ï¼Œè¦æ”¹ç”¨æˆ router.get express-generator - æ‡‰ç”¨ç¨‹å¼ç”¢ç”Ÿå™¨ç¶“éŽä¸Šè¿°ç¨®ç¨®çš„ä»‹ç´¹ï¼Œäº†è§£expresså„ç¨®çš„ä½¿ç”¨æ–¹å¼å¾Œï¼Œä¹‹å¾Œæˆ‘å€‘å¯ä»¥åˆ©ç”¨ Expressæ‡‰ç”¨ç¨‹å¼ç”¢ç”Ÿå™¨ ï¼Œè‡ªå‹•å¹«æˆ‘å€‘ç”Ÿæˆä¸€å€‹å°ˆæ¡ˆçš„åŸºæœ¬æž¶æ§‹ï¼Œå°±ç„¡é ˆå¾žé ­åˆ°å°¾æ…¢æ…¢å»ºæ§‹ã€‚ å®‰è£èªžæ³• 1$ npm install express-generator -g å»ºç«‹èªžæ³• å»ºç«‹ express å°ˆæ¡ˆè³‡æ–™ 1$ express -e project åˆ‡æ›è‡³å°ˆæ¡ˆç›®éŒ„ï¼Œä¸¦å®‰è£ NPM å¥—ä»¶ 12$ cd project$ npm install é‹è¡Œå°ˆæ¡ˆ 1$ npm start å°ˆæ¡ˆç¶²å€ï¼šhttp://127.0.0.1:3000/ å°ˆæ¡ˆåˆå§‹åŒ– ä¸‹åˆ—ç‚º å°ˆæ¡ˆåˆå§‹åŒ– ä¹‹ç¨‹å¼ç¢¼ï¼Œå¾Œé¢å¯åœ¨ä¾æ“šéœ€æ±‚æ–°å¢žå…¶ä»–åŠŸèƒ½æ¨¡çµ„ï¼Œå¦‚ï¼šexpress-sessionã€nodemailer(å¯„ä¿¡)ã€csurf(é˜»æ“‹è·¨ç«™æ”»æ“Š)ã€connect-flash(messageæš«å­˜å™¨)ã€dotenv(ç’°å¢ƒè®Šæ•¸è¨­å®š)ã€firebase-admin(è³‡æ–™åº«)â€¦ç­‰ å¾Œç«¯app.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354var express = require('express');var path = require('path'); // æŠ“å–ç›®éŒ„è·¯å¾‘var favicon = require('serve-favicon'); // è¨­å®šiconvar logger = require('morgan'); // æ—¥èªŒvar cookieParser = require('cookie-parser'); // è§£æžå‰ç«¯cookievar bodyParser = require('body-parser'); // å–å¾—å‰ç«¯è¡¨å–®è³‡æ–™// è‡ªè¡Œæ’°å¯«é é¢éƒ¨ä»½var index = require('./routes/index'); // è¼‰å…¥ indexæ¨¡çµ„(é¦–é )var users = require('./routes/users'); // è¼‰å…¥ useræ¨¡çµ„(å€‹äººè³‡æ–™)var app = express();// view engine setup - æ¨£ç‰ˆèªžè¨€è¨­å®šapp.set('views', path.join(__dirname, 'views'));app.set('view engine', 'ejs');// uncomment after placing your favicon in /public//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico'))); // è¨­å®šiconçš„è·¯å¾‘app.use(logger('dev'));app.use(bodyParser.json()); // è§£æžè¡¨å–®è³‡æ–™-jsonapp.use(bodyParser.urlencoded(&#123; extended: false &#125;)); // è§£æžè¡¨å–®è³‡æ–™-URL-encodedæ ¼å¼app.use(cookieParser()); // è§£æžå‰ç«¯cookieapp.use(express.static(path.join(__dirname, 'public'))); // è¨­å®š éœæ…‹æª”æ¡ˆçš„ç›®éŒ„èµ·é»žä½ç½®// è·¯ç”±å€å¡Š----Startapp.use('/', index); //ç¶²å€è‹¥ç‚º http://127.0.0.1:3000/... ï¼Œå°±æœƒé€²åŽ» indexæ¨¡çµ„ åŸ·è¡Œã€‚app.use('/users', users); //ç¶²å€è‹¥ç‚º http://127.0.0.1:3000/user/...ï¼Œå°±æœƒé€²åŽ» useræ¨¡çµ„ åŸ·è¡Œã€‚// è·¯ç”±å€å¡Š----End// catch 404 and forward to error handlerapp.use(function(req, res, next) &#123; var err = new Error('Not Found'); err.status = 404; next(err);&#125;);// error handlerapp.use(function(err, req, res, next) &#123; // set locals, only providing error in development res.locals.message = err.message; res.locals.error = req.app.get('env') === 'development' ? err : &#123;&#125;; // render the error page res.status(err.status || 500); res.render('error');&#125;);module.exports = app; å®˜æ–¹ï¼šExpressæ‡‰ç”¨ç¨‹å¼ç”¢ç”Ÿå™¨ åƒè€ƒä¾†æºNodeJS å‰å¾Œç«¯é–‹ç™¼å¯¦æˆ°å…­è§’å­¸é™¢]]></content>
      <categories>
        <category>NodeJS</category>
      </categories>
      <tags>
        <tag>NodeJS</tag>
        <tag>Express</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Firebase-åŸºç¤Žç”¨æ³•]]></title>
    <url>%2F2017%2F12%2F26%2FFirebase-studynotes%2F</url>
    <content type="text"><![CDATA[ref(è·¯å¾‘)ã€set(æ–°å¢ž)ref()ï¼šå°‹æ‰¾è³‡æ–™åº«è·¯å¾‘(é è¨­ï¼šæ ¹ç›®éŒ„)set()ï¼šæ–°å¢žè³‡æ–™(å¯«å…¥æ–¹å¼ï¼šè¦†è“‹) æ–°å¢žè³‡æ–™ï¼šç¯„ä¾‹11firebase.database().ref().set('hi'); çµæžœ æ–°å¢žè³‡æ–™ï¼šç¯„ä¾‹2(ç‰©ä»¶)1234567891011121314// firebase å…¨éƒ¨ç‰©ä»¶æ ¼å¼ï¼Œä¸èƒ½é™£åˆ—å…§å®¹// ä¸€å€‹ç­ç´šæœ‰å…©å€‹å­¸ç”Ÿvar school = &#123; student1: &#123; name: 'tom', num: '1' &#125;, student2: &#123; name: 'john', num: '2' &#125;&#125;firebase.database().ref().set(school); çµæžœ è£œå…… å»¶çºŒç¯„ä¾‹2ï¼Œè‹¥è¦å†æ–°å¢ž student3 çš„è©±ï¼Œå› ç‚º set å¯«å…¥çš„æ–¹å¼æ˜¯ è¦†è“‹ï¼Œæ‰€ä»¥è¦æ³¨æ„ ref æ˜¯å¦æœ‰æŒ‡å®šåˆ°æ­£ç¢ºçš„æ–°å¢žä½ç½®ï¼Œä¸ç„¶æœ‰å¯èƒ½æœƒè¦†è“‹åˆ°åŽŸä¾†çš„è³‡æ–™ã€‚ æ–°å¢žstudent31234567var student3= &#123; name: 'kanboo', num: '3'&#125;// ref è¦å…ˆæŒ‡å®šåˆ° æ–°å¢žçš„è·¯å¾‘firebase.database().ref('student3').set(student3); æ–°å¢žè³‡æ–™ï¼šç¯„ä¾‹3(éšŽå±¤å¼)123456//å¯«å…¥è³‡æ–™firebase.database().ref('myName').set('kanboo');firebase.database().ref('yourName').set('alice');firebase.database().ref('allName/name01').set('aa');firebase.database().ref('allName/name02').set('bb');firebase.database().ref('allName/nameList/name01').set('cc'); çµæžœ onceã€on è®€å–è³‡æ–™ once(è®€å–ä¸€æ¬¡è³‡æ–™åº«çš„è³‡æ–™) åƒ…å‘firebaseå–å¾—ä¸€æ¬¡æ€§è³‡æ–™ï¼Œæ‰€ä»¥ç•¶firebaseè³‡æ–™æœ‰ç•°å‹•ï¼Œéœ€è¦å†ä¸€æ¬¡å‘¼å«ï¼Œæ‰æœƒå–å¾—æ›´æ–°å¾Œçš„è³‡æ–™ã€‚ 123456var myNameRef = firebase.database().ref('allName/nameList/name01');// å¿«ç…§myNameRef.once('value', function (snapshot) &#123; console.log(snapshot.val()); document.getElementById('title').textContent = snapshot.val();&#125;) on(éš¨æ™‚ç›£è½) ç•¶firebaseè³‡æ–™æœ‰ç•°å‹•æ™‚ï¼Œæœƒå³æ™‚å›žå‚³æ›´æ–°è³‡æ–™ã€‚ 123456var myNameRef = firebase.database().ref('allName/nameList/name01');//on éš¨æ™‚ç›£è½myNameRef.on('value', function (snapshot) &#123; console.log(snapshot.val()); document.getElementById('title').textContent = snapshot.val();&#125;) push - æ–°å¢žè³‡æ–™ä»¥ Todolist ç‚ºä¾‹ï¼Œå› ç‚ºè³‡æ–™éš¨æ™‚æœƒæ–°å¢žï¼Œä¸å¯èƒ½ä¸€æ¬¡å°±èƒ½æŠŠæ‰€æœ‰è³‡æ–™æ‰“é½Šä¸Šå‚³è‡³databaseï¼Œæ‰€ä»¥å°±éœ€è¦å€Ÿç”¨ push åŠŸèƒ½ï¼Œå°‡ æ–°è³‡æ–™ åŠ åœ¨ ç¾æœ‰è³‡æ–™ è£¡ã€‚ Todolistï¼šæ–°å¢žå¾…è¾¦123var todos = firebase.database().ref('todos');todos.push(&#123;content:'è¦åŽ»çœ‹é›»å½±'&#125;);todos.push(&#123;content:'è¦åŽ»çœ‹è·‘æ­¥'&#125;); çµæžœ push æœƒè‡ªå‹•çµ¦ä¸€å€‹äº‚æ•¸ç·¨è™Ÿï¼Œå¦‚æžœä¸æƒ³ç”¢ç”Ÿéš¨æ©Ÿç·¨è™Ÿçš„è©±ï¼Œå°±ä½¿ç”¨setæ–¹å¼ã€‚set å¯ä»¥çµ¦å›ºå®šçš„ç·¨è™Ÿï¼Œä½†è¦æ³¨æ„æ–°å¢žçš„ä½ç½®æ˜¯å¦æŒ‡å®šæ­£ç¢ºï¼Œè¦å°å¿ƒè¦†è“‹æŽ‰å·²æœ‰çš„è³‡æ–™ã€‚ child å­è·¯å¾‘ã€remove ç§»é™¤ä»¥ Todolist ç‚ºä¾‹ï¼Œç•¶å®ŒæˆæŸé …äº‹ä»¶æ™‚ï¼Œå°±è¦å°‡å®ƒå¾žå¾…è¾¦æ¸…å–® ç§»é™¤ã€‚ Todolistï¼šç§»é™¤å¾…è¾¦123456// child å­è·¯å¾‘ï¼šç§»è‡³æ ¹ç›®éŒ„ä¸‹çš„ todos var todos = firebase.database().ref().child('todos');// remove ç§»é™¤ï¼šç§»é™¤todosä¸‹çš„ -L1H5cAAQnE9y72dCpJ7(è¦åŽ»çœ‹é›»å½±)todos.child('-L1H5cAAQnE9y72dCpJ7').remove(); çµæžœ åœ¨ç¶²é å³æ™‚é¡¯ç¤ºfirebaseè³‡æ–™å¯ä»¥ç”¨ on(éš¨æ™‚ç›£è½) çš„ç‰¹æ€§ï¼Œéš¨æ™‚å°‡firebaseæœ€æ–°çš„è³‡æ–™å›žå‚³æ›´æ–°ï¼Œé€™æ¨£åœ¨é–‹ç™¼æ™‚ï¼Œå°±ä¸ç”¨ç‰¹åœ°å†é–‹firebaseçš„ç¶²é è§€çœ‹è³‡æ–™ï¼Œç¯€çœåˆ‡æ›é é¢çš„æ™‚é–“ã€‚ HTML1&lt;pre id="content"&gt;&lt;/pre&gt; js12345// åœ¨ç¶²é å³æ™‚é¡¯ç¤ºfirebaseè³‡æ–™var ref = firebase.database().ref();ref.on('value', function (snapshot) &#123; document.getElementById('content').textContent = JSON.stringify(snapshot.val(), null, 3);&#125;) JSON.stringifyè£œå……èªªæ˜Ž orderbyForeach æŽ’åºå¾žfirebaseå–å¾—æœ‰ æŽ’åº éŽå¾Œçš„è³‡æ–™ï¼Œå¯¦ä½œèªžæ³•éœ€è¦åˆ©ç”¨ orderByChild å’Œ forEach äºŒå€‹å‡½æ•¸æ­é…ä½¿ç”¨ã€‚ peopleç‰©ä»¶è³‡æ–™1234567891011121314151617var people = &#123; "bob": &#123; "height": 178, "old": 18, "weight": 70 &#125;, "casper": &#123; "height": 180, "old": 13, "weight": 80 &#125;, "mike": &#123; "height": 162, "old": 15, "weight": 55 &#125;&#125;; ä¾ã€Œé«”é‡ã€æŽ’åº12345678var peopleRef = firebase.database().ref('people');// è·¯å¾‘&gt;&gt;æŽ’åº('å±¬æ€§')&gt;&gt;è®€å–&gt; forEach ä¾åºæ’ˆå‡ºè³‡æ–™peopleRef.orderByChild('height').once('value', function (snapshot) &#123; // console.log(snapshot.val()); snapshot.forEach(function (item) &#123; console.log(item.val()); &#125;)&#125;) å»¶ä¼¸å•é¡Œ firebase åªæä¾›ä¸€ç¨®æŽ’åºæ–¹å¼ï¼Œä¸¦ç„¡ åå‘ æŽ’åºçš„è¨­å®šï¼Œæ‰€ä»¥è‹¥è¦é”æˆåå‘æŽ’åºï¼Œéœ€å€Ÿç”¨ Array.reverse() çš„å¹«å¿™ã€‚ åå‘ç¯„ä¾‹123456789101112 var peopleRef = firebase.database().ref('people'); // è·¯å¾‘&gt;&gt;æŽ’åº('å±¬æ€§')&gt;&gt;è®€å–&gt; forEach ä¾åºæ’ˆå‡ºè³‡æ–™ peopleRef.orderByChild('height').once('value', function (snapshot) &#123; // console.log(snapshot.val());+ var dataArr = []; snapshot.forEach(function (item) &#123; console.log(item.val());+ dataArr.push(item.val()); &#125;) //åå‘æŽ’åº+ console.log(dataArr.reverse()); &#125;) firebaseæŽ’åºè¦å‰‡Array.reverse() startAtã€endAtã€equalTo éŽæ¿¾æ¢ä»¶ éŽæ¿¾æ¢ä»¶ï¼š startAt() å¤šå°‘ä»¥ä¸Š endAt() å¤šå°‘ä»¥ä¸‹ equalTo() ç›¸ç­‰ ä½¿ç”¨ éŽæ¿¾æ¢ä»¶ æ™‚ï¼Œä¸€å®šè¦å…ˆ æŽ’åº(orderByChild) éŽè³‡æ–™ ä¸€å€‹ éŽæ¿¾æ¢ä»¶123456789var peopleRef = firebase.database().ref('people');// å°‡ é‡é‡ æŽ’åºå¾Œï¼Œç¯©é¸å‡º 4500 ä»¥ä¸Šçš„è³‡æ–™peopleRef.orderByChild('weight').startAt(4500).once('value', function (snapshot) &#123; snapshot.forEach(function (item) &#123; console.log(item.key); console.log(item.val()); &#125;) // console.log(snapshot.val());&#125;) å¤šå€‹ éŽæ¿¾æ¢ä»¶123456789var peopleRef = firebase.database().ref('people');// å°‡ é‡é‡ æŽ’åºå¾Œï¼Œç¯©é¸å‡º 2500 ~ 3500 ä¹‹é–“çš„è³‡æ–™peopleRef.orderByChild('weight').startAt(2500).endAt(3500).once('value', function (snapshot) &#123; snapshot.forEach(function (item) &#123; console.log(item.key); console.log(item.val()); &#125;) // console.log(snapshot.val());&#125;) limitToFirstã€limitToLast é™åˆ¶ç­†æ•¸ é™åˆ¶ç­†æ•¸ï¼š limitToFirst(n) å¾ž é ­ å–å¾— n ç­†è³‡æ–™ limitToLast(n) å¾ž å°¾ å–å¾— n ç­†è³‡æ–™ å–å¾—ç¬¬ 1 ç­†è³‡æ–™12345678var peopleRef = firebase.database().ref('people');peopleRef.orderByChild('weight').limitToFirst(1).once('value', function (snapshot) &#123; snapshot.forEach(function (item) &#123; console.log(item.key); console.log(item.val()); &#125;) // console.log(snapshot.val());&#125;) å–å¾—å€’æ•¸ 5 ç­†è³‡æ–™12345678var peopleRef = firebase.database().ref('people');peopleRef.orderByChild('weight').limitToLast(5).once('value', function (snapshot) &#123; snapshot.forEach(function (item) &#123; console.log(item.key); console.log(item.val()); &#125;) // console.log(snapshot.val());&#125;) åƒè€ƒä¾†æºNodeJS å‰å¾Œç«¯é–‹ç™¼å¯¦æˆ°å…­è§’å­¸é™¢]]></content>
      <categories>
        <category>Firebase</category>
      </categories>
      <tags>
        <tag>Firebase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SASS-åŸºç¤Žç”¨æ³•]]></title>
    <url>%2F2017%2F12%2F25%2FSASS-studynotes%2F</url>
    <content type="text"><![CDATA[è®Šæ•¸å‘½å(å‰é¢åŠ å€‹ $ å­—è™Ÿ)123456789101112131415//è®Šæ•¸$font-color: bule;$font-m: 16px;$font-l: $font-m * 1.2;$font-s: $font-m * 0.8;.box01 &#123; color: $font-color; font-size: $font-l;&#125;.box02 &#123; color: $font-color; font-size: $font-s;&#125; @importå¸¸è¦‹çš„åˆ†é¡ž123@import mixin //æ”¾ç½®æ‰€æœ‰Sasså…¨åŸŸè®Šæ•¸èˆ‡Mixin@import reset //reset.css@import layout //å…±åŒæ¡†æž¶(å¦‚ï¼šè¡¨é ­ã€è¡¨å°¾) @mixin + @includeå»ºç«‹ï¼š@mixin + åç¨± { èªžæ³•å…§å®¹} ; æ’å…¥ï¼š@include + åç¨± ; å»ºç«‹1234567//åœ“è§’æ•ˆæžœ@mixin circle($size,$bgcolor)&#123; border-radius: 50%; width: $size; height: $size; background-color: $bgcolor;&#125;// @mixinå¯æ­é…è®Šæ•¸æ‡‰ç”¨ æ’å…¥123.circlebox&#123; @include circle(100px,red)&#125; @mixin + @contentå„ç¨®è¼‰å…·æ–·é»ž123456789101112131415161718192021222324252627282930//iPad - 768px@mixin pad &#123; @media(max-width: 768px)&#123; @content; &#125;&#125;//iPadä»¥ä¸‹ - 767px@mixin mobile &#123; @media(max-width: 767px)&#123; @content; &#125;&#125;//iPhone 6 Plus - 414px (è¦–å°ˆæ¡ˆæ—ç¾¤)@mixin i6plue &#123; @media(max-width: 414px)&#123; @content; &#125;&#125;//iPhone 6 - 375px (è¦–å°ˆæ¡ˆæ—ç¾¤)@mixin i6 &#123; @media(max-width: 768px)&#123; @content; &#125;&#125;//iPhone 5ã€SE - 320px@mixin i5 &#123; @media(max-width: 320px)&#123; @content; &#125;&#125; ä½¿ç”¨æ–¹å¼123456789.header&#123; width: 100px; height: 100px; //iPad - 768px @include pad()&#123; height: auto; &#125;&#125; Sassé¡è‰²å‡½æ•¸å¸¸ç”¨å‡½æ•¸12345678910111213$bg-color: #ff0000;.darken:hover &#123; background: darken($bg-color, 20%); //å°‡ç´…è‰²èª¿æš—10%&#125;.lighten:hover &#123; background: lighten($bg-color, 20%); //å°‡ç´…è‰²èª¿äº®10%&#125;.invert:hover &#123; background: invert($bg-color); //è¿”å›žä¸€å€‹åç›¸è‰²&#125; ç¯„ä¾‹ See the Pen Sass-é¡è‰²å‡½æ•¸ by Kanboo (@Kanboo) on CodePen. åƒè€ƒæ–‡ç« 30å¤©æŽŒæ¡Sassèªžæ³•SassMeé¡è‰²å‡½æ•¸]]></content>
      <categories>
        <category>SASS</category>
      </categories>
      <tags>
        <tag>SASS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NodeJS-åŸºç¤Žè§€å¿µ]]></title>
    <url>%2F2017%2F12%2F24%2FNodeJS-studynotes%2F</url>
    <content type="text"><![CDATA[nodeå…¨åŸŸç‰©ä»¶ï¼šglobal nodeçš„å…¨åŸŸç‰©ä»¶ç‚º global ï¼Œå°±åƒç¶²é çš„å…¨åŸŸç‰©ä»¶ç‚º windowã€‚ å¦‚ä¸‹åœ–ï¼Œåœ¨nodeç’°å¢ƒä¸‹ï¼Œä¸åŒjsæª”ä¹‹é–“æ˜¯å€éš”çš„ï¼Œä½¿ç”¨åˆ°ç›¸åŒçš„è®Šæ•¸åç¨±æ˜¯ä¸æœƒäº’ç›¸å½±éŸ¿ã€‚ requireã€module exportsç”±æ–¼nodeç’°å¢ƒä¸‹ï¼Œä¸åŒjsæª”ä¹‹é–“æ˜¯å€éš”çš„ï¼Œæ‰€ä»¥è‹¥æƒ³è¦åœ¨jsæª”ä¹‹é–“é”åˆ°è³‡æ–™çš„å‚³éžçš„è©±ï¼Œæ–¹æ³•å¦‚ä¸‹ app.js å¼•ç”¨èªžæ³•12345//å¼•ç”¨ æ¨¡çµ„var content = require('./data'); //è¨­å®šé å¼•ç”¨çš„jsæª”è·¯å¾‘ï¼Œä¸ç”¨åŠ å‰¯æª”åconsole.log(content.data);console.log(content.bark()); è¼¸å‡ºèªžæ³•æœ‰äºŒç¨®ï¼Œå¯ä»»æ„é¸æ“‡å–œæ­¡çš„å¯«æ³•ï¼Œä½†ä¸èƒ½äºŒç¨®å¯«æ³•åŒæ™‚åœ¨åŒä¸€å€‹jsæª”è£¡ï¼Œå› ç‚ºæœƒäº’ç›¸è¦†è“‹æŽ‰ã€‚ data.js è¼¸å‡ºèªžæ³•1234567891011121314151617//ç¬¬ä¸€ç¨®ï¼šè¼¸å‡ºè³‡æ–™var data = 2;//è¼¸å‡ºçš„è³‡æ–™module.exports = &#123; content: data, title: 'big'&#125;;//ç¬¬äºŒç¨®ï¼šè¼¸å‡ºè³‡æ–™exports.data = 2;exports.bark = function()&#123; return 'bark!!';&#125; Nodeæ ¸å¿ƒæ¨¡çµ„-createServercreateServerçš„åƒæ•¸ï¼š requestï¼šæŽ¥æ”¶Userçš„è¡Œç‚ºï¼Œå¦‚ï¼šrequest.url å¯å–å¾—ç›®å‰ç¶²é ç¶²å€responseï¼šå›žæ‡‰Userçš„çµæžœ 123456789101112131415var http = require('http');http.createServer(function (request, response) &#123; // è¼¸å‡º ç´”æ–‡å­— // response.writeHead(200, &#123;"Content-Type": "text/plain"&#125;); //æ–‡å­—æ ¼å¼ // response.write('hello word!!'); //è¼¸å‡º HTML response.writeHead(200, &#123;"Content-Type": "text/html"&#125;); //HTMLæ ¼å¼ response.write('&lt;h1&gt;hello word!!&lt;/h1&gt;'); response.end();&#125;).listen(8080); //ç›£è½ 8080 port å¸¸è¦‹çš„portï¼š21 FTP80 http3389 é ç«¯æ¡Œé¢ Nodeæ¨¡çµ„-Path__dirnameï¼šå–å¾—ç›®å‰jsæª”çš„ç›®éŒ„è·¯å¾‘ï¼Œå¦‚ï¼š/Users/kanboo/Desktop/project __filenameï¼šå–å¾—ç›®å‰jsæª”çš„æª”æ¡ˆè·¯å¾‘ï¼Œå¦‚ï¼š/Users/kanboo/Desktop/project/app.js 123456789101112131415161718192021var path = require('path');//æŠ“ç›®éŒ„è·¯å¾‘console.log(path.dirname('/xx/yy/zz.js'));//=&gt; /xx/yy//è·¯å¾‘åˆä½µconsole.log(path.join(__dirname,'/xx'));//=&gt; /Users/kanboo/Desktop/project/xx//æŠ“æª”åconsole.log(path.basename('xx/yy/zz.js'));//=&gt; zz.js//æŠ“å‰¯æª”åconsole.log(path.extname('xx/yy/zz.js'));//=&gt; .js//åˆ†æžè·¯å¾‘console.log(path.parse('xx/yy/zz.js'));//=&gt; &#123; root: '', dir: 'xx/yy', base: 'zz.js', ext: '.js', name: 'zz' &#125; Node.js PATH APIæ–‡ä»¶ NPM-nodemonnodemonæ˜¯ä¸€å€‹å°ˆç‚ºNode.jsè¨­è¨ˆçš„æ¨¡çµ„ï¼Œå®ƒçš„ä½œç”¨æ˜¯æŒçºŒç›£è¦–è‘—ä½ çš„ç¨‹å¼ç¢¼ï¼Œä¸€æ—¦ä½ ä¿®æ”¹å¾Œä¿å­˜äº†ï¼Œnodemonå°±æœƒé‡æ–°å•Ÿå‹•ä½ çš„Node.jsç¨‹å¼ï¼Œé€™æ¨£ä½ åªè¦åˆ·æ–°ä½ çš„ç€è¦½å™¨å°±èƒ½çœ‹åˆ°æ”¹å‹•ã€‚ å®‰è£èªžæ³•1npm install -g nodemon å•Ÿå‹•èªžæ³•12345//åŽŸå…ˆå•Ÿå‹•serverçš„æ–¹æ³•node index.js//æ”¹ç”¨æ­¤æ–¹æ³•nodemon index.js nodemon åƒè€ƒä¾†æºNodeJS å‰å¾Œç«¯é–‹ç™¼å¯¦æˆ°å…­è§’å­¸é™¢]]></content>
      <categories>
        <category>NodeJS</category>
      </categories>
      <tags>
        <tag>NodeJS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS-IcoMoon]]></title>
    <url>%2F2017%2F12%2F23%2FCSS-icomoon%2F</url>
    <content type="text"><![CDATA[IcoMoon ä¸‹è¼‰icons æŒ‘é¸å¥½æƒ³è¦çš„icons ä¿®æ”¹éƒ¨ä»½è¨­å®š ç”¢ç”Ÿsassçš„cssæª” ä¿®æ”¹å¼•ç”¨çš„htmlèªžæ³•é è¨­èªžæ³•ç‚º&lt;span class=&quot;icon-book&quot;&gt;&lt;/span&gt;ï¼Œä¿®æ”¹ç‚º&lt;i class=&quot;icon-book&quot;&gt;&lt;/i&gt; ä¸‹è¼‰å­—é«” å¼•å…¥å°ˆæ¡ˆ å°‡ä¸‹è¼‰å¥½æª”æ¡ˆè§£å£“ç¸®ï¼Œè¤‡è£½ fontsè³‡æ–™å¤¾ å’Œ style.scssã€variables.scss è¤‡è£½åˆ°å°ˆæ¡ˆçš„sourceè³‡æ–™å¤¾åº•ä¸‹ ä¿®æ”¹sassçš„æª”åå’Œå…§å®¹ ä¿®æ”¹variables.scsså…§å®¹ï¼Œä¸¦æ›´æ”¹æª”åç‚º _icomoon_variables.scss 123 //ç¬¬ä¸€è¡Œ- $icomoon-font-path: "fonts" !default;+ $icomoon-font-path: "../fonts" !default; //fontsè³‡æ–™å¤¾ä¸æ˜¯åœ¨cssè³‡æ–™å¤¾åº•ä¸‹ï¼Œæ‰€ä»¥éœ€å›žä¸Šä¸€å±¤ ä¿®æ”¹style.scsså…§å®¹ï¼Œä¸¦æ›´æ”¹æª”åç‚º _icomoon.scss 123 //ç¬¬ä¸€è¡Œ- @import "variables";+ @import "_icomoon_variables"; ä¸»é  all.css å¼•å…¥ _icomoon.scss 123 @import "bootstrap"; @import "font-awesome";+ @import "icomoon"; ä½¿ç”¨iconsèªžæ³• 123&lt;i class="icon-music"&gt;&lt;/i&gt;&lt;i class="icon-mic"&gt;&lt;/i&gt;&lt;i class="icon-coin-dollar"&gt;&lt;/i&gt;]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>icon</tag>
        <tag>sass</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS-webfont å­—é«”]]></title>
    <url>%2F2017%2F12%2F22%2FCSS-Webfont%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨æ–¹æ³•12345//å¼•å…¥å­—é«”@import url(//fonts.googleapis.com/earlyaccess/notosansscsliced.css);//è¨­å®šå­—é«”font-family: 'Noto Sans SC Sliced', sans-serif; ç¯„ä¾‹See the Pen Webfont - æ€æºé«” by Kanboo (@Kanboo) on CodePen. å•é¡Œç´€éŒ„é›–ç„¶å·²æœ‰åœ¨cssè¨­å®š font-family: â€˜Noto Sans SC Slicedâ€™, sans-serif; ï¼Œä¸éŽé‚„æ˜¯æ²’å¥—ç”¨åˆ°æ–°çš„ font-family ï¼Œå› ç‚ºCSSæ¬Šé‡çš„å•é¡Œï¼Œé‚„æ˜¯ä½¿ç”¨é è¨­çš„ å¾®é«”æ­£é»‘é«”ï¼Œ å¯èƒ½æ˜¯å› ç‚º codepen æœ‰é¡å¤–åŠ  font-family è¨­å®šï¼Œå°Žè‡´ &lt;style&gt;çš„CSSæ¬Šé™ å¤§æ–¼åœ¨ CSSæª”è£¡é¢çš„å±¬æ€§è¨­å®š æ‰€ä»¥è‹¥è¦å¼·åˆ¶è½‰æ›çš„è©±ï¼Œå°±éœ€è¦åŠ  !important 1font-family: 'Noto Sans SC Sliced', sans-serif !important; åƒè€ƒæ–‡ç« è°·æ­Œæå‡ºå­—ä½“åˆ‡ç‰‡æ–¹æ¡ˆNoto Sans SC Sliced]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>webfont</tag>
        <tag>å­—é«”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS-Animation å‹•ç•«]]></title>
    <url>%2F2017%2F12%2F21%2FCSS-Animation%2F</url>
    <content type="text"><![CDATA[CSSçš„Animationåˆ†ç‚ºå…©å€‹éƒ¨åˆ†ï¼Œä¸€å€‹æ˜¯æ±ºå®šå‹•ç•«è©²å¦‚ä½•è·‘çš„ Keyframeï¼Œå¦ä¸€å€‹æ˜¯å°‡å‹•ç•«è¼‰å…¥å…ƒç´ çš„ Animationã€‚ Keyframes èªžæ³•123456789101112//ç¬¬ä¸€ç¨®å¯«æ³•@keyframes è‡ªè¨‚çš„name &#123; from &#123; ... &#125; to &#123; ... &#125;&#125;//ç¬¬äºŒç¨®å¯«æ³•@keyframes è‡ªè¨‚çš„name &#123; 0% &#123; ... &#125; 50% &#123; ... &#125; 100% &#123; ... &#125;&#125; Animation å±¬æ€§1234567//å®Œæ•´èªžæ³•animation: è‡ªè¨‚çš„name duration timing-function delay iteration-count direction fill-mode play-state;//å¸¸ç”¨å¯«æ³•animation: è‡ªè¨‚çš„name duration timing-function iteration-count;animation: time 3s linear infinite; Nameï¼š@keyframes å‹•ç•«åç¨±ã€‚ Durationï¼šå‹•ç•«æ™‚é–“ã€‚ Timing Functionï¼šå‹•ç•«é€²è¡Œçš„é€Ÿåº¦æ›²ç·šã€‚ easeï¼šæ˜¯é è¨­çš„ã€‚æ…¢é€² â†’ åŠ é€Ÿ â†’ æ¸›é€Ÿåˆ°çµæŸã€‚ ease-inï¼šæ…¢é€² â†’ åŠ é€Ÿåˆ°çµæŸã€‚ ease-outï¼šå¿«é€² â†’ æ¸›é€Ÿåˆ°çµæŸã€‚ ease-in-outï¼šé–‹å§‹è·ŸçµæŸéƒ½æ˜¯æ…¢çš„ç‹€æ…‹ã€‚ linearï¼šä»¥ç›¸åŒé€Ÿåº¦å‰é€²ã€‚ steps()ï¼šç„¡é€£çºŒçš„å‹•ä½œï¼Œç›´æŽ¥è·³è‡³å„æ­¥ ( step ) çš„æŒ‡å®š cssã€‚ cubic-bezier()ï¼šæŒ‡å®šå‹•ç•«æ»‘å‹•çš„æ›²ç·šã€‚ Delayï¼šå»¶é²å‹•ç•«é–‹å§‹çš„æ™‚é–“ã€‚ Iteration Countï¼šå‹•ç•«é‡è¤‡æ¬¡æ•¸(é è¨­ä¸€æ¬¡)ã€‚ infinite(ç„¡é™) | æ¬¡æ•¸ Directionï¼šå‹•ç•«æ’­æ”¾æ–¹å‘ã€‚ normal ï¼šæ¯æ¬¡æ’­æ”¾éƒ½æ˜¯å¾ž 0% è‡³ 100% reverse ï¼šæ¯æ¬¡æ’­æ”¾éƒ½æ˜¯å¾ž 100% è‡³ 0% alternate ï¼šæ’­æ”¾å…©æ¬¡ä»¥ä¸Šçš„è©±ï¼Œæœƒå¾ž 0% è‡³ 100% ï¼Œå†å¾ž 100% å›žåˆ° 0% ï¼Œä»¥æ­¤é¡žæŽ¨ alternate-reverse ï¼šè·Ÿ alternate ç›¸åï¼Œæœƒå…ˆå¾ž 100% é–‹å§‹æ’­æ”¾ Fill Modeï¼šæŽ§åˆ¶å‹•ç•«æ’­æ”¾å®Œå¾Œçš„æœ€çµ‚ç‹€æ…‹ã€‚ none ï¼šå›žåˆ°æœªæ’­æ”¾å‹•ç•«æ•ˆæžœå‰çš„ç‹€æ…‹ forwards ï¼šåœåœ¨å‹•ç•«çš„æœ€å¾Œä¸€å€‹ç‹€æ…‹ä¸Š backwards ï¼šåœåœ¨å‹•ç•«çš„ç¬¬ä¸€å€‹ç‹€æ…‹ä¸Š (å¯¦æ¸¬ä¸å‡ºä¾†) both ï¼šè¦– animation-direction ä¾†æ±ºå®šåœåœ¨å“ªä¸€å€‹ç‹€æ…‹ä¸Šã€‚ Play Stateï¼šæŒ‡å®šå‹•ç•«æ’­æ”¾æˆ–æš«åœã€‚ å¯ä»¥çš„é¸é …æœ‰ running|pauseï¼Œèˆ‡å½±ç‰‡çš„æ’­æ”¾ã€æš«åœæ˜¯åŒæ¨£çš„æ„æ€ï¼›é€™åœ¨èˆ‡ JS æ­é…æ™‚ï¼Œå¯å¦¥å–„æŽ§åˆ¶å‹•ç•«ã€‚ ç¯„ä¾‹ç¿»è½‰æ•ˆæžœ See the Pen CSS Animation-ç¯„ä¾‹1 by Kanboo (@Kanboo) on CodePen. æ»¾å‹•æ•ˆæžœ See the Pen CSS Animation-ç¯„ä¾‹2 by Kanboo (@Kanboo) on CodePen. åƒè€ƒæ–‡ç« CSS3 å‹•ç•«åŸºç¤ŽCSS3 AnimationAnimationå‹•ç•«æ•ˆæžœ]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>å‹•ç•«</tag>
        <tag>animattion</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS-ç·´ç¿’-è‡ªåˆ»æ™‚é˜]]></title>
    <url>%2F2017%2F12%2F20%2FCSS-Exercise-Clock%2F</url>
    <content type="text"><![CDATA[ç·´ç¿’-è‡ªåˆ»æ™‚é˜ æ­¥é©Ÿ å…ˆå»ºç«‹éª¨æž¶(HTML) 12345678&lt;div class="warp"&gt; &lt;div class="clock"&gt; &lt;div class="centerpoint"&gt;&lt;/div&gt; &lt;div class="hour"&gt;&lt;/div&gt; &lt;div class="minute"&gt;&lt;/div&gt; &lt;div class="second"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt; å°‡æ™‚é˜å…ƒä»¶åž‚ç›´ç½®ä¸­ å°‡ã€Œåœ“é»žã€æ™‚é‡ã€åˆ†é‡ã€ç§’é‡ã€ç§»è‡³æ™‚é˜çš„ä¸­å¿ƒé»žã€‚ 123456position: absolute;top: 0;bottom: 0;left: 0;right: 0;margin: auto; ä¿®æ”¹transform-originèˆ‡positionä½ç½® ä¸‹åˆ—èªªæ˜Žä»¥ æ™‚é‡ ç‚ºä¾‹(åˆ†é‡ã€ç§’é‡æ¯”ç…§è¾¦ç†)ï¼š åž‚ç›´ç½®ä¸­å¾Œçš„ æ™‚é‡ css 12345678910111213$handwidth: 7px;.hour &#123; width: $handwidth; height: 80px; background-color: blue; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;&#125; å…ˆä¿®æ”¹ transform-origin çš„è»¸å¿ƒ 12345678910111213.hour &#123; width: $handwidth; height: 80px; background-color: blue;+ //å°‡è»¸å¿ƒè®Šæ›´åˆ° ä¸­ä¸‹æ–¹ çš„ä½ç½®+ transform-origin: 50% 80%; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;&#125; åŠ ä¸Šæ—‹è½‰çš„å‹•ç•«æ•ˆæžœ 123456789101112131415161718192021.hour &#123; width: $handwidth; height: 80px; background-color: blue; //å°‡è»¸å¿ƒè®Šæ›´åˆ° ä¸­ä¸‹æ–¹ çš„ä½ç½® transform-origin: 50% 80%; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;+ animation: time 25s infinite linear;&#125;+ //æ—‹è½‰çš„å‹•ç•«æ•ˆæžœ+ @keyframes time &#123;+ to &#123;+ transform: rotate(360deg);+ &#125;+ &#125; ä¿®æ”¹ position ä½ç½® æ­¤æ™‚å¯ä»¥é–‹å•ŸChromeçš„é–‹ç™¼è€…å·¥å…·ï¼Œå…ˆåˆ©ç”¨å·¥å…·å¾®èª¿å¥½ æ™‚é‡ çš„positionä½ç½®ï¼Œè®“ä»–æ—‹è½‰æ•ˆæžœæœ‰ç¹žè‘—æ™‚é˜çš„ä¸­å¿ƒé»žæ—‹è½‰å¾Œï¼Œå†å°‡ç¨‹å¼ç¢¼è¤‡è£½è²¼å›žåŽ»ã€‚ 1234567891011121314151617181920212223.hour &#123; width: $handwidth; height: 80px; background-color: blue; //å°‡è»¸å¿ƒè®Šæ›´åˆ° ä¸­ä¸‹æ–¹ çš„ä½ç½® transform-origin: 50% 80%; position: absolute;- top: 0;+ top: -49px; bottom: 0;- left: 0;+ left: -1px; right: 0; margin: auto; animation: time 25s infinite linear;&#125;//æ—‹è½‰çš„å‹•ç•«æ•ˆæžœ@keyframes time &#123; to &#123; transform: rotate(360deg); &#125;&#125; ç¯„ä¾‹See the Pen ç·´ç¿’-è‡ªåˆ»æ™‚é˜ by Kanboo (@Kanboo) on CodePen.]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>ç·´ç¿’</tag>
        <tag>æ™‚é˜</tag>
        <tag>clock</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5 - èªžç¾©å…ƒç´ ]]></title>
    <url>%2F2017%2F12%2F18%2FHTML5-Semantics%2F</url>
    <content type="text"><![CDATA[é‡æ–°èªè­˜HTML5çš„èªžç¾©å…ƒç´  å¸¸ç”¨å…ƒç´ &lt;header&gt;å€å¡Šæ¨™é¡Œï¼Œä¸è¦æŠŠå®ƒåªç”¨ä¾†å–ä»£ &lt;div class=â€headerâ€&gt;å®ƒä¹Ÿå¯ä»¥æ˜¯æ–‡ç« çš„æ¨™é¡Œï¼Œä¸€é å¯ä»¥æœ‰å¥½å¤šå€‹ &lt;header&gt;ï¼Œ&lt;header&gt; è£¡é¢è‡³å°‘è¦æœ‰ä¸€å€‹ h1~h6ã€‚ &lt;nav&gt;å°Žè¦½åˆ—ã€‚è£¡é¢è£çš„æ±è¥¿æ‡‰è©²åªæœ‰ ä¸»è¦ çš„navigation linksï¼Œä¸è¦æŠŠå„ç¨®linkéƒ½ä¸Ÿåˆ°&lt;nav&gt;è£¡é¢ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œfooterè£¡é¢å¸¸å¸¸æœƒæœ‰ä¸€æŽ’linkï¼Œé‚£å€‹å°±ä¸éœ€è¦åŒ…é€²&lt;nav&gt;ã€‚ &lt;main&gt;ä¸€å€‹é é¢åªæœ‰ä¸€å€‹! ä»»ä½• global éƒ½ä¸èƒ½æ”¾åœ¨ main è£¡é¢( e.g. &lt;header&gt; &lt;footer&gt; logo) &lt;section&gt;é€šå¸¸ç”¨ä¾†æŠŠä¸€äº›ç›¸é—œçš„å…ƒç´ çµ„åˆåœ¨ä¸€èµ·ï¼Œä¸€èˆ¬ä¾†èªªï¼Œè£¡é¢éƒ½æœƒåŒ…å«headingã€‚å¦‚æžœé€™å€‹å€å¡Šçš„å…§å®¹å¯ä»¥åˆ†æˆå¹¾å€‹éƒ¨åˆ†çš„è©±ï¼Œé‚£æ‡‰è©²ä½¿ç”¨articleã€‚ 1234&lt;section&gt; &lt;h2&gt;Section title&lt;/h2&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec viverra nec nulla vitae mollis.&lt;/p&gt;&lt;/section&gt; &lt;article&gt;æ–‡ç« ä¸­å¯ä»¥è„«é›¢å…¶ä»–éƒ¨åˆ†ï¼Œç¨ç«‹å‡ºä¾†è€Œåˆå®Œæ•´ï¼Œç”šè‡³å¯ä»¥å¾©ç”¨çš„ä¸€éƒ¨åˆ†ï¼Œé€šå¸¸æœ‰è‡ªå·±çš„æ¨™é¡Œï¼Œç•¶articleå…§åµŒarticleæ™‚ï¼Œè£¡å¤–å±¤çš„å…§å®¹æ‡‰è©²æ˜¯ç›¸é—œçš„ï¼Œæ¯”å¦‚ä¸€ç¯‡æ–‡ç« å’Œå®ƒçš„ç•™è¨€ï¼Œè€Œsectioné›–ç„¶ä¹Ÿå…·æœ‰ç¨ç«‹è¡¨é”å…§å®¹çš„èƒ½åŠ›ï¼Œä½†æ˜¯å°å¤–å±¤æœ‰ä¸€å®šçš„ç›¸ä¾æ€§ï¼Œä¾‹å¦‚é€™ç¯‡æ–‡ç« ä¸­çš„ä¸€å€‹ç« ç¯€ã€‚ 123456789101112131415&lt;article&gt; &lt;header&gt; &lt;h3&gt; &lt;a href="/my-blog-post"&gt;My blog post&lt;/a&gt; &lt;/h3&gt; &lt;/header&gt; &lt;section&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec viverra nec nulla vitae mollis.&lt;/p&gt; &lt;/section&gt; &lt;footer&gt; &lt;small&gt; Posted on &lt;time datetime="2017-04-29T19:00"&gt;Apr 29&lt;/time&gt; in &lt;a href="/category/code"&gt;Code&lt;/a&gt; &lt;/small&gt; &lt;/footer&gt;&lt;/article&gt; &lt;aside&gt;é€šå¸¸ç”¨ä¾†åŒ…å«ä¸€äº›å’Œç•¶å‰é é¢å…§å®¹æœ‰é—œçš„é¡å¤–ä¿¡æ¯ï¼Œæ¯”å¦‚å»£å‘Šã€å€‹äººè³‡æ–™ä¿¡æ¯æˆ–ç›¸é—œé€£çµã€‚ &lt;footer&gt;é€šå¸¸åŒ…å«ä½œè€…ã€ç‰ˆæ¬Šä¿¡æ¯æˆ–è€…ç›¸é—œéˆæŽ¥ç­‰ã€‚ ç°¡æ˜“åˆ†è¾¦ &lt;section&gt;&lt;article&gt;&lt;article&gt;: å°±ç®—è„«é›¢äº†æ•´é«”ä¹Ÿæ˜¯ä¸€å€‹å¯ä»¥ç¨ç«‹å­˜åœ¨ã€å…·æœ‰å®Œæ•´å…§å®¹çš„å€å¡Šï¼Œä¾‹å¦‚é€™ç¯‡æ–‡ç« ã€‚&lt;section&gt;: å…·æœ‰ç¨ç«‹è¡¨é”å…§å®¹çš„èƒ½åŠ›ï¼Œä½†æ˜¯å°å¤–å±¤æœ‰ä¸€å®šçš„ç›¸ä¾æ€§ï¼Œä¾‹å¦‚é€™ç¯‡æ–‡ç« ä¸­çš„ä¸€å€‹ç« ç¯€ã€‚ ä¸‹é¢æ˜¯ç°¡å–®çš„å•é¡Œï¼Œè®“æˆ‘å€‘æ±ºå®šè¦ç”¨ &lt;section&gt; / &lt;article&gt; / &lt;div&gt; å…·æœ‰å®Œæ•´å…§å®¹çš„å€å¡Šï¼Œè€Œä¸”å¯ä»¥å‡ºç¾åœ¨ä½ çš„é–±è®€å™¨å…§å—Ž? æ˜¯çš„è©±å°±æ˜¯ &lt;article&gt; è·Ÿä¸»è¦å…§å®¹æ˜¯æœ‰ç›¸é—œä¸¦ä¸”åˆ—å…¥ outline è£¡ä¸æœƒå¥‡æ€ªçš„? æ˜¯çš„è©±å°±æ˜¯ &lt;section&gt; è·Ÿå…§å®¹ç„¡é—œæˆ–åªç”¨ä¾† styling çš„? æ˜¯çš„è©±å°±æ˜¯ &lt;div&gt; å»ºè­°çš„æž¶æ§‹ç¯„ä¾‹ åƒè€ƒæ–‡ç« ç»“æž„æ€§å…ƒç´ HTML5 Semantic ElementsHTML5 SemanticsSemantic in HTML5]]></content>
      <categories>
        <category>HTML5</category>
      </categories>
      <tags>
        <tag>HTML5</tag>
        <tag>èªžç¾©æž¶æ§‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS-åž‚ç›´ç½®ä¸­çš„æ–¹æ³•]]></title>
    <url>%2F2017%2F12%2F17%2FCSS-vertical-align%2F</url>
    <content type="text"><![CDATA[æ•´ç†å¸¸ç”¨CSSå¸¸ç”¨çš„ åž‚ç›´ç½®ä¸­ çš„æ–¹æ³•ã€‚ æ–‡å­—çš„åž‚ç›´ç½®ä¸­æ–¹æ³•æ­¤æ–¹æ³•é©ç”¨ å–®è¡Œï¼Œå› ç‚ºæ˜¯è¡Œé«˜ï¼Œæ‰€ä»¥æœƒåœ¨è¡Œå…§å…ƒç´ çš„ä¸Šä¸‹éƒ½åŠ ä¸Šè¡Œé«˜çš„ 1/2 ï¼Œå¦‚æžœå¤šè¡Œï¼Œç¬¬äºŒè¡Œèˆ‡ç¬¬ä¸€è¡Œçš„é–“è·æœƒè®Šè¶…å¤§ï¼Œå°±æœƒå°Žè‡´æ²’æœ‰åž‚ç›´ç½®ä¸­çš„æ•ˆæžœã€‚ 123456789// height å’Œ line-height è¦ä¸€æ¨£é«˜.div0,.div1 &#123; width: 300px;+ height: 250px;+ line-height: 250px; text-align: center; border: 1px solid #000;&#125; See the Pen åž‚ç›´ç½®ä¸­ - line-height by Kanboo (@Kanboo) on CodePen. calc &amp; transformä½¿ç”¨ calc å‹•æ…‹è¨ˆç®—çš„èƒ½åŠ›ï¼Œè®“è¦ç½®ä¸­çš„ div çš„ top å±¬æ€§ï¼Œèˆ‡ä¸Šæ–¹çš„è·é›¢æ˜¯ã€Œ50% çš„å¤–æ¡†é«˜åº¦ + 50% çš„ div é«˜åº¦ã€ï¼Œå°±å¯ä»¥åšåˆ°åž‚ç›´ç½®ä¸­ã€‚ ç¯„ä¾‹1ï¼šè¨­å®štopï¼š50%ï¼Œå†æ‰£æŽ‰ div çš„ é«˜åº¦/2 æ–¹æ³•1ï¼štop: calc( 50% - (é«˜åº¦/2) ) æ–¹æ³•2ï¼štop: 50%; margin-top: -(é«˜åº¦/2); æ–¹æ³•3ï¼štop: 50%; transform: translateY(-50%); è‡ªè¡Œè¨ˆç®—50%çš„divé«˜åº¦ 1234567891011121314151617181920212223242526272829.redbox &#123; background: #c00; float: left;+ position: relative; //è¦å®£å‘Špositionï¼Œæ‰èƒ½ä½¿ç”¨ topã€left width: 30px;- //è¨ˆç®—æ–¹æ³•1+ height: 30px;+ top: calc(50% - 15px); //é«˜ï¼š30/2=15 &#125; .greenbox &#123; background: #0c0; float: left; position: relative; width: 30px;- //è¨ˆç®—æ–¹æ³•2+ height: 80px;+ top: 50%;+ margin-top: -40px; //é«˜ï¼š80/2=40 &#125; .bluebox &#123; background: #00f; float: left; position: relative; width: 30px; height: 50px;- //è¨ˆç®—æ–¹æ³•3+ top:50%;+ transform: translateY(-50%); &#125; See the Pen åž‚ç›´ç½®ä¸­ - calc å‹•æ…‹è¨ˆç®—1 by Kanboo (@Kanboo) on CodePen. ç¯„ä¾‹2ï¼šå°‡ä¸‰å€‹divè¨­å®šå¯¬é«˜å„30pxï¼Œå°‡æ»‘é¼ ç§»åˆ°é»‘æ¡†å…§ï¼Œå¯è§€çœ‹æ•ˆæžœã€‚ See the Pen åž‚ç›´ç½®ä¸­ - calc å‹•æ…‹è¨ˆç®—2 by Kanboo (@Kanboo) on CodePen. çµ•å°å®šä½åˆ©ç”¨çµ•å°ä½ç½®ä¾†æŒ‡å®šï¼Œè¦å°‡ ä¸Šä¸‹ çš„æ•¸å€¼éƒ½è¨­ç‚º 0ï¼Œå†æ­é…ä¸€å€‹ margin:autoï¼Œå°±å¯ä»¥è¾¦åˆ°åž‚ç›´ç½®ä¸­ã€‚ é‚è¼¯ï¼šé€™å€‹æ–¹æ³•åŒæ™‚è¨­å®štopå’Œbottomç‚º0ï¼Œä½¿å¾—é€™å€‹divå®Œå…¨ä¸å¯èƒ½ç¬¦åˆï¼Œæœ€å¾Œå†é€éŽmarginé€™å€‹æŒ‡ä»¤ï¼Œè®“å®ƒé”åˆ°åž‚ç›´ç½®ä¸­çš„æ•ˆæžœ 123456789101112131415161718 .redbox &#123;- // åž‚ç›´ç½®ä¸­ background: #c00; position: absolute; //è¦å®£å‘Šï¼Œæ‰èƒ½ä½¿ç”¨ topã€left+ top: 0;+ bottom: 0;+ margin: auto; &#125; .bluebox &#123;- // åž‚ç›´ç½®ä¸­ + æ°´å¹³ç½®ä¸­ background: blue; position: absolute; //è¦å®£å‘Šï¼Œæ‰èƒ½ä½¿ç”¨ topã€left top: 0; bottom: 0;+ left: 0;+ right: 0; margin: auto; &#125; See the Pen åž‚ç›´ç½®ä¸­ - çµ•å°å®šä½ by Kanboo (@Kanboo) on CodePen. FlexboxCSS3 æœ€å¨çš„ç›’å­æ¨¡åž‹ï¼šFlexboxï¼Œä½¿ç”¨ align-items æˆ– align-content çš„å±¬æ€§ï¼Œ è¼•è¼•é¬†é¬†å°±å¯ä»¥åšåˆ°åž‚ç›´ç½®ä¸­çš„æ•ˆæžœå–”ï¼ŒBootstrap 4 ä¹Ÿæœ‰ç”¨å–”ã€‚ 1234567891011121314.div0 &#123;+ display: flex;+ align-items: center;+ justify-content: center; width: 150px; height: 150px; border: 1px solid #000; .redbox &#123; width: 30px; height: 30px; background: #c00; &#125;&#125; See the Pen åž‚ç›´ç½®ä¸­ - Flexbox by Kanboo (@Kanboo) on CodePen. åƒè€ƒæ–‡ç« CSS åž‚ç›´ç½®ä¸­çš„ä¸ƒå€‹æ–¹æ³•CSSåž‚ç›´ç½®ä¸­çš„æ–¹æ³•]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>vertical-align</tag>
        <tag>åž‚ç›´ç½®ä¸­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS-transform 2D]]></title>
    <url>%2F2017%2F12%2F16%2FCSS-transform-2D%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨ transform å°‡å…ƒç´ åŠ å…¥ ä½ç§»ã€æ—‹è½‰ã€ç¸®æ”¾å’Œå‚¾æ–œ çš„æ•ˆæžœã€‚ åŸºæœ¬èªžæ³•transform å±¬æ€§å¯ä»¥è¨­å®š ä¸€å€‹ æˆ– å¤šå€‹ çš„åƒæ•¸ï¼Œè‹¥è¨­å®šå¤šå€‹åƒæ•¸çš„è©±ï¼Œä¸­é–“çš„å€éš”ä½¿ç”¨ ç©ºç™½ å³å¯ã€‚ 123transform: ç¬¬ä¸€å€‹åƒæ•¸ ç¬¬äºŒå€‹åƒæ•¸ ...transform: translate(100px) rotate(20deg); å¸¸ç”¨çš„åƒæ•¸å¦‚ä¸‹åˆ— ä½ç§» - translate()ã€translateX()ã€translateY() æ—‹è½‰ - rotate() ç¸®æ”¾ - scale()ã€scaleX()ã€scaleY() å‚¾æ–œ - skew()ã€skewX()ã€skewY() ä½ç§»translateèªžæ³• è‹¥è¨­å®šäºŒå€‹ï¼Œç”¨ é€—è™Ÿ å€éš” translate(tx) â†’ è‹¥åƒ…è¨­å®šä¸€å€‹åƒæ•¸ï¼Œä»£è¡¨åª ä½ç§»X translate(tx, ty) è¨­å®š Xè»¸ ä½ç§» translateX() è¨­å®š Yè»¸ ä½ç§» translateY() ç¯„ä¾‹ ä½ç§» Xè»¸ 50px,ä½ç§» Yè»¸ 50px 12345.moved &#123; transform: translate( 50px, 50px); // ä¸Šä¸‹äºŒæ®µèªžæ³•ï¼Œçµæžœä¸€æ¨£ transform: translateX( 50px) translateY( 50px);&#125; See the Pen transform-translate by Kanboo (@Kanboo) on CodePen. æ—‹è½‰rotateèªžæ³• rotate( æ—‹è½‰è§’åº¦ ) =&gt; rotate( 20deg ) æ—‹è½‰30åº¦è§’ = 30degæ—‹è½‰90åº¦è§’ = 90deg ç¯„ä¾‹ æ—‹è½‰45åº¦è§’ 123.rotate &#123; transform: rotate( 45deg);&#125; See the Pen transform-rotate by Kanboo (@Kanboo) on CodePen. ç¸®æ”¾scaleèªžæ³• åƒæ•¸é è¨­å¤§å°ç‚º 1 ï¼Œè‹¥è¨­å®š å°æ–¼ 1 å°±æ˜¯ ç¸®å°ï¼Œå¤§æ–¼ 1 å°±æ˜¯ æ”¾å¤§ã€‚ è‹¥è¨­å®šäºŒå€‹ï¼Œç”¨ é€—è™Ÿ å€éš” scale(sx) â†’ è‹¥åƒ…è¨­å®šä¸€å€‹åƒæ•¸ï¼Œä»£è¡¨åŒæ™‚ç¸®æ”¾ X å’Œ Y scale(sx, sy) ç¸®æ”¾ Xè»¸ scaleX() ç¸®æ”¾ Yè»¸ scaleY() ç¯„ä¾‹ ç¸®å°è‡³0.7å€ 12345.scaled &#123; transform: scale(0.7); // ä¸Šä¸‹äºŒæ®µèªžæ³•ï¼Œçµæžœä¸€æ¨£ transform: scaleX(0.7) scaleY(0.7);&#125; See the Pen transform-scale by Kanboo (@Kanboo) on CodePen. å‚¾æ–œskewèªžæ³• è‹¥è¨­å®šäºŒå€‹ï¼Œç”¨ é€—è™Ÿ å€éš” skew(ax) â†’ è‹¥åƒ…è¨­å®šä¸€å€‹åƒæ•¸ï¼Œä»£è¡¨åª å‚¾æ–œX skew(ax, ay) å‚¾æ–œ Xè»¸ skewX() å‚¾æ–œ Yè»¸ skewY() ç¯„ä¾‹ skewed1 å‚¾æ–œ X , skewed1 å‚¾æ–œ X å’Œ Y 1234567891011 .skewed1 &#123; transform: skew(10deg); // ç­‰åŒ skewX(10deg) transform: skewX(10deg);&#125;.skewed2 &#123; transform: skew(10deg, 10deg); // ç­‰åŒ skewX(10deg) skewY(10deg) transform: skewX(10deg) skewY(10deg);&#125; See the Pen transform-skew by Kanboo (@Kanboo) on CodePen.]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>transform</tag>
        <tag>2D</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS-transform-origin è»¸å¿ƒ]]></title>
    <url>%2F2017%2F12%2F15%2FCSS-transform-origin%2F</url>
    <content type="text"><![CDATA[åœ¨å­¸ç¿’ transform ä¹‹å‰ï¼Œå…ˆäº†è§£ transform-origin è»¸å¿ƒ æ€Žéº¼è®ŠåŒ–ï¼Ÿ èªªæ˜Žåœ¨æ’°å¯«CSS transform æ™‚ï¼Œé è¨­çš„ è»¸å¿ƒ æ˜¯åœ¨Boxçš„æ­£ä¸­å¤®ä½ç½®(å¦‚ä¸‹åœ–)ï¼Œ æ‰€ä»¥è¦è£½ä½œä¸€äº›æ¯”è¼ƒç‰¹åˆ¥çš„æ•ˆæžœçš„è©±ï¼Œå¦‚ï¼šæ™‚é–“ã€é–‹é–€ â€¦ç­‰ å°±åˆ©ç”¨è®Šæ›´è»¸å¿ƒçš„ä½ç½®ï¼Œå†é…åˆ transform ä¾†é”æˆã€‚ 1transform-origin: x y; ç¯„ä¾‹ï¼šåˆ©ç”¨ transform: rotate(90deg) æ—‹è½‰ 90åº¦ï¼Œå‘ˆç¾å›  è»¸å¿ƒä½ç½®ä¸åŒ ï¼Œè€Œæ—‹è½‰çš„çµæžœæœ‰ä½•ä¸ä¸€æ¨£ã€‚ C è»¸å¿ƒï¼š æ­£ä¸­é–“(é è¨­) F è»¸å¿ƒï¼š å³ä¸‹è§’ E è»¸å¿ƒï¼š å·¦é‚Šä¸­é–“ See the Pen transform-origin æ›´æ”¹è»¸å¿ƒ by Kanboo (@Kanboo) on CodePen. å…¶ä»–ç¯„ä¾‹teaching transform-originTransform Origin Examples åƒè€ƒæ–‡ç« CSSæ²’æœ‰æ¥µé™ - CSS transform-origin]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>transform</tag>
        <tag>transform-origin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-Browsersync]]></title>
    <url>%2F2017%2F12%2F15%2FHexo-Browsersync%2F</url>
    <content type="text"><![CDATA[å¯¦ç¾æ’°å¯«æ–‡ç« æ™‚ï¼Œå¯è‡ªå‹•åˆ·æ–°é é¢é è¦½ï¼Œä¸ç”¨å†æ‰‹å‹•F5äº†ã€‚ å‰è¨€å¯¦ç¾åˆ·æ–°åŠŸèƒ½ï¼Œéœ€è¦å®Œæˆçš„äº‹æƒ…æœ‰ï¼š å®‰è£å¥—ä»¶ Hexo-Browsersync è§£æ±ºæ–‡ç« å¤ªé•·-æ¸²æŸ“å¤±æ•—Bug åŸ·è¡Œ hexo serverï¼Œå³å¯ã€‚ æ“ä½œæ­¥éª¤1.å®‰è£å¥—ä»¶1$ npm install hexo-browsersync --save 2.ä¿®æ­£Bug å®‰è£ hexo-renderer-jade æ’ä»¶ 1$ npm install hexo-renderer-jade --save åœ¨ä½ çš„ node_modules æ–‡ä»¶å¤¾è£¡æ‰¾åˆ° hexo-renderer-pug çš„æ–‡ä»¶å¤¾ï¼Œç„¶å¾Œå°‡è£¡é¢ lib/renderer.js çš„å…¶ä¸­ä¸€è¡Œä»£ç¢¼ è¨»è§£ æŽ‰ï¼š 1//pugRenderer.compile = pugCompile; æ–°å¢ž _config.yml çš„è¨­å®šã€‚ åƒè€ƒï¼šissue æ–°å¢žè·¯å¾‘ï¼š~/blog/_config.yml12server: compress: true #é–‹å•Ÿå£“ç¸® 3.åŸ·è¡Œ1$ hexo s å•Ÿå‹• hexo server å¾Œï¼Œä½ æœƒçœ‹åˆ°ä¸‹åˆ—çš„è¨Šæ¯ 12345678INFO Start processing[Browsersync] Access URLs: -------------------------------------- UI: http://localhost:3001 -------------------------------------- UI External: http://192.168.1.135:3001 --------------------------------------INFO Hexo is running at http://localhost:4000/. Press Ctrl+C to stop. port:3001 å¯ä¿®æ”¹ browsersync ç›¸é—œè¨­å®šã€‚port:4000 Blogçš„é è¦½ç•«é¢ã€‚ åƒè€ƒæ–‡ç« Hexo å®žçŽ°å®žæ—¶é¢„è§ˆç¼–è¾‘Hexoä¸é‡æ–°ç”Ÿæˆä¹Ÿå¯é¢„è§ˆä¿®æ­£æ¸²æŸ“ä¸å…¨å•é¡Œ]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Browsersync</tag>
        <tag>é é¢è‡ªå‹•åˆ·æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-è¤‡è£½åŠŸèƒ½]]></title>
    <url>%2F2017%2F12%2F15%2FHexo-clipboard%2F</url>
    <content type="text"><![CDATA[å¯¦ç¾ç¨‹å¼ç¢¼å€å¡Šï¼Œå¯é€²è¡Œ Ctrl + C å‰è¨€å¯¦ç¾è¤‡è£½åŠŸèƒ½ï¼Œéœ€è¦å®Œæˆçš„äº‹æƒ…æœ‰ï¼š ä¸‹è½½æ’ä»¶clipboard.js æ’å…¥JavaScript æ’å…¥ä¸»é¢˜ä¸­ æ“ä½œæ­¥éª¤1.ä¸‹è¼‰æ’ä»¶clipboard.jså°‡ä¸‹è¼‰å¥½çš„ clipboard.js æ”¾ç½®ä¸‹åˆ—è·¯å¾‘ï¼Œ ç›®éŒ„zclip ç‚ºæ­¤æ¬¡ æ–°å¢ž ã€‚ ~blog/themes/next/source/lib/zclip/clipboard.min.js clipboard.jsä¸‹è¼‰ä½å€ï¼šGitHub 2.æ–°å¢žJavaScriptæ–°å¢ž æ–‡ä»¶ custom.js ï¼Œç›®éŒ„å¦‚ä¸‹ï¼š æ–°å¢žJSæ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/source/js/src/custom.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103//æ­¤å‡½æ•°ç”¨äºŽåˆ›å»ºå¤åˆ¶æŒ‰é’®function createCopyBtns() &#123; var $codeArea = $("figure table"); //æŸ¥çœ‹é¡µé¢æ˜¯å¦å…·æœ‰ä»£ç åŒºåŸŸï¼Œæ²¡æœ‰ä»£ç å—åˆ™ä¸åˆ›å»º å¤åˆ¶æŒ‰é’® if ($codeArea.length &gt; 0) &#123; //å¤åˆ¶æˆåŠŸåŽå°†è¦å¹²çš„äº‹æƒ… function changeToSuccess(item) &#123; $imgOK = $("#copyBtn").find("#imgSuccess"); if ($imgOK.css("display") == "none") &#123; $imgOK.css(&#123; opacity: 0, display: "block" &#125;); $imgOK.animate(&#123; opacity: 1 &#125;, 1000); setTimeout(function() &#123; $imgOK.animate(&#123; opacity: 0 &#125;, 2000); &#125;, 2000); setTimeout(function() &#123; $imgOK.css("display", "none"); &#125;, 4000); &#125;; &#125;; //åˆ›å»º å…¨å±€å¤åˆ¶æŒ‰é’®ï¼Œä»…æœ‰ä¸€ç»„ã€‚åŒ…å«ï¼šå¤åˆ¶æŒ‰é’®ï¼Œå¤åˆ¶æˆåŠŸå“åº”æŒ‰é’® //å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š1.æŒ‰é’®é»˜è®¤éšè—ï¼Œ2.ä½ç½®ä½¿ç”¨ç»å¯¹ä½ç½® position: absolute; (position: fixed ä¹Ÿå¯ä»¥ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ) $(".post-body").before('&lt;div id="copyBtn" style="opacity: 0; position: absolute;top:0px;display: none;line-height: 1; font-size:1.5em"&gt;&lt;span id="imgCopy" &gt;&lt;i class="fa fa-paste fa-fw"&gt;&lt;/i&gt;&lt;/span&gt;&lt;span id="imgSuccess" style="display: none;"&gt;&lt;i class="fa fa-check-circle fa-fw" aria-hidden="true"&gt;&lt;/i&gt;&lt;/span&gt;'); //åˆ›å»º å¤åˆ¶ æ’ä»¶ï¼Œç»‘å®šå•æœºæ—¶é—´åˆ° æŒ‡å®šå…ƒç´ ï¼Œæ”¯æŒJQuery var clipboard = new Clipboard('#copyBtn', &#123; target: function() &#123; //è¿”å›žéœ€è¦å¤åˆ¶çš„å…ƒç´ å†…å®¹ return document.querySelector("[copyFlag]"); &#125;, isSupported: function() &#123; //æ”¯æŒå¤åˆ¶å†…å®¹ return document.querySelector("[copyFlag]"); &#125; &#125;); //å¤åˆ¶æˆåŠŸäº‹ä»¶ç»‘å®š clipboard.on('success', function(e) &#123; //æ¸…é™¤å†…å®¹è¢«é€‰æ‹©çŠ¶æ€ e.clearSelection(); changeToSuccess(e); &#125;); //å¤åˆ¶å¤±è´¥ç»‘å®šäº‹ä»¶ clipboard.on('error', function(e) &#123; console.error('Action:', e.action); console.error('Trigger:', e.trigger); &#125;); //é¼ æ ‡ åœ¨å¤åˆ¶æŒ‰é’®ä¸Šæ»‘åŠ¨å’Œç¦»å¼€åŽæ¸å˜æ˜¾ç¤º/éšè—æ•ˆæžœ $("#copyBtn").hover( function() &#123; $(this).stop(); $(this).css("opacity", 1); &#125;, function() &#123; $(this).animate(&#123; opacity: 0 &#125;, 2000); &#125; ); &#125;&#125;//æ„Ÿåº”é¼ æ ‡æ˜¯å¦åœ¨ä»£ç åŒº$("figure").hover( function() &#123; //-------é¼ æ ‡æ´»åŠ¨åœ¨ä»£ç å—å†… //ç§»é™¤ä¹‹å‰å«æœ‰å¤åˆ¶æ ‡å¿—ä»£ç å—çš„ copyFlag $("[copyFlag]").removeAttr("copyFlag"); //åœ¨æ–°çš„ï¼ˆå½“å‰é¼ æ ‡æ‰€åœ¨ä»£ç åŒºï¼‰ä»£ç å—æ’å…¥æ ‡å¿—ï¼šcopyFlag $(this).find(".code").attr("copyFlag", 1); //èŽ·å–å¤åˆ¶æŒ‰é’® $copyBtn = $("#copyBtn"); if ($copyBtn.lenght != 0) &#123; //èŽ·å–åˆ°æŒ‰é’®çš„å‰æä¸‹è¿›è¡Œä¸€ä¸‹æ“ä½œ //åœæ­¢æŒ‰é’®åŠ¨ç”»æ•ˆæžœ //è®¾ç½®ä¸º æ˜¾ç¤ºçŠ¶æ€ //ä¿®æ”¹ å¤åˆ¶æŒ‰é’® ä½ç½®åˆ° å½“å‰ä»£ç å—å¼€å§‹éƒ¨ä½ //è®¾ç½®ä»£ç å— å·¦ä¾§ä½ç½® $copyBtn.stop(); $copyBtn.css("opacity", 0.8); $copyBtn.css("display", "block"); $copyBtn.css("top", parseInt($copyBtn.css("top")) + $(this).offset().top - $copyBtn.offset().top + 2); // $copyBtn.css("right", -$copyBtn.width() - 3); $copyBtn.css("right", 0); &#125; &#125;, function() &#123; //-------é¼ æ ‡ç¦»å¼€ä»£ç å— //è®¾ç½®å¤åˆ¶æŒ‰é’®å¯è§åº¦ 2ç§’å†…åˆ° 0 $("#copyBtn").animate(&#123; opacity: 0 &#125;, 2000); &#125;);//é¡µé¢è½½å…¥å®ŒæˆåŽï¼Œåˆ›å»ºå¤åˆ¶æŒ‰é’®$(document).ready(function() &#123; createCopyBtns();&#125;); 3.æ›´æ–°ä¸»é¢˜æ–°å¢ž æ–‡ä»¶custom.swigï¼Œç›®éŒ„å¦‚ä¸‹ï¼š æ–°å¢žä½ç½®ï¼š~/blog/themes/next/layout/_custom/custom .swig12&lt; script type = "text/javascript" src = "/lib/zclip/clipboard.min.js" &gt;&lt;/ script &gt; &lt; script type = "text/javascript" src = "/js/src/custom.js" &gt;&lt;/ script &gt; ä¿®æ”¹ æ–‡ä»¶_layout.swigï¼Œç›®éŒ„å¦‚ä¸‹ï¼š ä¿®æ”¹ä½ç½®ï¼š~/blog/themes/next/layout/ _layout .swig12345678910111213141516&lt;!doctype html&gt;...&lt; html class = "&#123;&#123; html_class | lower &#125;&#125;" lang = "&#123;&#123; config.language &#125;&#125;" &gt;&lt; head &gt; ...&lt;/ head &gt;&lt; body itemscope itemtype = "http://schema.org/WebPage" lang = "&#123;&#123; page.lang || page.language || config.language &#125;&#125;" &gt; ... ... &#123;% include '_third-party/mathjax.swig' %&#125; &#123;% include '_third-party/scroll-cookie.swig' %&#125; &#123;% include '_third-party/exturl.swig' %&#125;+ &#123;% include '_custom/custom.swig' %&#125;&lt;/ body &gt;&lt;/ html &gt; åœ¨æ–‡ä»¶ä¸­å‰ä¸€è¡Œæ’å…¥æ–‡ä»¶å¼•ç”¨ï¼Œå¦‚ç¬¬15è¡Œæ•ˆæžœã€‚1&#123;% include &apos;_custom/custom.swig&apos; %&#125; åƒè€ƒæ–‡ç« HEXOå„ªåŒ–ä¹‹ï¼ˆäºŒï¼‰â€”-æ·»åŠ è¤‡åˆ¶åŠŸèƒ½]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>clipboard</tag>
        <tag>è¤‡è£½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-ç•™è¨€ç‰ˆ]]></title>
    <url>%2F2017%2F12%2F13%2FHexo-Comment%2F</url>
    <content type="text"><![CDATA[å‰è¨€ æ–°å¢ž Hexo çš„ç•™è¨€ç‰ˆï¼Œéœ€è¦å®Œæˆçš„äº‹æƒ…æœ‰ï¼š è¨»å†Š Disqus çš„å¸³è™Ÿ æ–°å»º Disqus çš„ website é…ç½® Hexo æ“ä½œæ­¥éª¤1.è¨»å†Š Disqus çš„å¸³è™ŸDisqusç¶²å€ï¼šhttps://disqus.com/ æ‰“é–‹éˆæŽ¥å¾Œï¼Œ å¯ä»¥ç›´æŽ¥ç”¨Facebookï¼ŒTwitterä»¥åŠGoogle ç™»éŒ„ï¼Œä¹Ÿå¯ä»¥ç”¨éƒµç®±è¨»å†Šå¾Œç™»éŒ„ã€‚ 2.å»ºç«‹ Disqus website é»žæ“Š GET STARTED é–‹å§‹å»ºç«‹ website é»žæ“Šä¸‹é¢ I want to install Disqus on my site å¡«å¯« Website Nameï¼Œé€™æ˜¯ çŸ­åç¨±ï¼Œç”¨æ–¼å’Œ Hexoé€£çµçš„ Keyå€¼ã€‚ ç›´æŽ¥é»žæ“Š Configure Disqus å¡«å¯« Website URL ï¼Œé€™æ˜¯ä½  Blogçš„ç¶²å€ å»ºç«‹å®Œæˆç•«é¢ 3.é…ç½® Hexoä¸»é¡Œé…ç½®ä¸»é¡Œ ä¸‹é¢çš„ config.yml æ–‡ä»¶ï¼Œè·¯å¾‘ï¼š ~blog/themes/next/_config.yml å°‡ Disqusä¸‹çš„ enable è¨­å®šç‚º true ã€‚ åŒæ™‚å¡«å¯«æ‚¨çš„ shortname(çŸ­åç¨±)ã€‚ count ç”¨æ–¼æŒ‡å®šæ˜¯å¦é¡¯ç¤ºè©•è«–æ•¸é‡ã€‚ 12345# Disqusdisqus: enable: true shortname: kanbooBlog count: true ä¸Šè¿°æ­¥é©Ÿè¨­ç½®å®Œæˆå¾Œï¼Œæ›´æ–°Blog 123$ hexo clean$ hexo g$ hexo d åƒè€ƒè³‡æ–™Hexo é›†æˆDisqus è©•è«–Hexoæ­å»ºåšå®¢ç³»åˆ—ï¼šï¼ˆå…­ï¼‰Hexoæ·»åŠ Disqusè©•è«–Next-è¯„è®ºç³»ç»Ÿ]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Comment</tag>
        <tag>Disqus</tag>
        <tag>ç•™è¨€ç‰ˆ</tag>
        <tag>è©•è«–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-æ–‡ç« ç½®é ‚]]></title>
    <url>%2F2017%2F12%2F13%2FHexo-Topfeatures%2F</url>
    <content type="text"><![CDATA[å‰è¨€è§£æ±ºHexoç½®é ‚å•é¡Œï¼Œéœ€è¦å®Œæˆçš„äº‹æƒ…æœ‰ï¼š å°‡ç›®å‰ node_modules/hexo-generator-index/lib/generator.js ç¨‹å¼ç¢¼æ›¿æ› åœ¨éœ€è¦ç½®é ‚çš„æ–‡ç« çš„å‰äº‹ä¸­æ·»åŠ é ‚å€¼ï¼Œå€¼è¶Šå¤§è¶Šç½®é ‚ã€‚ æ“ä½œæ­¥éª¤ æ›¿æ› generator.js ç¨‹å¼ç¢¼ 12345678910111213141516171819202122232425'use strict';var pagination = require('hexo-pagination');module.exports = function(locals) &#123; var config = this.config; var posts = locals.posts; posts.data = posts.data.sort(function(a, b) &#123; if (a.top &amp;&amp; b.top) &#123; // å…©ç¯‡æ–‡ç« topéƒ½æœ‰å®šç¾© if (a.top == b.top) return b.date - a.date; // è‹¥topå€¼ä¸€æ ·å‰‡æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ else return b.top - a.top; // å¦å‰‡æŒ‰ç…§topå€¼é™åºæŽ’ &#125; else if (a.top &amp;&amp; !b.top) &#123; // ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« topæœ‰å®šç¾©ï¼Œé‚£éº¼å°†æœ‰topçš„æŽ’åœ¨å‰é¢ return -1; &#125; else if (!a.top &amp;&amp; b.top) &#123; return 1; &#125; else return b.date - a.date; // éƒ½æ²’å®šç¾©æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ &#125;); var paginationDir = config.pagination_dir || 'page'; return pagination('', posts, &#123; perPage: config.index_generator.per_page, layout: ['index', 'archive'], format: paginationDir + '/%d/', data: &#123; __index: true &#125; &#125;);&#125;; è‹¥æ‰¾ä¸åˆ° node_modules/hexo-generator-index/lib/generator.js çš„è©±ï¼Œè«‹å…ˆå®‰è£ hexo-generator-indexã€‚ æŒ‡ä»¤ï¼š npm i --save hexo-generator-index åœ¨éœ€è¦ç½®é¡¶çš„æ–‡ç« çš„ä¸­æ·»åŠ  top å€¼ï¼Œå€¼è¶Šå¤§è¶Šç½®é¡¶ã€‚ 123title: Hexo-æ–‡ç« ç½®é ‚date: 2017-12-13 09:29:37top: 100 åƒè€ƒè³‡æ–™hexoç½®é¡¶åŠŸèƒ½Hexoæ–‡ç« ç½®é¡¶]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Top</tag>
        <tag>ç½®é ‚</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS-transition è½‰å ´æ•ˆæžœ]]></title>
    <url>%2F2017%2F12%2F12%2FCSS-Transition%2F</url>
    <content type="text"><![CDATA[è½‰å ´æ˜¯å¾ž A ç‹€æ…‹ï¼Œè½‰è®Šæˆ B ç‹€æ…‹ï¼Œä¸­é–“çš„éŽç¨‹ï¼Œå°±å«è½‰å ´ï¼Œåœ¨ CSS ä¸­å«åš transitionã€‚ èªžæ³•1234567891011transition: property duration timing-function delay;transition: å¥—ç”¨çš„å±¬æ€§ èŠ±è²»æ™‚é–“ æ™‚é–“é€ŸçŽ‡ ç­‰å¾…æ™‚é–“;transition: all 2s ease-out 1s;// ç­‰åŒæ–¼ï¼štransition-property: all; // default: alltransition-duration: 2s; // default: 0ï¼›2s è¡¨ç¤º 2 ç§’ï¼›2ms è¡¨ç¤º 2 æ¯«ç§’ã€‚transition-timing-function: ease-out;transition-delay: 1s; // é–‹å§‹é€²è¡Œè½‰å ´æ•ˆæžœä¹‹å‰ï¼Œæ‰€è¦ç­‰å¾…çš„æ™‚é–“ã€‚ transition-timing-function æ™‚é–“é€ŸçŽ‡ See the Pen transition å„ç¨®é€ŸçŽ‡ by Kanboo (@Kanboo) on CodePen. ç¯„ä¾‹ç¯„ä¾‹ 1ï¼šhoverSee the Pen Transition - hover by Kanboo (@Kanboo) on CodePen. ç¯„ä¾‹ 2ï¼šè¨­å®šTwo CSS propertiesSee the Pen Transition - è¨­å®šTwo CSS properties by Kanboo (@Kanboo) on CodePen. ç‰¹åˆ¥çš„é»žï¼š12//è¨­å®šäºŒå€‹ CSSå±¬æ€§ï¼Œè¨­å®šä¸åŒ æ™‚é–“ã€é€ŸçŽ‡..ç­‰transition: background .2s linear, border-radius 1s ease-in 1s; ä¸Šé¢æ¡ˆä¾‹ï¼Œç‰¹åˆ¥æ–¼åœ¨ :hover æ™‚ï¼Œæœ‰æ”¹è®Š èƒŒæ™¯è‰² å’Œ åœ“è§’ æ•ˆæžœï¼Œä¸éŽåœ¨ transition çš„è¨­å®šï¼Œåˆ†åˆ¥é‡å° äºŒå€‹å±¬æ€§è¨­å®šä¸åŒçš„æ™‚é–“ã€é€ŸçŽ‡â€¦ç­‰ åƒè€ƒè³‡æ–™[CSS][Transition] è½‰å ´æ•ˆæžœ CSS3è½‰å ´æ•ˆæžœ(transitions) CSS transition å„ç¨®é€ŸçŽ‡]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>transition</tag>
        <tag>å‹•ç•«</tag>
        <tag>è½‰å ´æ•ˆæžœ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS-åˆ‡ç‰ˆç·´ç¿’]]></title>
    <url>%2F2017%2F12%2F11%2FCSS-RWDlayout%2F</url>
    <content type="text"><![CDATA[ç´€éŒ„ç·´ç¿’åˆ‡ç‰ˆæ™‚ï¼Œé‡åˆ°å¡å¡çš„å•é¡Œ icon åˆ©ç”¨ position ä½ç§»ç¤ºæ„åœ– é‡é»ž row çš„ position è¨­ç½® relative; icon çš„ position è¨­ç½® absolute; ç§»å‹• icon çš„ä½ç½®ï¼Œ top ã€ left å°‡ icon ç§»é€²åŽ»åœ¨ input æ™‚ï¼Œinput éœ€å¢žåŠ  å·¦é‚Špaddingï¼Œä¿ç•™ä½ç½®çµ¦ iconã€‚ HTML ç¨‹å¼ç¢¼123456&lt;div class="row"&gt; &lt;label for="email"&gt;Email Address*&lt;/label&gt; &lt;label for="email" class="icon"&gt;&lt;i class="fa fa-envelope-o" aria-hidden="true"&gt;&lt;/i&gt;&lt;/label&gt; &lt;input type="email" name="email" id="email"&gt;&lt;/div&gt; SCSS ç¨‹å¼ç¢¼12345678910111213141516171819//è¨˜å¾—inputçš„å·¦é‚Šè¦ç•™padding,ä¿ç•™ä¸€äº›ä½ç½®çµ¦iconinput &#123; padding: 6px 0 6px 28px;&#125;//ä½ç§» icon è‡³ input è£¡.row &#123; position: relative; .icon &#123; position: absolute; top: 26px; left: 9px; font-size: 16px; z-index: 10; color: rgba(61, 17, 1, 0.5); &#125;&#125; codepenç¯„ä¾‹: LoginForm ç·žå¸¶æ•ˆæžœ é‡é»ž .tag-wrap ç‚º è—è‰²æ¡†ç·š .tag ç‚º ç´…è‰²æ¡†ç·š(ç†±è³£) .tag-wrap çš„ position è¨­ç½® absolute ï¼Œä¸¦ä¸”ä½ç§»è¦è¶…å‡ºåŽŸæœ‰çš„æ¡†æž¶ï¼Œæ‰èƒ½åšå‡ºç·žå¸¶æ•ˆæžœ; æ–°å¢ž .tag çš„ widthã€background-colorâ€¦ç­‰å±¬æ€§ åˆ©ç”¨ transform ï¼Œä½ç§»ç¿»è½‰ .tag ç§»å‹•å¥½ .tag å¾Œï¼Œåœ¨ .tag-wrap æ–°å¢ž overflow: hidden;ï¼Œ å°‡å¤šé¤˜çš„éƒ¨ä»½éš±è— åˆ©ç”¨ .tag çš„å½å…ƒç´  :beforeã€:afterï¼Œæ–°å¢ž å°ä¸‰è§’ â–² html ç¨‹å¼ç¢¼123456789101112&lt;div class="card"&gt; &lt;!-- ä¸å½±éŸ¿çµæ§‹ --&gt; &lt;div class="tag-wrap"&gt; &lt;div class="tag"&gt; ç†±è³£!! &lt;/div&gt; &lt;/div&gt; &lt;!-- ä¸»è¦çµæ§‹ --&gt; &lt;div class="card-block"&gt; &lt;/div&gt;&lt;/div&gt; SCSS ç¨‹å¼ç¢¼1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556.card &#123; width: 230px; height: 200px; position: relative;&#125;//ç·žå¸¶æ•ˆæžœ.tag-wrap &#123; $p: 5px; $size: 80px; position: absolute; //ä½ç§»è¦è¶…å‡ºåŽŸæœ‰çš„æ¡†æž¶ï¼Œæ‰èƒ½åšå‡ºç·žå¸¶æ•ˆæžœ top: -$p; right: -$p; //è¶…å‡ºçš„éƒ¨ä»½éš±è— overflow: hidden; width: $size * 2; height: $size * 2; //æŸ¥çœ‹ä½ç½® border: 1px solid blue; .tag &#123; position: relative; width: $size*2; background-color: orange; padding-top: 0.25rem; padding-bottom: 0.25rem; text-align: center; margin-top: -$p * 2; color: white; //rotateç‚ºæ—‹è½‰ã€translateç‚ºç§»å‹•ã€skewç‚ºå‚¾æ–œã€scaleç‚ºç¸®æ”¾ transform: translateX(50%) rotate(45deg) translateY(150%); //æŸ¥çœ‹ä½ç½® border: 1px solid red; &amp;:before &#123; content: ""; position: absolute; //åˆ©ç”¨ åŠ ç²—é‚Šæ¡† + é‚Šæ¡†ä¸Šæ–¹é¡è‰²ï¼Œé”åˆ°å°ä¸‰è§’çš„æ•ˆæžœ border: $p solid transparent; border-top-color: darken(orange, 15%); bottom: -10px; left: 6px; &#125; &amp;:after &#123; content: ""; position: absolute; //åˆ©ç”¨ åŠ ç²—é‚Šæ¡† + é‚Šæ¡†ä¸Šæ–¹é¡è‰²ï¼Œé”åˆ°å°ä¸‰è§’çš„æ•ˆæžœ border: $p solid transparent; border-top-color: darken(orange, 15%); bottom: -10px; right: 14px; &#125; &#125;&#125; codepenç¯„ä¾‹: CSS-ç·žå¸¶æ•ˆæžœ(ä¹¾æ·¨ç‰ˆæœ¬)codepenç¯„ä¾‹: CSS-ç·žå¸¶æ•ˆæžœ è§€å¿µè£œå……å…­è§’ç¯„ä¾‹å¾ž Sketch è¨­è¨ˆåˆ° CSS åˆ‡ç‰ˆ æœ¬æ—¥ç¯„ä¾‹ï¼šhttps://codepen.io/Wcc723/pen/zEYXdN æœ¬æ—¥è¨­è¨ˆåƒè€ƒï¼šhttps://codepen.io/Wcc723/pen/pWzxXO transform CSS ç¨‹å¼ç¢¼123456789101112/* rotateç‚ºæ—‹è½‰skewç‚ºå‚¾æ–œscaleç‚ºç¸®æ”¾translateç‚ºç§»å‹• *//* ç¯„ä¾‹1ï¼šç§»å‹•Xè»¸ â†’ æ—‹è½‰ â†’ ç§»å‹•Yè»¸ */transform: translateX(150%) rotate(45deg) translateY(50%);/* ç¯„ä¾‹2ï¼šæ—‹è½‰ â†’ ç§»å‹•Xè»¸ â†’ ç§»å‹•Yè»¸ */transform: rotate(45deg) translateX(150%) translateY(50%); ä¸Šåˆ— CSSç¨‹å¼ç¢¼ ã€Œç¯„ä¾‹1 ã€ ç¯„ä¾‹2ã€ï¼Œé›–ç„¶åŒæ¨£éƒ½åšäº†ã€Œç§»å‹•Xè»¸ã€ç§»å‹•Yè»¸ã€æ—‹è½‰ã€çš„å‹•ä½œï¼Œä½†æ˜¯å› ç‚º åŸ·è¡Œé †åº ä¸åŒï¼Œæ‰€ä»¥äºŒå€‹ç¯„ä¾‹å‘ˆç¾å‡ºä¾†çš„çµæžœä¹Ÿæœƒä¸ä¸€æ¨£ã€‚ ä¸Šè¿°ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼š transform_åŸ·è¡Œé †åº transformåŸºæœ¬ä»‹ç´¹1.CSS transform æ¦‚è§€2.CSS transform è»¸ç·šçš„è¬Šè¨€3.CSS transform-origin4.CSS transform-3Dçš„é€è¦– SCSSé¡è‰²å‡½æ•¸ç¯„ä¾‹123456789.box&#123; background: rgba(#000,.5); //è®ŠåŠé€æ˜Ž background: invert(#f00); //è®Šåå‘è‰²å½© background: lighten(#06C, 30%); //è®Šäº® background: darken(#06C,15%); //è®Šæš— background: saturate(#06C,50%); //æé«˜é£½å’Œåº¦ background: desaturate(#06C,50%); //é™ä½Žé£½å’Œåº¦ background: grayscale(#06C); //ç°éšŽ&#125; SCSSç›¸é—œ linear-gradientè®“é¡è‰²æœ‰æ¼¸å±¤æ•ˆæžœ CSS ç¨‹å¼ç¢¼1background-image: linear-gradient(165deg, white, white 50%, $bg-color 50%); background: linear-gradient( æ–¹å‘, ç¬¬ä¸€å€‹é¡è‰², ç¬¬äºŒå€‹é¡è‰², â€¦ ); èƒŒæ™¯è‰² â€” çº¿æ€§æ¸å˜èƒŒæ™¯è‰² â€” æ¼¸å±¤æ•ˆæžœ ç¹ªè£½å¹¾ä½•åœ–å½¢(æ”¯æ´åº¦ä¸é«˜) 1clip-path: polygon(0 0, 280px 0, 370px 100%, 0% 100%); CSS clip-path ç”Ÿæˆå™¨åˆ©ç”¨CSSç¹ªè£½æ›´å¤šå½¢ç‹€ä¸å¯æ€è®®çš„CSSä¹‹CLIP-PATH]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>transform</tag>
        <tag>translateX</tag>
        <tag>rotate</tag>
        <tag>translateY</tag>
        <tag>SCSS</tag>
        <tag>linear-gradient</tag>
        <tag>clip-path</tag>
        <tag>position</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS - å¸¸ç”¨ç­†è¨˜]]></title>
    <url>%2F2017%2F11%2F13%2FCSS-ForgetfulNotes%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯åœ–123456789101112131415/* åœ–ç‰‡æ»¿ç‰ˆ */.img-cover &#123; background-image: url(./bg.png); background-position: center; background-size: cover; background-repeat: no-repeat;&#125;/* åœ–ç‰‡å±…ä¸­ */.img-contain &#123; background-image: url(./bg.png); background-position: center; background-size: contain; background-repeat: no-repeat;&#125; å…¶ä»–èƒŒæ™¯åœ–ç¯„ä¾‹ï¼šå›ºå®šã€æ»¿ç‰ˆã€ç½®ä¸­background-attachmentæ˜¯èƒŒæ™¯å›ºå®šæ¨¡å¼çš„å±¬æ€§è¨»ï¼šä½œä¸ºèƒŒæ™¯çš„åœ–ç‰‡æ˜¯æ’‘ä¸èµ·å…ƒç´ çš„ï¼Œé ˆé¡å¤–éœ€è¦ç»™divæ–°å¢žã€Œå¯¬ã€é«˜ã€ åœ“è§’123456div.circle&#123; width:80px; height:80px; border-radius:50%; background-color:blue;&#125; 2å€‹é‡é»žï¼š åœ“çš„ç›´å¾‘ï¼Œé•·å¯¬ ä¸€å®šè¦ç­‰é•· border-radius:50% åƒè€ƒç¶²å€ï¼š åœ“è§’è©³è§£ã€CSS3æŠ€å·§ä¹‹å½¢ç‹€ å€å¡Šé™°å½±ã€æ–‡å­—ç«‹é«”æ„Ÿ12345678/* å¤–å±¤çš„é™°å½± */box-shadow: 1px 1px 5px rgba(0,0,0,0.3);/* å…§å±¤çš„é™°å½±(å¤šåŠ  inset) */box-shadow: inset 1px 1px 5px rgba(0,0,0,0.3);/* æ–‡å­—çš„é™°å½± */text-shadow: 1px 1px 1px rgba(0,0,0,0.5); åƒè€ƒç¶²å€ï¼š çŽ©è½¬box-shadowã€æ–‡å­—ç«‹é«”æ„Ÿ a é€£çµå–æ¶ˆ a é€£çµä¸‹åº•ç·š123a &#123; text-decoration: none;&#125; :hover ç§»è‡³ a é€£çµçš„æ•ˆæžœ123a:hover &#123; border-bottom: 3px solid #00cc99;&#125; è¨»ï¼ša é€£çµ é è¨­displayç‚ºinlineï¼Œä½†ç‚ºäº†è®“ Useræœ‰æ›´å¥½çš„æ“ä½œé«”é©—ï¼Œæœƒè®Šæ›´æˆ blockï¼Œå¢žåŠ ã€Œå¯¬ã€é«˜ã€ç¯„åœï¼Œè®“ Userè¼ƒæ˜“é»žæ“Šåˆ°ç›®æ¨™é€£çµã€‚ æ–·é»ž123456@media (max-width: 768px) &#123; //iPad&#125;@media (max-width: 767px) &#123; //iPhone&#125; æ–°å–®ä½ï¼šé«˜åº¦vhã€å¯¬åº¦vwvh ä»£è¡¨çš„æ˜¯view heightï¼Œä¹Ÿå°±æ˜¯èž¢å¹•å¯è¦–ç¯„åœé«˜åº¦çš„ç™¾åˆ†æ¯”ï¼›vw è¡¨ç¤ºçš„æ˜¯view widthï¼Œä¹Ÿå°±æ˜¯èž¢å¹•å¯æ˜¯ç¯„åœå¯¬åº¦çš„ç™¾åˆ†æ¯”ã€‚ ul ol list-styleå–æ¶ˆæ¨£å¼ol,ul {list-style: none;} è¨­å®šæ¨£å¼list-style: circle; å…¶ä»–æ¨£å¼åƒè€ƒï¼šCSS list-style æŒ‡å®šæ»‘é¼ æ¸¸æ¨™çš„åž‹æ…‹cursor: pointer; /*æ‰‹åž‹ï¼Œè¡¨ç¤ºè¶…é€£çµ*/ åƒè€ƒç¶²å€ï¼š æ¸¸æ¨™çš„åž‹æ…‹]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>ç­†è¨˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-Search]]></title>
    <url>%2F2017%2F10%2F18%2FHexo-Search%2F</url>
    <content type="text"><![CDATA[å‰è¨€åœ¨æ–°å¢ž Hexo çš„ Local Search æ™‚ï¼Œåƒè€ƒä¸‹åˆ—çš„é€£çµæ–‡ç« ï¼Œè·Ÿè‘—æ­¥é©Ÿå®‰è£åŠè¨­å®šå³å¯ï¼Œä¸éŽå‰›è£å¥½å¾Œï¼Œç™¼ç¾æœå°‹åŠŸèƒ½ç„¡æ³•æ­£å¸¸ä½¿ç”¨ï¼Œå¾Œä¾†æœ‰æŸ¥åˆ°åŽŸå› ï¼Œåœ¨æ­¤ç´€éŒ„ä¸€ä¸‹DebugéŽç¨‹ã€‚ Local SearchHexoåšå®¢æ·»åŠ ç«™å…§æœç´¢ å®‰è£é †åºå®‰è£hexo-generator-searchdbåœ¨ç«™é»žçš„æ ¹ç›®éŒ„ä¸‹åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ 1$ npm install hexo-generator-searchdb --save ç·¨è¼¯ç«™é»žé…ç½®æ–‡ä»¶(Hexo)æ–°å¢žä»¥ä¸‹å…§å®¹åˆ°ä»»æ„ä½ç½®ï¼š 12345search: path: search.xml field: post format: html limit: 10000 ç·¨è¼¯ä¸»é¡Œé…ç½®æ–‡ä»¶(Next)å•Ÿç”¨æœ¬åœ°æœç´¢åŠŸèƒ½ï¼š 123# Local searchlocal_search: enable: true å•é¡Œç´€éŒ„ é»žäº†æœå°‹å¾Œï¼Œç•«é¢ä¸€ç›´è½‰åœˆåœˆæ²’åœæ­¢ï¼ŒæŸ¥çœ‹Consoleä¹Ÿæ²’å‡ºç¾Error æŸ¥çœ‹XHRï¼Œç›®å‰æˆ‘æœ‰10ç¯‡æ–‡ç« ï¼Œå»åªç”¢ç”Ÿä¸‰ç­†entryï¼Œä¸”å…¶ä¸­ä¸€ç­†entryçš„contentå…§å®¹æ²’ç”¢ç”Ÿ ä¸¦ä¸”æœ‰æ­¤éŒ¯èª¤è¨Šæ¯ å¾Œä¾†é‡å°æœ‰å•é¡Œé‚£ç¯‡æ–‡ç« è¤‡è£½å…§å®¹ï¼Œè²¼åˆ° notepad++ çœ‹çœ‹ï¼Œç™¼ç¾æœ‰ä¸€äº‚ç¢¼ï¼Œå°‡äº‚ç¢¼åˆªé™¤å¾Œï¼ŒLocal Searchå°±å¯ä»¥æ­£å¸¸é‹ä½œäº†ã€‚]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MAC-è®“çµ‚ç«¯æ©Ÿè®Šå¥½çœ‹]]></title>
    <url>%2F2017%2F10%2F15%2FMAC-iTerm2-Zsh%2F</url>
    <content type="text"><![CDATA[å‰è¨€åœ¨å®‰è£ MACçµ‚ç«¯æ©Ÿé«˜äº®çš„éŽç¨‹ï¼Œä¸»è¦æ˜¯åƒè€ƒä¸‹åˆ—çš„æ–‡ç« ï¼Œè·Ÿè‘—æ­¥é©Ÿå®‰è£åŠè¨­å®šå³å¯ï¼Œä¸éŽå®‰è£éŽç¨‹ä¸­ï¼Œé‚„æ˜¯æœ‰é‡åˆ°å¡å¡çš„åœ°æ–¹ï¼Œæ‰€ä»¥ç‰¹åˆ¥è¨˜ä¸€ä¸‹ å¡å¡çš„æ­·ç¨‹ã€‚ ç‚º MAC çš„ Terminal ä¸Šè‰² - é€éŽ iTerm 2 å’Œ Oh My Zsh é«˜äº®ä½ çš„çµ‚ç«¯æ©Ÿ è®“ MAC çµ‚ç«¯æ©Ÿè®Šå¥½çœ‹ iterm2-solarized åŽŸæ–‡ å•é¡Œç´€éŒ„zshæŒ‡ä»¤å¤±æ•ˆå®‰è£å®Œzshï¼Œåœ¨ä½¿ç”¨ç›¸é—œshellå‘½ä»¤ï¼Œå‡ºç¾äº†zsh: command not found Nodezsh: command not found: hexoç­‰ä¸€ç³»åˆ—error zsh å’Œbash çš„ç’°å¢ƒè®Šé‡bashçš„ç’°å¢ƒè®Šé‡æ˜¯.bash_profileæ–‡ä»¶ã€‚zshçš„ç’°å¢ƒè®Šé‡æ˜¯.zshrcæ–‡ä»¶ã€‚ å­—é¢æ„æ€æ˜¯ç›¸é—œå‘½ä»¤æ²’æœ‰æ²’æœ‰æ‰¾åˆ°ï¼Œå…¶å¯¦å°±æ˜¯bash shell ä»¥åŠ zsh shellæ˜¯ å…©ç¨®è®€å–ç³»çµ±ç’°å¢ƒè®Šé‡ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯èªª nodeã€Hexoâ€¦ç­‰å¥—ä»¶ æ˜¯åœ¨ä½¿ç”¨ bash æ™‚å€™ï¼Œå®‰è£å¥½çš„ï¼Œæ‰€ä»¥æœƒè¨­å®šåœ¨ .bash_profileè£¡ï¼Œå¾Œä¾†æ”¹ä½¿ç”¨ zsh shell çš„æ™‚å€™ï¼Œä½ ä¸¦æ²’æœ‰æŠŠç›¸é—œçš„ç’°å¢ƒè®Šé‡çš„é…ç½®è¨­ç½®åˆ° .zshrc ä¸­ï¼ˆåŠŸèƒ½ä¸Šé¡žä¼¼bash çš„.bash_profileï¼‰ï¼Œæ‰€ä»¥ .zshrc æ²’æœ‰é…ç½®ç›¸é—œç’°å¢ƒè®Šé‡è¨­ç½®ï¼Œå°±æŠŠbash ä¸­.bash_profile å…¨éƒ¨ç’°å¢ƒè®Šé‡åŠ å…¥ .zshrc å°±å¥½ã€‚ åŠ å…¥æ–¹æ³•ï¼š123456#æ‰“é–‹ zsh çš„è¨­å®šæª”open ~/.zshrc# æœ€åŽä¸€è¡ŒåŠ å…¥ä¸‹é¢æŒ‡ä»¤# è§£æ±ºOSXä½¿ç”¨oh-my-zshå¾Œ.bash_profileè‡ªå®šç¾©å¤±æ•ˆsource ~/.bash_profile zsh: command not foundzsh: command not foundè§£å†³OSXä½¿ç”¨oh-my-zshåŽ.bash_profileè‡ªå®šä¹‰å¤±æ•ˆ å®‰è£å­—åž‹åŽŸå…ˆæ˜¯è·Ÿè‘—æœ€ä¸Šé¢æ–‡ç« æ•™å­¸ï¼Œå®‰è£ å­—åž‹(Meslo LG M Regular for Powerline)ï¼Œå†ä¿®æ”¹ç›¸é—œè¨­å®šå¾Œï¼Œæ­¤å­—åž‹åœ¨ iTerm ä¸Šï¼Œé¡¯ç¤ºç®­é ­æ˜¯æ­£å¸¸çš„ï¼Œä¸éŽåœ¨VScodeä¸Šé¢ï¼Œé¡¯ç¤º ç®­é ­ å»é‚„æ˜¯æœ‰äº‚ç¢¼ï¼Œæ‰€ä»¥åŽ»Googleä¸€ä¸‹ï¼Œçµæžœå¦‚ä¸‹ å…ˆå®‰è£ å­—åž‹ 1234# å®‰è£å­—åž‹$ git clone git://github.com/powerline/fonts ~/.powerline_fonts$ cd ~/.powerline_fonts$ ./install.sh iTermè¨­å®š å­—åž‹iTerm â€“&gt; Preferences â€“&gt; Profiles â€“&gt; Text â€“&gt; Change FontæŽ¨è–¦ä½¿ç”¨ Source Code Pro (Adobeçš„ï¼‰èˆ‡ Ubuntu Monoï¼Œé€™å…©å€‹å­—åž‹éƒ½ç›¸ç•¶é©åˆå¯«ç¨‹å¼ä½¿ç”¨ã€‚ VSCodeè¨­å®š å­—åž‹åœ¨è¨­å®šåƒæ•¸è£¡ï¼Œæ–°å¢žä¸‹åˆ—äºŒè¡Œ 12"terminal.integrated.fontFamily": "Source Code Pro for Powerline","terminal.integrated.fontSize": 14 å®‰è£Powerlineå°ˆå±¬å­—åž‹ç¾ŽåŒ–ä½ çš„çµ‚ç«¯æ©Ÿ]]></content>
      <categories>
        <category>Mac</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>iTerm2</tag>
        <tag>ZSH</tag>
        <tag>çµ‚ç«¯æ©Ÿ</tag>
        <tag>terminal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-å‚™ä»½]]></title>
    <url>%2F2017%2F10%2F14%2FHexo-backup%2F</url>
    <content type="text"><![CDATA[å‰è¨€ç°¡å–®ä¾†èªªï¼Œå¯¦ç¾å‚™ä»½æ–¹æ³•å°±æ˜¯åˆ©ç”¨ äºŒå€‹åˆ†æ”¯ç·š å€‹åˆ¥æ”¾æˆ‘å€‘è¦çš„æª”æ¡ˆï¼Œä¸€å€‹åˆ†æ”¯ç·š æ”¾ ç™¼ä½ˆçš„æ–‡ç« ï¼Œå¦ä¸€å€‹åˆ†æ”¯ç·š æ”¾ å‚™ä»½çš„æª”æ¡ˆï¼Œ master: åˆ©ç”¨ hexo deploy ç›´æŽ¥æŽ¨é€ï¼Œå­˜æ”¾ç”± hexo ç”¢ç”Ÿçš„éœæ…‹é é¢ hexo: åˆ©ç”¨ git command æŽ¨é€ï¼Œå­˜æ”¾éƒ¨è½æ ¼åŽŸå§‹ç¢¼ ç”±æ–¼ Github Page æœ¬èº«é™åˆ¶é é¢ä¸»è¦åˆ†æ”¯å¿…é ˆç‚º masterï¼Œå› æ­¤è€ƒæ…®å¢žè¨­åˆ†æ”¯ hexo ç”¨ä»¥å­˜æ”¾éƒ¨è½æ ¼åŽŸå§‹ç¢¼ã€‚ é‡é»žæé†’ç•¶ç’°å¢ƒéƒ½è¨­å®šå¥½ä»¥å¾Œï¼Œæ—¥å¾Œä¸ç®¡æ˜¯åœ¨å“ªä¸€å°é›»è…¦ä¸Šæ’°å¯«æ–‡ä»¶ã€ç™¼ä½ˆæ–‡ä»¶ã€å‚™ä»½æª”æ¡ˆï¼Œéƒ½æ˜¯åœ¨ hexo åˆ†æ”¯ä¸Šhexo åˆ†æ”¯ä¸Šhexo åˆ†æ”¯ä¸Š å› ç‚ºå¾ˆé‡è¦ï¼Œæ‰€ä»¥èªªä¸‰æ¬¡ã€‚ åˆæ¬¡å‚™ä»½ç’°å¢ƒå»ºç«‹æ­¤å‹•ä½œåƒ…éœ€åœ¨ç¬¬ä¸€å°æ’°å¯«Blogé›»è…¦ä¸ŠåŸ·è¡Œå³å¯ï¼Œå¦‚æžœæ—¥å¾Œæ›æ–°é›»è…¦æˆ–è¦åœ¨ä¸åŒå°é›»è…¦æ’°å¯«Blogçš„è©±ï¼Œè«‹åƒè€ƒä¸‹é¢çš„ æ›´æ›ç’°å¢ƒ çš„æ“ä½œã€‚ å¯¦ä½œæ­¥é©Ÿ æ–°å»º hexo åˆ†æ”¯ 1$ git branch hexo å°‡æª”æ¡ˆå‚™ä»½è‡³ hexo åˆ†æ”¯ 1$ git push origin hexo githubä¸Šè¨­å®š hexo ç‚º é»˜èªåˆ†æ”¯ æ—¥å¾Œä¸åŒé›»è…¦cloneä¸‹ä¾†æ™‚ï¼Œä¸ç”¨å†ç‰¹åˆ¥åˆ‡æ› hexo åˆ†æ”¯ ç¢ºèª é…ç½®hexo deploy çš„å‚æ•° ç¢ºèª branchåƒæ•¸ä¸€å®šæ˜¯è¨­å®š master åˆ†æ”¯,å› ç‚ºæ—¥å¾Œæ“ä½œéƒ½åœ¨ hexo åˆ†æ”¯ä¸Šï¼Œ è‡³æ–¼è¦ç™¼ä½ˆæ–‡ä»¶çš„è©±ï¼Œå°±é æŒ‡ä»¤ hexo d å¹«æˆ‘å€‘å»ºç«‹ç™¼ä½ˆçš„æ–‡ç« ã€‚ 1234deploy:type: gitrepository: https://github.com/ç”¨æˆ¶å/ç”¨æˆ¶å.github.io.gitbranch: master æ›´æ›ç’°å¢ƒåŸ·è¡Œæ­¥é©Ÿå¦‚æžœæ˜¯ç¬¬ä¸€æ¬¡åœ¨æ–°é›»è…¦çš„è©±ï¼Œè«‹å…ˆåƒè€ƒä¸‹åˆ—å‹•ä½œï¼Œå…ˆå»ºç«‹Blogçš„ç’°å¢ƒã€‚ 12345678910111213#1.å…‹éš†åˆ°æœ¬åœ°$ git clone https://github.com/ç”¨æˆ·å/ç”¨æˆ·å.github.io.git Kanbooblog#2.åˆ‡æ›åˆ°blogç›®éŒ„;$ cd blogç›®éŒ„#3.ç¢ºèªç›®å‰åˆ†æ”¯æ˜¯å¦ç‚ºhexoï¼Œè‹¥ä¸æ˜¯ï¼Œå‰‡åˆ‡æ›å‚™ä»½çš„åˆ†æ”¯åˆ†ç¨±(hexo)$ git checkout Hexo#4.å®‰è£…å„ç§npmåŒ…$ npm install -g hexo-cli$ npm install$ npm install hexo-deployer-git --save å¯èƒ½é‡åˆ°çš„å•é¡Œ1.warning: LF will be replaced by CRLFåœ¨ Windows ä¸­å»£æ³›ä½¿ç”¨ä¾†æ¨™è­˜ä¸€è¡Œçš„çµæŸã€‚è€Œåœ¨Linux / UNIXç³»çµ±ä¸­åªæœ‰æ›è¡Œç¬¦ã€‚ä¹Ÿå°±æ˜¯èªªåœ¨Windowsä¸­çš„æ›è¡Œç¬¦ç‚ºCRLFï¼Œè€Œåœ¨linuxçš„ä¸‹çš„æ›è¡Œç¬¦ç‚ºï¼šLFï¼Œç•¶åŸ·è¡Œ gitæŒ‡ä»¤ æ™‚ï¼Œç³»çµ±æç¤ºï¼šLFå°‡è¢«è½‰æ›æˆCRLFã€‚ è§£æ±ºæ–¹æ³•ï¼š 1$ git config --global core.autocrlf false gitæç¤ºè­¦å‘Šï¼šLFå°‡è¢«CRLFæ›¿æ›Hexo Gitéƒ¨ç½²è­¦å‘Šâ€warningï¼š LF will be replaced by CRLFâ€çš„åŽ»é™¤æ–¹æ³• éƒ¨è½æ ¼æ›´æ–°èˆ‡éƒ¨ç½²æ–°æ–‡ç« æ—¥å¾Œåœ¨ä¸åŒé›»è…¦ä¸Šè¦æ–°å¢žæ–‡ä»¶çš„è©±ï¼Œå°±é‡è¦†ä¸‹åˆ—çš„å‹•ä½œå³å¯ã€‚ æ‹‰å–é ç«¯ç‰ˆæœ¬åº«ä¸Šçš„æ›´æ–°å…§å®¹ 1$ git pull ä¿®æ”¹éƒ¨è½æ ¼é…ç½®æˆ–æ’°å¯«æ–°æ–‡ç«  æ·»åŠ è®Šæ›´ä¸¦æŽ¨é€ 12345678910$ hexo clean# ç”¢ç”Ÿç™¼ä½ˆçš„æ–‡ä»¶$ hexo g # ç™¼ä½ˆè‡³github-master$ hexo d # å‚™ä»½è‡³github-Hexo$ git add .$ git commit -m "message"$ git push origin hexo åƒè€ƒç¶²ç«™Hexoåˆ©ç”¨Githubåˆ†æ”¯åœ¨ä¸åŒç”µè„‘ä¸Šå†™åšå®¢ å¯¦ç¾ä¸åŒé›»è…¦ä¸Š Hexo éƒ¨è½æ ¼çš„åŒæ­¥ hexoå¤‡ä»½å°æŠ€å·§]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>å‚™ä»½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-ç’°å¢ƒå»ºç½®]]></title>
    <url>%2F2017%2F10%2F14%2FHexo-Create%2F</url>
    <content type="text"><![CDATA[å‰è¨€å»ºç«‹Hexoç’°å¢ƒï¼Œéœ€è¦å®Œæˆçš„äº‹æƒ…æœ‰ï¼š å»ºç½®githubç©ºé–“ å®‰è£ Node.jsï¼ˆå¦‚æžœé‚„æ²’æœ‰çš„è©±ï¼‰ å®‰è£ Hexo åˆå§‹åŒ– Hexoï¼Œä¸¦åœ¨ç›®æ¨™è³‡æ–™å¤¾å»ºç«‹æ‰€éœ€æª”æ¡ˆ å®‰è£ hexo-deployer-git (å¾ˆé‡è¦) åœ¨_config.yml ä¸­è¨­å®š Git ç­‰è³‡è¨Š ç©ºé–“ï¼šGitHubå› ç‚ºBlogéœ€è¦ä¸Šå‚³è‡³é›²ç«¯ï¼Œæ‰€ä»¥é€™è£¡ä½¿ç”¨githubçš„å…è²»ç©ºé–“ã€‚ å‰µå»ºgithub pageå€‰åº«çš„åå­— è¦å’Œ ä½ çš„å¸³è™Ÿ ä¸€æ¨£ï¼Œå¦‚ï¼šç”¨æˆ¶å.github.io é€²å…¥github pageé …ç›®è¨­ç½®é é¢é¸æ“‡Settings å‰µå»ºä¸€å€‹é»˜èªçš„é é¢ç›´æŽ¥é¸æ“‡Launch automatic -&gt; Continue to layouts page generator -&gt; Publish page,å…¶ä»–æ±è¥¿éƒ½ä¸ç”¨ä¿®æ”¹ã€‚ æŸ¥çœ‹æ•ˆæžœè‡³æ­¤ï¼Œä½ çš„github pageå·²ç¶“å‰µå»ºå®Œæˆï¼Œä½ å¯ä»¥è¨ªå•è‡ªå·±çš„ç«™é»žäº†ã€‚å¦‚ï¼šhttps://ç”¨æˆ¶å.github.io/ Hexoå®‰è£å®‰è£ Hexo ç›¸ç•¶ç°¡å–®ï¼›ç„¶è€Œï¼Œåœ¨å®‰è£å‰æ‚¨å¿…é ˆå…ˆæª¢æŸ¥ä¸‹åˆ—æ‚¨çš„é›»è…¦æ˜¯å¦å·²ç¶“å®‰è£ä¸‹åˆ—è»Ÿé«”ï¼š Node.js Git è‹¥æ‚¨çš„é›»è…¦å·²ç¶“å®‰è£ä¸Šè¿°çš„å¿…å‚™è»Ÿé«”ï¼Œé‚£éº¼æ­å–œæ‚¨ï¼åªéœ€è¦é€éŽ npm å³å¯å®Œæˆ Hexo çš„å®‰è£ã€‚ 1$ npm install -g hexo-cli å»ºç«‹123$ hexo init yourname # ( åˆå§‹åŒ–æ–°çš„ Hexo )$ cd yourname # ( é€²å…¥æ‚¨å‰›å‰›å»ºç«‹çš„ Hexo è³‡æ–™å¤¾ç•¶ä¸­ )$ npm install #ï¼ˆ å®‰è£ Hexo ) yourname å°±æ˜¯æŒ‡åœ¨é›»è…¦è£¡çš„æª”æ¡ˆåç¨±ï¼Œå¯ä»¥éš¨æ„å–ï¼Œä¾‹å¦‚ã€Œmyhexoblogã€ è¨­å®šé€²å…¥æ‚¨ Hexo ä¸»ç›®éŒ„ä¸‹ä¹‹å¾Œï¼Œå…ˆæ‰¾åˆ° _config.yml é€™å€‹æª”æ¡ˆï¼ 123456title: Kanboo Notes (è¼¸å…¥æ‚¨çš„æ¨™é¡Œ)subtitle: å¥å¿˜ç­†è¨˜æœ¬ ï¼ˆè¼¸å…¥æ‚¨çš„è‡³ç†åè¨€ï¼‰description:(è¼¸å…¥æ‚¨çš„ç¶²ç«™æè¿°)author: Kanboo ï¼ˆè¼¸å…¥æ‚¨çš„å§“åï¼‰language: zh-TW ï¼ˆè¼¸å…¥æ‚¨æ‰€ä½¿ç”¨çš„èªžè¨€ï¼‰timezone: (ç•™ç©ºå¯ä»¥ä½¿ç”¨ç³»çµ±æ™‚é–“ï¼) åŒæ¨£ _config.yml é€™å€‹æª”æ¡ˆåº•ä¸‹ï¼Œæ‰¾åˆ° deploy è¨­å®šgithub 123456# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repository: https://github.com/ç”¨æˆ¶å/ç”¨æˆ¶å.github.io.git branch: master ç”¨æˆ¶å å°±æ˜¯æŒ‡ä½ è‡ªå·±çš„githubå¸³è™Ÿï¼Œè¨˜å¾—æ”¹å°ï¼Œç„¶å¾ŒæŒ‰å­˜æª”ã€‚ æ’°å¯«æ–‡ä»¶åŠå¸¸ç”¨æŒ‡ä»¤æ’°å¯«æ–‡ä»¶è‡³æ–¼å…§æ–‡æŽ¡ç”¨çš„ Markdown æ ¼å¼ä¸é›£å­¸ï¼Œåªéœ€è¦è¨˜å¹¾å€‹å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œé‡åˆ°ä¸æ‡‚çš„å†ä¸Šç¶²æŸ¥å°±å¥½ã€‚ 123456789æ–œé«”ï¼š *æ–œé«”* ç²—é«”ï¼š **ç²—é«”** ç²—æ–œé«”ï¼š ***ç²—æ–œé«”*** åˆªé™¤ç·šï¼š~~åˆªé™¤~~ å¼•è¨€ï¼š &gt; å¼•è¨€ ç« ç¯€ï¼š # ç« ç¯€ æ¬¡ç´šç« ç¯€ï¼ˆä»¥æ­¤é¡žæŽ¨ï¼‰ï¼š ## æ¬¡ç´šç« ç¯€ è¡¨æ ¼ï¼ˆè¨»1ï¼‰ï¼š|ä¸€è¡Œ|ä¸€è¡Œ|ç–Š| æ’å…¥è¶…é€£çµï¼š [è¶…é€£çµæ–‡å­—](ç¶²å€) æ’å…¥å¤–éƒ¨åœ–ç‰‡ï¼š ![åœ–ç‰‡æè¿°](åœ–ç‰‡ç¶²å€) Markdownæ–‡ä»¶Markdown CheatsheetMarkdown å¯«è¡¨æ ¼ æŒ‡ä»¤1234567$ hexo new "postName" #æ–°å»ºæ–‡ç« $ hexo clean #æ¸…é™¤å¿«å–$ hexo generate #ç”Ÿæˆéœæ…‹é é¢è‡³publicç›®éŒ„$ hexo server #é–‹å•Ÿé è¦½è¨ªå•ç«¯å£ï¼ˆé»˜èªç«¯å£4000ï¼Œ'ctrl + c'é—œé–‰serverï¼‰$ hexo deploy #å°‡.deployç›®éŒ„éƒ¨ç½²åˆ°GitHub$ hexo help #æŸ¥çœ‹å¹«åŠ©$ hexo version #æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬ æŒ‡ä»¤ç°¡å¯« 1234hexo n == hexo newhexo g == hexo generatehexo s == hexo serverhexo d == hexo deploy æ›´æ›Blogä¸»é¡Œ(NexT)ä¸»è¦å®Œæˆçš„æ­¥é©Ÿå¦‚ä¸‹ï¼š å®‰è£ Blogä¸»é¡Œ(NexT) _config.yml ä¿®æ”¹theme:NexT NexTç´°é …åŠŸèƒ½è¨­å®š å¦‚æžœå•Ÿç”¨ åˆ†é¡žã€æ¨™ç±¤ çš„è©±ï¼Œä¸¦ä¸æœƒè‡ªå‹•å¹«ä½ å»ºç«‹ï¼Œå¯åƒè€ƒä¸‹åˆ—å”åŠ©ç”¢ç”Ÿ 1234æ–°å»ºåˆ†é¡žã€æ¨™ç±¤ã€é—œæ–¼é é¢ï¼š$ hexo new page â€˜categoriesâ€™$ hexo new page â€˜tagsâ€™$ hexo new page â€˜aboutâ€™ hexo-generator-category ç”¢ç”Ÿåˆ†é¡žé $ npm install hexo-generator-category --save hexo-generator-tag ç”¢ç”Ÿæ¨™ç±¤é $ npm install hexo-generator-tag --save åƒè€ƒç¶²ç«™Hexoæ­å»ºGitHubåšå®¢ ç³»åˆ—æ–‡ç« Github Pages + Hexoæ­å»ºåšå®¢ç•¶å€‹éƒ¨è½å®¢McK-Note Hexo å®˜ç¶²NexT å®˜ç¶²]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LiveCoding-åˆ‡å€‹åž‚ç›´æ™‚é–“è»¸]]></title>
    <url>%2F2017%2F10%2F12%2Flivecoding-timeline%2F</url>
    <content type="text"><![CDATA[æ•™å­¸ä¾†æºYoutubeï¼šç›´æ’­ - åˆ‡å€‹åž‚ç›´æ™‚é–“è»¸ GitHub åˆ†æ”¯ï¼šhttps://goo.gl/VEbWkm åƒè€ƒç‰ˆåž‹ï¼šhttps://goo.gl/rqjErS èž¢å¹•å¸é¡è‰² Sipï¼šhttps://goo.gl/Vh6YIo LiveCoding å®˜æ–¹ç¶²ç«™ï¼šhttps://goo.gl/weYx5q LiveCoding Youtube é »é“ï¼šhttps://goo.gl/Hyih3u LiveCoding è‡‰æ›¸ç²‰çµ²å°ˆé ï¼šhttps://goo.gl/yhDg0l æŽ’ç‰ˆå°æŠ€å·§ç´€éŒ„ åˆ‡ç‰ˆéŽç¨‹ä¸­ï¼Œå¯å¸¸åˆ©ç”¨æ–°å¢žã€Œå¤–å±¤çš„ç´…æ¡†ç·šã€ï¼Œå…ˆç¢ºèªä½ç½®æ˜¯å¦æ­£ç¢ºï¼Œäº‹å¾Œå†æ‹¿æŽ‰ã€‚ border: 1px solid rgba(255, 0, 0, .3) CSSä¹‹calcå¯åšé‹ç®—å¼é‹ç®— calc(50% â€” 10px / 2) z-index z-index è¨˜å¾—æ­é… position : relative ã€ absolute ä½¿ç”¨ z-index æ•¸å­—è¶Šå¤§çš„åœ¨è¶Šä¸Šé¢ï¼Œåä¹‹å‰‡åœ¨è¶Šä¸‹é¢ è¡Œé«˜ 1234H3&#123; height: 45px; line-height: 45px;&#125; æ·±å…¥ CSS ä¹‹ line-height æ‡‰ç”¨ æ™‚é–“ç´€éŒ„é»žé ­åƒ(10åˆ†é–‹å§‹) é ­åƒ+ç™½è‰²åœ“å¤–æ¡†+é»‘è‰²çš„é™°å½±(12åˆ†30ç§’) æ™‚é–“è»¸çš„ åž‚ç›´ä¸­ç·š ä½ç½®çš„åç§»(14åˆ†30ç§’é–‹å§‹) æŒ‰éˆ•(è¼‰å…¥æ›´å¤š)(28åˆ†19ç§’é–‹å§‹) æ™‚é–“è»¸çš„icon(38åˆ†30ç§’é–‹å§‹) è³‡è¨Šå¡ä¹‹å°ç®­é ­(1æ™‚3åˆ†30ç§’) ä½¿ç”¨ CSS Arrow Pleaseï¼Œå†ä¿®æ”¹éƒ¨ä»½css å°‡ è³‡è¨Šå¡å€å¡Š é–‹å§‹è®Š å·¦å³ æŽ’ç‰ˆ(1æ™‚7åˆ† é–‹å§‹) å¯ç”¨çš„æ–¹æ³•æœ‰ï¼š é‡å°å·¦å³çµ¦ä¸åŒçš„ class ç”¨ js æŽ§åˆ¶ ç”¨ nth-child 12345678910/* contentåº•ä¸‹çš„ç¬¬ä¸€å­å…ƒç´ æ˜¯:&lt;i&gt;ç¬¬äºŒå€‹æ˜¯&lt;button&gt;ç¬¬ä¸‰å€‹æ˜¯&lt;div è³‡è¨Šå¡&gt; *//* å¾žcontentåº•ä¸‹çš„å­å…ƒç´ ï¼Œå¾žç¬¬3å€‹å…ƒç´ é–‹å§‹ä¸¦æ¯æ¬¡åŠ 2çš„å€æ•¸(å¥‡æ•¸) */:nth-child(2n + 3)/* å¾žcontentåº•ä¸‹çš„å­å…ƒç´ ï¼Œå¾žç¬¬4å€‹å…ƒç´ é–‹å§‹ä¸¦æ¯æ¬¡åŠ 2çš„å€æ•¸(å¶æ•¸) */:nth-child(2n + 4) ç”¨ js å‹•æ…‹æ–°å¢žè³‡è¨Šå¡(1h 15åˆ† é–‹å§‹) 123456789101112// åœ¨divåº•ä¸‹// æ–°å¢žimg HTML$('&lt;div /&gt;').append ($('&lt;img /&gt;')// æ–°å¢ž info çš„Class$('&lt;div /&gt;').addClass ('info')// æ–°å¢ž data-time å±¬æ€§$('&lt;div /&gt;').attr ('data-time', "2017-10-10")// æ–°å¢ž ç´”æ–‡å­—$('&lt;div /&gt;').text('æˆ‘æ˜¯å–®ç´”é¡¯ç¤ºçš„æ–‡å­—') è³‡è¨Šå¡ä¹‹åœ–ç‰‡(1æ™‚28åˆ† é–‹å§‹) 123456789101112131415.content &#123; contentå±¬æ€§è¨­å®š .img &#123; imgå±¬æ€§è¨­å®š +h3 &#123; h3å±¬æ€§è¨­å®š-ç‰¹ä¾‹ &#125; &#125; .h3 &#123; h3å±¬æ€§è¨­å®š &#125;&#125; æ³¨æ„ï¼š img åº•ä¸‹æœ‰åŠ ä¸€å€‹ +h3 çš„è¨­å®š å¦å¤– img å¹³è¡Œä¹Ÿæœ‰ä¸€å€‹ h3 çš„è¨­å®š é€™è£¡çš„è§€å¿µç‚º CSSæ¬Šé‡ï¼Œä¸‹åˆ—æœ‰äºŒå€‹ h3 çš„è¨­å®š 1234567img+h3&#123; å±¬æ€§è¨­å®š-ç‰¹ä¾‹&#125;h3&#123; å±¬æ€§è¨­å®š&#125; é›–ç„¶CSSé€šå¸¸éƒ½æ˜¯ æ¬Šé‡ä¸€æ¨£å¤§ çš„è©±ï¼Œå°±æ˜¯ å¾Œé¢ è“‹æŽ‰ å‰é¢ çš„å±¬æ€§ï¼Œä½†æ˜¯ img+h3 æ¬Šé‡ &gt; h3 æ¬Šé‡ï¼Œæ‰€ä»¥ img+h3 ä¸æœƒè¢«å¾Œé¢ å–®ä¸€å€‹h3 å±¬æ€§è“‹æŽ‰ã€‚ CSSæ¬Šé‡ æ”¹å¯« RWDçš„æ ¼å¼(1æ™‚34åˆ†30ç§’) js å¡žå…¥htmlæ–¹å¼ æ”¹å¯«ç”¨ object(jsonæ ¼å¼)(1æ™‚50åˆ† é–‹å§‹)]]></content>
      <categories>
        <category>åˆ‡ç‰ˆ</category>
      </categories>
      <tags>
        <tag>æŽ’ç‰ˆ</tag>
        <tag>LiveCoding</tag>
        <tag>timeline</tag>
        <tag>åˆ‡ç‰ˆ</tag>
        <tag>scss</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tool-gulp]]></title>
    <url>%2F2017%2F10%2F09%2FTool-gulp%2F</url>
    <content type="text"><![CDATA[gulpç’°å¢ƒå®‰è£å®‰è£ Global Gulp ç’°å¢ƒnpm install gulp -g å¦‚æžœç„¡æ³•å®‰è£ Global Gulp ç’°å¢ƒï¼Œè«‹ç”¨ä»¥ä¸‹ä¸¦è¼¸å…¥ç³»çµ±å¯†ç¢¼sudo npm install gulp -g æœ‰æ²’æœ‰åŠ å…¥ -g å·®ç•°åœ¨å“ªè£¡å‘¢ï¼Ÿ æœ‰åŠ å…¥ â€œ-gâ€ï¼šé€™æ˜¯å®‰è£å…¨åŸŸçš„å¥—ä»¶ä¹Ÿå°±æ˜¯å®‰è£åœ¨ç›®å‰çš„é›»è…¦ä¸Šç›®çš„æ˜¯å•Ÿç”¨ â€œgulpâ€ é€™å€‹æŒ‡ä»¤ æ²’æœ‰åŠ å…¥ï¼šé€™æ˜¯ local å¥—ä»¶å®‰è£çš„æŒ‡ä»¤æ˜¯è£åœ¨ç›®å‰çš„å°ˆæ¡ˆè³‡æ–™å¤¾å…§ç›®çš„æ˜¯åŸ·è¡Œ gulp æ™‚å¯ä»¥å–ç”¨çš„å¥—ä»¶ ç¸½çµï¼šåªæœ‰ npm install gulp -g æ‰æœƒä½¿ç”¨åˆ°å…¨åŸŸçš„æŒ‡ä»¤ï¼Œåœ¨æ•™å­¸ä¸­ï¼Œ -g ä¹Ÿåªæœƒå‡ºç¾ä¸€æ¬¡å–”ï½žå…¶é¤˜ gulp å¥—ä»¶åªæœƒç”¨åˆ° â€œnpm install â€“saveâ€ã€‚ gulpè¨­å®š å»ºç«‹ npm ç’°å¢ƒ (package.jsonç”¨æ–¼ç´€éŒ„å®‰è£ä»€éº¼å¥—ä»¶) npm init å»ºç«‹ å°ˆæ¡ˆç”¨çš„gulpç’°å¢ƒ npm install gulp --save-dev è¨»1ï¼šæœ€å¾Œé¢åŠ  â€“save ä»£è¡¨å°‡å®‰è£ç´€éŒ„ï¼Œè¨˜åœ¨ package.jsonè¨»2ï¼šå®‰è£å®Œå¾Œï¼Œæœƒç”¢ç”Ÿnode_modules è³‡æ–™å¤¾(è£¡é¢æœƒæœ‰è¨±å¤šnpmçš„ç›¸ä¾å¥—ä»¶) æ–°å¢žä¸€å€‹æª”æ¡ˆï¼šgulpfile.js (ç”¨æ–¼æ’°å¯«é åŸ·è¡Œçš„ä»»å‹™) å¯æ­é… Bower ä¸€èµ·å»ºç½®é–‹ç™¼ç’°å¢ƒã€‚ 1234567npm install gulp-sass --save -&gt;çµ¦ã€Œæ­£å¼ç’°å¢ƒã€ä½¿ç”¨npm install gulp-sass --save-dev -&gt;çµ¦ã€Œé–‹ç™¼ç’°å¢ƒã€ä½¿ç”¨--save-devæ˜¯ä½ é–‹ç™¼æ™‚å€™ä¾è³´çš„æ±è¥¿ï¼Œ--saveæ˜¯ä½ ç™¼å¸ƒä¹‹å¾Œé‚„ä¾è³´çš„æ±è¥¿ã€‚æ¯”å¦‚ï¼Œä½ å¯«ES6ä»£ç¢¼ï¼Œå¦‚æžœä½ æƒ³ç·¨è­¯æˆES5ç™¼å¸ƒé‚£éº¼babelå°±æ˜¯devDependenciesã€‚å¦‚æžœä½ ç”¨äº†jQueryï¼Œç”±æ–¼ç™¼å¸ƒä¹‹å¾Œé‚„æ˜¯ä¾è³´jQueryï¼Œæ‰€ä»¥æ˜¯dependenciesã€‚ gulp+bower è¨­å®šç¯„æœ¬å·²å»ºç½®å®Œæˆç¯„æœ¬ï¼šgulp-setting ç•¶ä¸Šè¿°éƒ½å·²è¨­å®šå¥½ï¼Œåªè¦å°‡è¨­å®šæª”æ”¾ç½®æ–°å°ˆæ¡ˆè³‡æ–™å¤¾å¾Œï¼Œä¾åºåŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤å³å¯ 123bower installnmp installgulp]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>tool</tag>
        <tag>gulp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS - floatæŽ’ç‰ˆå•é¡Œ]]></title>
    <url>%2F2017%2F10%2F04%2FCSS-float%2F</url>
    <content type="text"><![CDATA[ç´€éŒ„ä¸€ä¸‹ floatæŽ’ç‰ˆå•é¡Œ å•é¡Œï¼šåœ¨ç·´ç¿’Bootstrap3å°‡è¡¨å–®é©—è­‰åŠŸèƒ½åŠ é€²åŽ»ï¼Œå»é‡åˆ°ç•«é¢ã€Œè·‘ç‰ˆã€çš„å•é¡Œï¼Œç›®å‰æ˜¯æŸ¥åˆ° ã€Œåç¨±ã€åº•ä¸‹çš„&lt;div class=&quot;help-block with-errors&quot;&gt;&lt;/div&gt;æ‰€å°Žè‡´ã€‚ å¯èƒ½åŽŸå› ç‚º floatï¼Ÿ marginï¼Ÿ å•é¡Œé»žï¼š1.å–®é»ž ã€Œåç¨±ã€æ¬„ä½ï¼Œå°±æœƒé€ æˆä¸‹æ–¹æ¬„ä½è·‘ç‰ˆã€‚2.è‹¥åŒæ™‚æœ‰é©—è­‰ å·¦å³äºŒé‚Šï¼Œæ¬„ä½åˆæœ‰å°é½Šäº†ã€‚ codepenï¼šæŽ’ç‰ˆåç§»ç¨‹å¼ç¢¼è§£æ±ºï¼š å¦‚ä¸Šåœ–æ‰€è¿°ï¼Œç¬¬ä¸€å€‹ã€Œåç¨±ã€è…³è®Šé•·ï¼Œé€ æˆç¬¬ä¸‰å€‹ã€ŒEmailã€æŽ’ä¸é€²åŽ»è¢«å¾€å¾ŒæŽ¨ï¼Œå°Žè‡´ç¬¬å››å€‹ã€Œè¯çµ¡é›»è©±ã€ä¹Ÿè¢«å¾€å¾ŒæŽ¨æ“ ï¼Œé€ æˆæŽ’ç‰ˆæ­ªæŽ‰ã€‚ è§£æ³•ç‚º å¤–å±¤ç”¨ row åŒ…èµ·ä¾†ï¼Œæ¸…é™¤floatçš„æµ®å‹•(clearfix)ã€‚ codepenï¼šä¿®æ­£å¾Œç¨‹å¼ç¢¼]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>æŽ’ç‰ˆ</tag>
        <tag>float</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS - Flexbox]]></title>
    <url>%2F2017%2F09%2F30%2FCSS-Flexbox%2F</url>
    <content type="text"><![CDATA[å¸¸ç”¨å±¬æ€§ æ¦‚å¿µåœ– Flex å¤–å®¹å™¨å±¬æ€§ï¼šflex-directionï¼šæ±ºå®š flex ä¸»è»¸ç·š æ–¹å‘[ row | row-reverse | column | column-reverse ] justify-contentï¼šä¸»è¦è»¸ç·š(å·¦å³)çš„å°é½Š[ flex-start | flex-end | center | space-between | space-around ] align-itemsï¼šäº¤éŒ¯è»¸ç·š(ä¸Šä¸‹)çš„å°é½Š[ flex-start | flex-end | center | baseline | stretch ] Flex å…§å…ƒä»¶å±¬æ€§ï¼šalign-selfï¼šå–®ä¸€å€‹ç‰©ä»¶çš„äº¤éŒ¯è»¸å°é½Š[ auto | flex-start | flex-end | center | baseline | stretch ] åƒè€ƒç¶²ç«™åœ–è§£ï¼šCSS Flex å±¬æ€§ä¸€é»žä¹Ÿä¸é›£ CSS Flexbox Layout å­¸ç¿’å¿ƒå¾—ç­†è¨˜]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>Flexbox</tag>
        <tag>æŽ’ç‰ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS - æŽ’ç‰ˆé‡é»žæ•´ç†]]></title>
    <url>%2F2017%2F09%2F30%2FCSS-Layout%2F</url>
    <content type="text"><![CDATA[[displayå±¬æ€§]æ¯ä¸€å€‹htmlæ¨™ç±¤éƒ½æœ‰ä¸€å€‹é è¨­çš„displayå±¬æ€§ï¼Œé€šå¸¸æ˜¯block(å€å¡Šå…ƒç´ )æˆ–è€…æ˜¯inline(è¡Œå…§å…ƒç´ )ã€‚ blockï¼šæœƒå¾žæ–°çš„ä¸€è¡Œé–‹å§‹ä¸”åœ¨å æ“šç¶²é çš„ä¸€æ•´è¡Œï¼Œå…·è‡ªå·±å€‹å¯¬é«˜ã€‚ inlineï¼šç„¡æ³•è¨­å®šå¯¬é«˜ï¼Œä¾ç…§åŒ…å«çš„å…§å®¹å…ˆæ˜¯å¯¬åº¦ã€‚ inline-blockï¼šå¯è¨­å®šå¯¬é«˜ï¼Œä½†åˆä¸å æ“šä¸€æ•´è¡Œã€‚ noneï¼šä¸é¡¯ç¤ºï¼Œå¯ç”¨ä¾†è·Ÿä½¿ç”¨è€…äº’å‹•ã€‚ [å®šä½] positionï¼Œè¨­å®šå€å¡Šçš„åº§æ¨™æ–¹å¼ã€‚å¦‚ä¸‹[position] left/top/right/bottomï¼Œè¨­å®šå€å¡Šçš„å·¦/ä¸Š/å³/ä¸‹çš„åº§æ¨™ã€‚ z-indexï¼Œè¨­å®šå€å¡Šçš„é‡ç–Šæ™‚çš„é¡¯ç¤ºå„ªå…ˆæ¬Šã€‚ overflowï¼Œç•¶å…§å®¹è¶…å‡ºå€å¡Šç¯„åœæ™‚å€™çš„é¡¯ç¤ºæ–¹å¼ã€‚ [position] static:é è¨­ï¼Œå„å…ƒç´ ä¸ç”¨è¨­å®šå³æ˜¯staticï¼Œéµå®ˆç¶²é è¦å‰‡ç”±å·¦è‡³å³ï¼Œç”±ä¸Šè‡³ä¸‹ã€‚ relative:ä¾ç…§åŽŸä¾†å­˜åœ¨ä½ç½®é€²è¡Œèª¿æ•´ã€‚absolute:æœƒæ‰¾ä¸Šä¸€å±¤(æ‰¾ä¸åˆ°å†å¾€ä¸Šæ‰¾)æœ‰èª°è¨­å®šéŽ positionï¼Œä¾ç…§é€™å€‹çˆ¶å…ƒç´ é€²è¡Œä½ç½®èª¿æ•´ï¼Œå¦‚æžœéƒ½æ²’æœ‰é‚£å°±ä¾bodyé€²è¡Œèª¿æ•´ã€‚ fixed:ä¾ç›®å‰çœ‹å¾—ç¶²é é€²è¡Œå®šä½ã€‚è‹¥æ˜¯è¦å°é½Šå®¹å™¨å…§ï¼ˆdivï¼‰çš„å°ä½ç½®ï¼ŒæŽ¡ç”¨absoluteæ¯”è¼ƒæ–¹ä¾¿ã€‚ä¸ç”¨ç‰¹åˆ¥è¨ˆç®—è·Ÿçˆ¶å®¹å™¨çš„è·é›¢ã€‚ [float]è¨­å®šå€å¡Šé–“çš„æµå‹•æ–¹å¼ï¼Œåƒæ˜¯docç•¶ä¸­çš„æ–‡ç¹žåœ–ã€‚ left:å¾€ç¶²é å·¦é‚Šæµå‹•ã€‚ right:å¾€ç¶²é å³é‚Šæµå‹•ã€‚ clear:both ï¼šæ¸…é™¤æµå‹•é—œä¿‚ã€‚ [å€å¡Š] widthï¼Œè¨­å®šå€å¡Šå¯¬åº¦ã€‚width:1080px; heightï¼Œè¨­å®šå€å¡Šé«˜åº¦ã€‚height:500px; floatï¼Œè¨­å®šå€å¡Šæµå‹•æ–¹å‘ã€‚float:left; clearï¼Œè§£é™¤å€å¡Šæµå‹•ã€‚ marginï¼Œè¨­å®šå€å¡Šå¤–é–“è·é›¢ã€‚å¦‚ä¸‹[margin]ã€‚ paddingï¼Œè¨­å®šå€å¡Šå…§è·ã€‚åŒmarginã€‚ [marginè¨­å®š] margin:10px 20px 30px 40px; ä¾åºç‚ºä¸Š å³ ä¸‹ å·¦ margin:10xp 20px 30px; ä¸Š å³ ä¸‹ ?â€“&gt;æ‰¾å°é¢çš„ä¾†è£œ,æ‰€ä»¥æ˜¯æ‰¾å³çš„è¨­å®šä¾†è£œ margin:10px 20px; ä¾åºç‚ºä¸Šä¸‹ å·¦å³ margin:10px; å…¨éƒ½ä¸€æ¨£ [èƒŒæ™¯] background-colorï¼ŒèƒŒæ™¯é¡è‰² background-imageï¼ŒèƒŒæ™¯åœ–æ¡ˆ background-attachmentï¼ŒèƒŒæ™¯æ˜¯å¦å›ºå®šä¸å‹• background-repeatï¼ŒèƒŒæ™¯æ˜¯å¦é‡è¤‡ background-positionï¼ŒèƒŒæ™¯ä½ç½® [é‚Šæ¡†] border-colorï¼Œå››é‚Šçš„é¡è‰² border-styleï¼Œå››é‚Šçš„æ¨£å¼ border-widthï¼Œå››é‚Šçš„å¯¬åº¦ border-top-colorï¼Œä¸Šé‚Šæ¡†çš„é¡è‰²ï¼Œtopå¯ä»¥ç½®æ›æˆç‚ºrightã€bottomã€leftã€‚ border-top-styleï¼Œä¸Šé‚Šæ¡†çš„æ¨£å¼ï¼Œtopå¯ä»¥ç½®æ›æˆç‚ºrightã€bottomã€leftã€‚ border-top-widthï¼Œä¸Šé‚Šæ¡†çš„å¯¬åº¦ï¼Œtopå¯ä»¥ç½®æ›æˆç‚ºrightã€bottomã€leftã€‚ border-topï¼Œä¸Šé‚Šæ¡†çš„é¡è‰²ã€æ¨£å¼èˆ‡å¯¬åº¦ã€‚topå¯ä»¥ç½®æ›æˆç‚ºrightã€bottomã€leftã€‚ borderï¼Œå¯¬åº¦ã€æ¨£å¼ã€é¡è‰²ã€‚ [æ–‡å­—] font-familyï¼Œè¨­å®šå­—åž‹ font-sizeï¼Œå­—é«”å¤§å° colorï¼Œå­—é«”é¡è‰² line-heightï¼Œæ–‡å­—è¡Œé«˜ font-weightï¼Œæ–‡å­—ç²—é«” text-decorationï¼Œæ–‡å­—åº•ç·š word-spacingï¼Œé–“è· letter-spacingï¼Œé–“è· text-alingï¼Œæ°´å¹³å°é½Šæ–¹å‘ text-indentï¼Œå­—é¦–ç¸®æŽ’]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>æŽ’ç‰ˆ</tag>
        <tag>Layout</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MarkDownå¸¸ç”¨å¯«æ³•(ç½®é ‚)]]></title>
    <url>%2F2017%2F09%2F30%2FMarkDownWrite%2F</url>
    <content type="text"><![CDATA[å°‡å¸¸ç”¨çš„ MarkDown ç´€éŒ„åœ¨é€™ï¼Œ Ctrl + C ã€ Ctrl + V æ¯”è¼ƒæ–¹ä¾¿ã€‚ æ–‡å­—åŠ é¡è‰²è—è‰²å­— 1&lt;font color=&quot;blue&quot;&gt;è—è‰²å­—&lt;/font&gt; ç´…è‰²çš„å­— 1&lt;font color=&quot;red&quot;&gt;ç´…è‰²çš„å­—&lt;/font&gt; 20pxçš„å­— 1&lt;font style=&quot;color:#f90;font-size:20px;&quot;&gt;20pxçš„å­—&lt;/font&gt; MARKDOWN/HTMLå¸¸ç”¨èªžæ³•å°çµ æ–‡å­—å¢žåŠ èƒŒæ™¯è‰²å¡Šç«™ç‚¹é…ç½®æ–‡ä»¶ ä¸»é¢˜é…ç½®æ–‡ä»¶ ç«™ç‚¹é…ç½®æ–‡ä»¶ ä¸»é¢˜é…ç½®æ–‡ä»¶ 1234&lt;span id="inline-blue"&gt;ç«™ç‚¹é…ç½®æ–‡ä»¶&lt;/span&gt;&lt;span id="inline-purple"&gt;ä¸»é¢˜é…ç½®æ–‡ä»¶&lt;/span&gt;&lt;span id="inline-yellow"&gt;ç«™ç‚¹é…ç½®æ–‡ä»¶&lt;/span&gt;&lt;span id="inline-green"&gt;ä¸»é¢˜é…ç½®æ–‡ä»¶&lt;/span&gt; è‡ªå®šç¾©æ¨£å¼ä¸‹åˆ— è‡ªå®šç¾©æ¨£å¼ï¼Œåƒè€ƒ è¶…æ·±åº¦ä¼˜åŒ– æ–‡æœ¬ç½®ä¸­å¼•ç”¨æˆ‘ä¸æ˜¯ä¸€å€‹å‰å¤§çš„ç¨‹å¼è¨­è¨ˆå¸«,æˆ‘åªæ˜¯ä¸€å€‹å…·æœ‰è‰¯å¥½ç¿’æ…£çš„å„ªç§€ç¨‹å¼è¨­è¨ˆå¸«ã€‚ 123&#123;% cq %&#125;æˆ‘ä¸æ˜¯ä¸€å€‹å‰å¤§çš„ç¨‹å¼è¨­è¨ˆå¸«,æˆ‘åªæ˜¯ä¸€å€‹å…·æœ‰è‰¯å¥½ç¿’æ…£çš„å„ªç§€ç¨‹å¼è¨­è¨ˆå¸«ã€‚&#123;% endcq %&#125; æ•°å­—å¡Š1.å·¦é‚Šæ˜¯æ•ˆæžœã€‚2.æˆ‘æ˜¯ç¬¬äºŒè¡Œã€‚ å®¢åˆ¶CSSæ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/source/css/_custom/custom.styl12&lt;span id="inline-toc"&gt;1.&lt;/span&gt;&lt;span id="inline-toc"&gt;2.&lt;/span&gt; labelæ¨™ç±¤default 1&#123;% label default@default %&#125; primary 1&#123;% label primary@primary %&#125; success 1&#123;% label success@success %&#125; info 1&#123;% label info@info %&#125; warning 1&#123;% label warning@warning %&#125; danger 1&#123;% label danger@danger %&#125; note æ¨™ç±¤default no-icon 1&lt;div class="note default no-icon"&gt;default no-icon&lt;/div&gt; default 1&lt;div class="note default"&gt;default&lt;/div&gt; primary 1&lt;div class="note primary"&gt;primary&lt;/div&gt; success 1&lt;div class="note success"&gt;success&lt;/div&gt; info 1&lt;div class="note info"&gt;info&lt;/div&gt; warning 1&lt;div class="note warning"&gt;warning&lt;/div&gt; danger 1&lt;div class="note danger"&gt;danger&lt;/div&gt; å¼•ç”¨å†…å®¹ å®¢åˆ¶CSSæ–‡ä»¶ä½ç½®ï¼š~/blog/themes/next/source/css/_custom/custom.styl1&lt;blockquote class="question"&gt;å†…å®¹&lt;/blockquote&gt; ç¨‹å¼ç¢¼è¡Œå…§height: 50px; 1`height: 50px;` å€æ®µå€æ®µå¯«æ³•12345``` [language] [title] [url] [link-text]- [language] æ˜¯ä»£ç¢¼èªžè¨€çš„åç¨±ï¼Œç”¨ä¾†è¨­ç½®ä»£ç¢¼å¡Šé¡è‰²é«˜äº®ï¼Œéžå¿…é ˆï¼›- [title] æ˜¯é ‚éƒ¨å·¦é‚Šçš„èªªæ˜Žï¼Œéžå¿…é ˆï¼›- [url] æ˜¯é ‚éƒ¨å³é‚Šçš„è¶…éˆæŽ¥åœ°å€ï¼Œéžå¿…é ˆï¼›- [link text] å¦‚å®ƒçš„å­—é¢æ„æ€ï¼Œè¶…éˆæŽ¥çš„åç¨±ï¼Œéžå¿…é ˆã€‚ ä¸Šè¿°4é …æ‡‰è©²æ˜¯æ ¹æ“š ç©ºæ ¼ ä¾†åˆ†éš”ï¼Œè€Œä¸æ˜¯ []ï¼Œæ•…è«‹ä¸è¦åŠ  []ã€‚é™¤éžå¦‚æžœä½ æƒ³å¯«å¾Œé¢å…©å€‹ï¼Œä½†ä¸æƒ³å¯«å‰é¢å…©å€‹ï¼Œé‚£éº¼å°±å¿…é ˆåŠ  [] äº†ï¼Œè¦é€™æ¨£å¯«ï¼š [] [] [url] [link text]ã€‚ MarkDownå¯«æ³•ï¼š CSS12345678``` CSS.container &#123; max-width: 960px; margin: 0 auto; /* èµ·æ‰‹å¼ */ margin-top: 10px;`&#125;``` js12345678910111213``` js.container &#123; function checkList(e) &#123; var num = e.target.dataset.num; // console.log(e.target.nodeName); if (e.target.nodeName !== &apos;LI&apos;) &#123; return &#125;; country.splice(num, 1); updateList(); &#125;&#125;``` å¯æ”¯æ´çš„èªžæ³•ï¼š é€£çµ æ’å…¥åœ–ç‰‡ å…§éƒ¨åœ–ç‰‡ 1&#123;% asset_img logo.png logo %&#125; å¤–éƒ¨åœ–ç‰‡ 1![Mario](https://goo.gl/2Dty9K) æ–‡å­—è¶…é€£çµ More info: Writing Googleé€£çµï¼šGoogle 123More info: [Writing](https://hexo.io/docs/writing.html)Googleé€£çµï¼š[Google](https://www.google.com.tw/) é …ç›®æ¨™ç±¤ ç¬¦è™Ÿ åºåˆ—1 åºåˆ—2 åºåˆ—3 123* åºåˆ—1* åºåˆ—2* åºåˆ—3 Check åºåˆ—1 åºåˆ—2 åºåˆ—3 åºåˆ—4 1234- [ ] åºåˆ—1- [ ] åºåˆ—2- [ ] åºåˆ—3- [ ] åºåˆ—4 æ•¸å­— åºåˆ—1 åºåˆ—2 åºåˆ—3 åºåˆ—4 12341. åºåˆ—12. åºåˆ—23. åºåˆ—34. åºåˆ—4 é‡é»žæ¨™ç¤ºStrong emphasis, aka bold, with asterisks or underscores. Combined emphasis with asterisks and underscores. Strikethrough uses two tildes. Scratch this. 12345Strong emphasis, aka bold, with **asterisks** or __underscores__.Combined emphasis with **asterisks and _underscores_**.Strikethrough uses two tildes. ~~Scratch this.~~]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>MarkDown</tag>
      </tags>
  </entry>
</search>
